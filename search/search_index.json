{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\u9996\u9875","text":"welcome<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;map&gt;\n\nclass PersonalProfile {\nprivate:\n    std::string name;\n    std::string occupation;\n    std::vector&lt;std::string&gt; interests;\n    std::map&lt;std::string, std::string&gt; contact;\n\npublic:\n    PersonalProfile() {\n        name = \"peiyuzou\";\n        occupation = \"game programmer\";\n        interests = {\n            \"game\", \"game dev\", \"coffee\",\n            \"hotpot\", \"bbq\", \"Anything fun\"\n        };\n        contact[\"GitHub\"] = \"https://github.com/peiyuzou\";\n        contact[\"Email\"] = \"18280318713@email.com\";\n    }\n};\n\nint main() {\n    std::cout &lt;&lt; \"Thanks for visit, hope it's helpful to you!\" &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/01_%E7%AE%97%E6%95%B0%E9%80%BB%E8%BE%91%E5%8D%95%E5%85%83/","title":"01.\u7b97\u6570\u903b\u8f91\u5355\u5143","text":"<p>\u7b97\u6570\u903b\u8f91\u5355\u5143\uff0c\u901a\u5e38\u53eb\u505a ALU\uff08Arithmetic &amp; Logic Unit\uff09\uff0c\u5b83\u5305\u542b\u4e24\u4e2a\u5355\u5143\uff1a\u7b97\u6570\u5355\u5143\u548c\u903b\u8f91\u5355\u5143</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/01_%E7%AE%97%E6%95%B0%E9%80%BB%E8%BE%91%E5%8D%95%E5%85%83/#_1","title":"\u7b97\u6570\u5355\u5143","text":"<p>\u7b97\u6570\u5355\u5143\u8d1f\u8d23\u4e86\u8ba1\u7b97\u673a\u7684\u6240\u6709\u7b97\u6570\u8ba1\u7b97\uff0c\u4e86\u89e3\u5b83\u9700\u8981\u5148\u7406\u89e3\u534a\u52a0\u5668\u548c\u5168\u52a0\u5668</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/01_%E7%AE%97%E6%95%B0%E9%80%BB%E8%BE%91%E5%8D%95%E5%85%83/#_2","title":"\u534a\u52a0\u5668","text":"<p>\u601d\u8003\u6211\u4eec\u5728\u5355\u4e2a <code>bit\uff08\u4f4d\uff09</code> \u4e0a\u505a\u4e8c\u8fdb\u5236\u52a0\u6cd5\uff1a</p> <p></p> <p>\u4e8c\u8fdb\u5236\u76f8\u52a0\u8868\u683c</p> <p>\u52a0\u6cd5\u975e\u5e38\u7b80\u5355\uff0c\u4f46\u662f\u7ed3\u679c\u65e0\u6cd5\u7528\u5355\u4e2a\u4f4d\u5b58\u50a8\uff0c\u56e0\u4e3a <code>1 + 1</code> \u7684\u7ed3\u679c\u5e26\u6709\u8fdb\u4f4d\uff08Carry\uff09\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u6709\u4e24\u4e2a\u8f93\u51fa\u503c\uff1a</p> <p></p> <p>\u534a\u52a0\u5668\u8868\u683c</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u62bd\u8c61\u51fa\u4e00\u4e2a <code>\u534a\u52a0\u5668\uff08half adder\uff09</code>\uff1a</p> <p></p> <p>\u534a\u52a0\u5668</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/01_%E7%AE%97%E6%95%B0%E9%80%BB%E8%BE%91%E5%8D%95%E5%85%83/#_3","title":"\u5168\u52a0\u5668","text":"<p>\u5982\u679c\u6211\u4eec\u8981\u5b9e\u73b0\u591a\u4f4d\u6570\u7684\u76f8\u52a0\uff0c\u90a3\u4e48\u9664\u4e86\u6700\u4f4e\u4f4d\uff0c\u5176\u4f59\u4f4d\u90fd\u8981\u5904\u7406\u8fd9\u4e2a\u8fdb\u4f4d\uff0c\u6240\u4ee5\u8f93\u5165\u7684\u503c\u4f1a\u53d8\u6210\u4e09\u4e2a\uff1a</p> <p></p> <p>\u5168\u52a0\u5668\u8868\u683c</p> <p>\u6240\u4ee5\u6211\u4eec\u53c8\u62bd\u8c61\u51fa\u4e86\u4e00\u4e2a <code>\u5168\u52a0\u5668\uff08full adder\uff09</code>\uff1a</p> <p></p> <p>\u5168\u52a0\u5668</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/01_%E7%AE%97%E6%95%B0%E9%80%BB%E8%BE%91%E5%8D%95%E5%85%83/#8","title":"\u5236\u4f5c 8 \u4f4d\u52a0\u6cd5\u5668","text":"<p>\u901a\u8fc7\u534a\u52a0\u5668\u548c\u5168\u52a0\u5668\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u591a\u4f4d\u8868\u793a\u7684\u6570\u8fdb\u884c\u52a0\u6cd5\u8fd0\u7b97\uff0c\u7531\u4e8e\u6700\u4f4e\u4f4d\u4e0d\u8ba1\u7b97\u8fdb\u4f4d\uff0c\u6240\u4ee5\u4f7f\u7528\u534a\u52a0\u5668\u53bb\u5904\u7406\uff0c\u5269\u4f59\u7684\u4f4d\u4f7f\u7528\u5168\u52a0\u5668\uff1a</p> <p></p> <p>8 \u4f4d\u884c\u6ce2\u8fdb\u4f4d\u52a0\u6cd5\u5668</p> <p>\u7531\u6b64\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a 8 \u4f4d\u884c\u6ce2\u8fdb\u4f4d\u52a0\u6cd5\u5668\uff088-bit ripple carry adder\uff09</p> <p>\u6ce8\u610f\u6700\u9ad8\u4f4d\u4ecd\u7136\u6709\u4e00\u4e2a\u8fdb\u4f4d\uff0c\u5f53\u8fd9\u4e2a\u8fdb\u4f4d\u4e3a 1\uff0c\u4ee3\u8868\u4e24\u4e2a\u6570\u5b57\u4e4b\u548c\u592a\u5927\uff0c\u53d1\u751f\u4e86\u6ea2\u51fa</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/01_%E7%AE%97%E6%95%B0%E9%80%BB%E8%BE%91%E5%8D%95%E5%85%83/#alu","title":"ALU \u7684\u5176\u4ed6\u7b97\u6570\u80fd\u529b","text":"<p>\u5305\u542b\u4e0a\u9762\u90e8\u5206\u8bf4\u7684\u52a0\u6cd5\uff0cALU \u4e00\u822c\u8fd8\u53ef\u4ee5\u505a\u4ee5\u4e0b\u7684\u8fd0\u7b97\uff1a</p> <ul> <li>\u52a0\u6cd5</li> <li>\u5e26\u8fdb\u4f4d\u7684\u52a0\u6cd5</li> <li>\u51cf\u6cd5</li> <li>\u5e26\u501f\u4f4d\u7684\u51cf\u6cd5</li> <li>\u6b63\u8d1f\u53d6\u53cd</li> <li>\u81ea\u589e</li> <li>\u81ea\u51cf</li> <li>\u6570\u5b57\u65e0\u6539\u53d8\uff0c\u901a\u8fc7\uff08All bits of A are passed through unmodified\uff09</li> </ul> <p>\u5bf9\u4e8e\u7b80\u5355\u7684 ALU \u6765\u8bf4\uff0c\u5b83\u4eec\u6ca1\u6709\u80fd\u76f4\u63a5\u5904\u7406\u4e58\u6cd5\u548c\u9664\u6cd5\u7684\u7b97\u6570\u5355\u5143\uff0c\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u591a\u6b21\u7b80\u5355\u7684\u8fd0\u7b97\u6765\u8fbe\u5230\u76ee\u7684\uff0c\u6bd4\u5982 <code>12 x 5</code> \u53d8\u4e3a <code>12 + 12 + 12 + 12 + 12</code>\uff0c\u800c\u73b0\u4ee3\u8ba1\u7b97\u7684 CPU \u6bd4\u8f83\u5148\u8fdb\uff0c\u5b83\u4eec\u5177\u5907\u4e86\u4e13\u95e8\u505a\u4e58\u9664\u6cd5\u7684\u7b97\u6570\u5355\u5143</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/01_%E7%AE%97%E6%95%B0%E9%80%BB%E8%BE%91%E5%8D%95%E5%85%83/#_4","title":"\u903b\u8f91\u5355\u5143","text":"<p>\u903b\u8f91\u5355\u5143\u7528\u6765\u5904\u7406\u4e00\u4e9b\u903b\u8f91\u8fd0\u7b97\uff0c\u6bd4\u5982 <code>AND</code>\u3001<code>OR</code>\u3001<code>NOT</code>\u3001<code>XOR</code> \u7b49\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e8e\u505a\u4e00\u4e9b\u7b80\u5355\u7684\u6570\u503c\u6d4b\u8bd5\uff0c\u6bd4\u5982\u68c0\u67e5 ALU \u7684\u8f93\u51fa\u662f\u5426\u4e3a 0</p> <p></p> <p>\u68c0\u67e5 ALU \u8f93\u51fa\u662f\u5426\u4e3a 0 \u7684\u7535\u8def</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/01_%E7%AE%97%E6%95%B0%E9%80%BB%E8%BE%91%E5%8D%95%E5%85%83/#alu_1","title":"ALU \u7684\u62bd\u8c61","text":"<p>\u4e00\u822c\u5de5\u7a0b\u5e08\u4f7f\u7528\u4e0b\u56fe\u7684 \"V\" \u578b\u56fe\u6807\u8868\u793a\u4e00\u4e2a ALU \uff1a</p> <p></p> <p>ALU</p> <p>ALU \u8981\u6c42\u6709\u4e24\u4e2a 8 \u4f4d\u7684\u8f93\u5165\u503c\uff0c\u53e6\u5916\u8fd8\u8981 4 \u4f4d\u7684\u64cd\u4f5c\u7801\uff0c\u4ee5\u6b64\u6765\u786e\u5b9a\u600e\u4e48\u5904\u7406\u4e24\u4e2a\u51fd\u6570\u7684\u8ba1\u7b97\uff08\u6bd4\u5982 1000 \u4ee3\u8868\u76f8\u52a0\uff09\uff0c\u6700\u7ec8\u8f93\u51fa\u4e00\u4e2a 8 \u4f4d\u7684\u503c\uff0c\u53e6\u5916\u8fd8\u6709\u4e00\u4e9b\u6807\u8bb0\u4f4d\uff08\u5355\u4e2a bit\uff09\uff0c\u6bd4\u5982\u56fe\u4e2d\u7684\u4e09\u4e2a\uff1a</p> <ul> <li>Overflow\uff1a\u8fd0\u7b97\u662f\u5426\u53d1\u751f\u4e86\u6ea2\u51fa</li> <li>Zero\uff1a\u8fd0\u7b97\u7ed3\u679c\u662f\u5426\u4e3a\u96f6\uff0c\u5224\u65ad\u4e24\u4e2a\u6570\u503c\u662f\u5426\u76f8\u7b49\u7684\u65f6\u5019\u5f88\u6709\u7528</li> <li>Negative\uff1a\u8fd0\u7b97\u7ed3\u679c\u662f\u5426\u4e3a\u8d1f\uff0c\u5224\u65ad\u5927\u5c0f\u65f6\u6709\u7528</li> </ul> <p>\u4e00\u4e9b\u9ad8\u7ea7\u7684 ALU \u8fd8\u4f1a\u6709\u5176\u4ed6\u7684 Flags\uff0c\u4f46\u662f\u8fd9\u4e09\u4e2a\u662f\u6bd4\u8f83\u901a\u7528\u7684</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/02_%E5%AF%84%E5%AD%98%E5%99%A8%E5%92%8C%E5%86%85%E5%AD%98/","title":"02.\u5bc4\u5b58\u5668\u548c\u5185\u5b58","text":"<p>\u8ba1\u7b97\u673a\u7684\u5b58\u50a8\u5206\u4e3a\u968f\u673a\u8bbf\u95ee\u5b58\u50a8\uff08RAM\uff09\u548c\u6301\u4e45\u5b58\u50a8\uff0c\u8fd9\u4e00\u8282\u8ba8\u8bba\u7684\u662f\u524d\u8005\uff0c\u5373\uff1a\u8ba1\u7b97\u673a\u5728\u901a\u7535\u7684\u72b6\u6001\u4e0b\uff0c\u5982\u4f55\u5b58\u50a8\u6570\u636e</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/02_%E5%AF%84%E5%AD%98%E5%99%A8%E5%92%8C%E5%86%85%E5%AD%98/#1-bit","title":"\u5982\u4f55\u5b58\u50a8 1 bit \u7684\u6570\u636e","text":"<p>\u8ba1\u7b97\u673a\u901a\u7535\u540e\u7684\u7535\u6d41\u90fd\u662f\u5355\u5411\u6d41\u52a8\u7684\uff0c\u6240\u4ee5\u8981\u5728\u901a\u7535\u65f6\u5b58\u50a8\u7535\u4fe1\u53f7\uff0c\u5de5\u7a0b\u5e08\u5bf9\u903b\u8f91\u7535\u8def\u505a\u4e86\u5904\u7406\uff0c\u8ba9\u8f93\u51fa\u7535\u4fe1\u53f7\u56de\u6d41\u5230\u5176\u4e2d\u4e00\u4e2a\u8f93\u51fa\uff1a</p> <p></p> <p>\u53ef\u4ee5\u5b58\u50a8 1 \u548c 0 \u7684\u7535\u8def</p> <p>\u4e0a\u9762\u7684\u4e24\u4e2a\u7535\u8def\u5206\u522b\u53ef\u4ee5\u5b58\u50a8 1 \u548c 0\uff0c\u4f46\u662f\u8fd9\u8fd8\u4e0d\u591f\uff0c\u6bd5\u7adf\u5b83\u4eec\u7684\u5b58\u50a8\u90fd\u662f\u4e0d\u53ef\u6539\u53d8\u7684\uff0c\u4e3a\u6b64\uff0c\u903b\u8f91\u7535\u8def\u88ab\u7ec4\u5408\u4e86\u8d77\u6765\uff1a</p> <p></p> <p>AND-OR \u9501\u5b58\u5668</p> <p>\u8fd9\u4e2a\u7535\u8def\u88ab\u79f0\u4e3a\u9501\u5b58\u5668\uff08AND-OR Latch\uff09\uff0c\u662f\u56e0\u4e3a\u5b83\u9501\u4f4f\u4e86\u4e00\u4e2a\u4f4d\u7684\u503c\uff0c\u8fd9\u6837\u5c31\u771f\u6b63\u610f\u4e49\u4e0a\u5b58\u50a8\u4e86 1 bit \u7684\u503c\uff01</p> <p>\u4f46\u662f\u4f7f\u7528 <code>\u8bbe\u7f6e</code> \u548c <code>\u590d\u4f4d</code> \u4e24\u6761\u7ebf\u6765\u8f93\u5165\u6bd4\u8f83\u96be\u4ee5\u7406\u89e3\uff0c\u6613\u7528\u7684\u7ed3\u6784\u5e94\u8be5\u662f\u4e0b\u9762\u8fd9\u6837\u7684\uff1a</p> <p></p> <p>\u66f4\u6613\u7528\u7684\u8bbe\u8ba1\uff1a\u4e00\u6761\u8f93\u5165\u7ebf\u548c\u4e00\u6761\u5141\u8bb8\u5199\u5165\u7ebf</p> <p>\u6240\u4ee5\u53c8\u6709\u4e86\u8fd9\u6837\u7684\u7535\u8def\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u95e8\u9501\uff08Gate Latch\uff09\uff1a</p> <p></p> <p>\u95e8\u9501\u7684\u7535\u8def\u5b9e\u73b0</p> <p>\u4e4b\u6240\u4ee5\u79f0\u4e3a\u95e8\u9501\uff0c\u662f\u56e0\u4e3a\u5b83\u53ef\u4ee5\u6253\u5f00\u548c\u5173\u4e0a\uff0c\u6211\u4eec\u4e0d\u5fc5\u8fc7\u4e8e\u5173\u5fc3\u5b83\u7684\u5b9e\u73b0\u7ec6\u8282\uff0c\u6240\u4ee5\u518d\u6b21\u62bd\u8c61\uff1a</p> <p></p> <p>\u95e8\u9501</p> <p>\u8fd9\u6837\uff0c\u6211\u4eec\u62e5\u6709\u4e86\u4e00\u4e2a\u771f\u6b63\u610f\u4e49\u4e0a\u53ef\u4ee5\u5b58\u50a8 1 bit \u6570\u636e\u7684\u9501\u5b58\u5668</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/02_%E5%AF%84%E5%AD%98%E5%99%A8%E5%92%8C%E5%86%85%E5%AD%98/#register","title":"\u5bc4\u5b58\u5668\uff08Register\uff09","text":"<p>\u6211\u4eec\u628a 8 \u4e2a\u9501\u5b58\u5668\u5e76\u6210\u4e00\u6392\u5f62\u6210\u4e00\u7ec4\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u5f97\u5230\u4e86\u4e00\u4e2a\u5bc4\u5b58\u5668\u3002</p> <p>\u5bc4\u5b58\u5668\u80fd\u591f\u5b58\u50a8\u4e00\u4e2a\u6570\u5b57\uff0c\u5bc4\u5b58\u5668\u6709\u591a\u5c11\u4f4d\uff0c\u5c31\u53eb <code>\u4f4d\u5bbd</code>\u3002\u65e9\u671f\u7684\u8ba1\u7b97\u673a\u4f7f\u7528 8 \u4f4d\u5bbd\u7684\u5bc4\u5b58\u5668\uff0c\u540e\u9762 16 \u4f4d\u300132 \u4f4d\u3001\u76f4\u5230\u5982\u4eca\u7684 64 \u4f4d\u3002</p> <p>\u60f3\u8c61\u4e00\u4e0b\uff0c\u5982\u679c\u6211\u4eec\u8981\u5f80\u4e00\u4e2a\u5bc4\u5b58\u5668\u91cc\u9762\u5199\u503c\uff0c\u90a3\u4e48\u6211\u4eec\u81f3\u5c11\u9700\u8981 8 \u6839\u8f93\u5165\u7ebf\u548c 8 \u6839\u8f93\u51fa\u7ebf\uff0c\u4f46 \u201c\u5141\u8bb8\u5199\u5165\u7ebf\u201d \u53ef\u4ee5\u53ea\u7528\u4e00\u6839\uff0c\u5c06 8 \u4e2a\u9501\u5b58\u5668\u5168\u90e8\u8fde\u901a\u3002\u8fd9\u6837\uff0c\u5f53\u5bc4\u5b58\u5668\u8981\u5199\u5165\u6570\u636e\u65f6\uff0c\u628a \u201c\u5141\u8bb8\u5199\u5165\u7ebf\u201d \u7f6e 1 \uff0c\u516b\u6839\u8f93\u5165\u7ebf\u5199\u5165\u6570\u636e\u540e\uff0c\u518d\u5c06 \u201c\u5141\u8bb8\u5199\u5165\u7ebf\u201d \u7f6e 0 \u5373\u53ef\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/02_%E5%AF%84%E5%AD%98%E5%99%A8%E5%92%8C%E5%86%85%E5%AD%98/#_1","title":"\u5185\u5b58","text":"<p>\u73b0\u5728\u6211\u4eec\u7684\u5b58\u50a8\u89c4\u6a21\u518d\u6b21\u63d0\u5347\uff0c\u8d85\u8fc7\u5355\u4e2a\u5bc4\u5b58\u5668\uff0c\u5b58\u50a8 256 \u4f4d\u6570\u636e\uff0c\u7ebf\u7684\u6570\u91cf\u5c31\u4f1a\u6765\u5230 64 + 64 + 1 = 129 \u6839\uff01</p> <p>\u4e8e\u662f\u77e9\u9635\u5f0f\u7684\u7535\u8def\u8bbe\u8ba1\u51fa\u73b0\u4e86\u3002\u9501\u5b58\u5668\u4e0d\u518d\u662f\u5355\u7eaf\u5e76\u6392\u6392\u5e03\uff0c\u800c\u662f\u7f51\u683c\u6392\u5e03\uff0c\u4e0b\u56fe\u662f\u5b58 256 \u4f4d\u7684 16x16 \u7684\u9501\u5b58\u5668\u5e03\u5c40\uff0c\u5f53\u6211\u4eec\u8981\u5199\u5165\u67d0\u4e2a\u9501\u5b58\u5668\u65f6\uff0c\u53ea\u9700\u8981\u540c\u65f6\u542f\u7528\u5bf9\u5e94\u7684\u884c\u7ebf\u548c\u5217\u7ebf\uff1a</p> <p></p> <p>16x16 \u7684\u7f51\u683c\u5e03\u5c40</p> <p>\u8fd9\u6837\uff0c\u6211\u4eec\u9700\u8981\u7684\u7ebf\u5c31\u53d8\u6210\u4e86\uff1a</p> <ul> <li>1 \u6839\u6570\u636e\u7ebf</li> <li>1 \u6839 \u201c\u5141\u8bb8\u5199\u5165\u7ebf\u201d</li> <li>16 \u884c\u548c 16 \u5217\u7684\u7ebf\u7528\u4e8e\u9009\u62e9\u9501\u5b58\u5668</li> </ul> <p>129 \u6839\u7ebf\u88ab\u4f18\u5316\u4e3a 1 + 1 + 16 + 16 = 34 \u6839\u7ebf\uff0c\u5373\u4f7f\u52a0\u4e0a \u201c\u5141\u8bb8\u8bfb\u53d6\u7ebf\u201d \uff0c\u4e5f\u624d 35 \u6839\u7ebf</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/02_%E5%AF%84%E5%AD%98%E5%99%A8%E5%92%8C%E5%86%85%E5%AD%98/#_2","title":"\u591a\u8def\u590d\u7528\u5668","text":"<p>\u91c7\u7528\u77e9\u9635\u5f0f\u7535\u8def\u8bbe\u8ba1\u540e\uff0c\u6211\u4eec\u7528\u53ef\u4ee5\u7528\u884c\u6570\u52a0\u5217\u6570\u6765\u8868\u793a\u4e00\u4e2a\u9501\u5b58\u5668\u7684\u5730\u5740\uff0c\u6bd4\u5982\u7b2c 12 \u884c 8 \u5217\u7684\u9501\u5b58\u5668\u5730\u5740\u662f <code>11001000</code> \u3002\u884c\u548c\u5217\u5206\u522b\u5360 4 bit \uff0c\u5982\u4f55\u628a\u8fd9\u4e2a 4 \u4f4d\u7684\u503c\u8f6c\u6362\u5230\u7535\u8def\u4e0a\uff0c\u5c31\u8981\u7528\u5230\u591a\u8def\u590d\u7528\u5668\uff08Multiplexer\uff09</p> <p></p> <p>\u884c\u548c\u5217\u90fd\u9700\u8981\u4e00\u4e2a\u591a\u8def\u590d\u7528\u5668</p> <p>\u4e24\u4e2a\u591a\u8def\u590d\u7528\u5668\uff0c\u5206\u522b\u7528\u6765\u8f6c\u6362\u884c\u548c\u5217\u7684\u5730\u5740</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/02_%E5%AF%84%E5%AD%98%E5%99%A8%E5%92%8C%E5%86%85%E5%AD%98/#_3","title":"\u5bf9\u5185\u5b58\u62bd\u8c61","text":"<p>\u4ee5\u4e0a\u7684\u7ed3\u6784\u505a\u4e00\u6b21\u62bd\u8c61\uff0c\u5f97\u5230\u4e0b\u9762\u7684 256 bit \u7684\u5185\u5b58\uff1a</p> <p></p> <p>\u5355\u4e2a 256 bit \u5185\u5b58\u7684\u62bd\u8c61</p> <p>\u5b83\u4f7f\u7528 8 \u4f4d\u5730\u5740\uff084 \u4f4d\u884c\u548c 4 \u4f4d\u5217\uff09\uff0c\u4e00\u6761\u6570\u636e\u7ebf\uff0c\u4e00\u6761\u5199\u5165\u7ebf\u548c\u4e00\u6761\u8bfb\u53d6\u7ebf</p> <p>\u6211\u4eec\u5c06 8 \u4e2a 256 bit \u5185\u5b58\u5e76\u6392\u6392\u5e03\uff0c\u7528 8 \u6839\u7ebf\u4e32\u8054\u63a7\u5236\u5730\u5740\uff0c\u7528 2 \u6839\u7ebf\u4e32\u8054\u5206\u522b\u63a7\u5236\u5199\u5165\u548c\u8bfb\u53d6\uff0c\u518d\u5bf9\u6bcf\u4e2a\u5185\u5b58\u5355\u72ec\u7528 1 \u6839\u6570\u636e\u7ebf\uff08\u5171 8 \u6839\u6570\u636e\u7ebf\uff09\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5728\u6307\u5b9a 8 \u4f4d\u5730\u5740\u5b58\u50a8\u4e00\u4e2a 8 \u4f4d\u6570\u5b57\uff1a</p> <p></p> <p>RAM \u7684\u7535\u8def\u8bbe\u8ba1</p> <p>\u5bf9\u8fd9\u4e2a\u7535\u8def\u518d\u6b21\u505a\u62bd\u8c61\uff0c\u6211\u4eec\u5c31\u5f97\u5230\u4e86\u4e00\u4e2a\u53ef\u5bfb\u5740\u7684\u5185\u5b58\uff0c\u7531\u4e8e\u5730\u5740\u6700\u591a\u6709 256 \u4e2a\uff0c\u6240\u4ee5\u6211\u4eec\u6700\u591a\u53ef\u4ee5\u5b58\u50a8 256 \u4e2a 8 \u4f4d\u503c\uff1a</p> <p></p> <p>RAM</p> <p>\u7531\u4e8e\u53ef\u4ee5\u968f\u65f6\u8bbf\u95ee\u4efb\u610f\u4f4d\u7f6e\uff0c\u8fd9\u6837\u7684\u5185\u5b58\u88ab\u53eb\u505a RAM (Random Access Memory\uff0c\u968f\u673a\u8bbf\u95ee\u5b58\u50a8\u5668)\u3002\u73b0\u4ee3\u7684\u5185\u5b58\u6761\u53ef\u4ee5\u8fbe\u5230\u51e0\u5341 GB \u5bb9\u91cf\uff0c\u5f52\u6839\u7ed3\u5e95\u5c31\u662f\u6392\u5e03\u4e86\u5927\u91cf\u7c7b\u4f3c\u8fd9\u6837\u7684\u5185\u5b58\u7535\u8def\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/03_%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/","title":"03.\u4e2d\u592e\u5904\u7406\u5668","text":"<p>\u4e2d\u592e\u5904\u7406\u5668\uff0c\u5e38\u79f0 CPU\uff08Central Processing Unit\uff09\uff0c\u6211\u4eec\u672c\u7bc7\u4ece\u4e00\u4e2a\u9ad8\u5c42\u6b21\u89c6\u89d2\u53bb\u4e86\u89e3 CPU \u7684\u7ec4\u6210\uff0c\u6bcf\u4e00\u4e2a\u6839\u7ebf\u4e0d\u662f\u6307\u4ee3\u771f\u6b63\u7684\u6570\u636e\u7ebf\uff0c\u800c\u662f\u4e00\u7ec4\u5b8c\u5584\u7535\u8def\u7684\u62bd\u8c61\uff0c\u4ee3\u8868\u8fd9\u91cc\u6709\u67d0\u79cd\u8fde\u63a5\uff0c\u8fd9\u79cd\u9ad8\u5c42\u6b21\u89c6\u89d2\u79f0 \u201c\u5fae\u4f53\u7cfb\u67b6\u6784\u201d \uff08MicroArchitecture\uff09</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/03_%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/#cpu","title":"CPU \u7ec4\u6210","text":"<p>\u9996\u5148\uff0c\u6211\u4eec\u8981\u51c6\u5907\u4e00\u4e2a RAM \uff0c\u4f46\u6ce8\u610f\u5185\u5b58\u4e0d\u662f CPU \u7684\u7ec4\u6210\u90e8\u5206\uff0c\u8fd9\u91cc\u662f\u4e3a\u4e86\u6f14\u793a CPU \u5982\u4f55\u548c\u5185\u5b58\u6253\u4ea4\u9053\uff0c\u8fdb\u800c\u89e3\u91ca\u5b83\u6bcf\u4e2a\u7ec4\u6210\u90e8\u5206\u5728\u5176\u4e2d\u53d1\u6325\u7684\u4f5c\u7528\u3002</p> <p>\u4e3a\u4e86\u7b80\u5355\uff0c\u6211\u4eec\u5047\u8bbe\u6709\u4e00\u4e2a\u53ea\u6709 16 \u4e2a\u5730\u5740\u7684 RAM\uff08\u5982\u4e0b\u56fe\u6240\u793a\uff09\uff0c\u56e0\u6b64\u5b83\u7684\u5730\u5740\u53ef\u4ee5\u7528 4 \u4f4d\u503c\u8868\u793a\uff080 ~ 15\uff09\uff0c\u8fd9 16 \u4e2a\u5730\u5740\u4e2d\u5b58\u50a8\u4e86\u82e5\u5e72\u7684\u6307\u4ee4\u6216\u8005\u6570\u636e\u3002\u5bf9\u4e8e\u6570\u636e\u6765\u8bf4\uff0c\u5176\u4e2d\u7684 8 \u4f4d\u90fd\u662f\u503c\u3002\u5bf9\u4e8e\u6307\u4ee4\u6765\u8bf4\uff0c\u9ad8 4 \u4f4d\u4ee3\u8868\u64cd\u4f5c\u7801\uff0c\u4f4e 4 \u4f4d\u4ee3\u8868\u76ee\u6807\u6570\u636e\u5728\u5185\u5b58\u6216\u8005\u5bc4\u5b58\u5668\u4e2d\u7684\u5730\u5740\u3002\uff08\u8fd9\u91cc\u53ea\u662f\u4e3e\u4f8b\uff0c\u5728\u5b9e\u9645\u7684\u5185\u5b58\u4e2d\u53ef\u80fd\u548c\u8fd9\u4e2a\u8bbe\u8ba1\u4e0d\u4e00\u6837\uff0c\u4e5f\u53ef\u80fd\u66f4\u590d\u6742\uff09</p> <p></p> <p>\u5185\u5b58</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/03_%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/#_1","title":"\u8bbe\u7acb\u5bc4\u5b58\u5668","text":"<p>\u4e3a\u4e86\u64cd\u4f5c\u6570\u636e\u548c\u5b58\u50a8\u4e34\u65f6\u6570\u636e\uff0c\u6211\u4eec\u9700\u8981\u7ed9 CPU \u5b89\u6392 4 \u4e2a\u5bc4\u5b58\u5668\uff1a</p> <p></p> <p>\u4e34\u65f6\u5b58\u50a8\u548c\u64cd\u4f5c\u6570\u636e\u7684\u5bc4\u5b58\u5668</p> <p>\u6211\u4eec\u7ed9 CPU \u652f\u6301\u7684\u6240\u6709\u6307\u4ee4\u5206\u914d\u4e00\u4e2a\u64cd\u4f5c\u7801\uff0c\u5bf9\u5e94\u4e0a\u9762\u6307\u4ee4\u4e2d\u7684\u9ad8 4 \u4f4d\uff0c\u6bd4\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u6307\u4ee4\u8868</p> <p>\u6211\u4eec\u8fd8\u9700\u8981\u53e6\u5916\u4e24\u4e2a\u5bc4\u5b58\u5668\uff1a</p> <ul> <li>\u6307\u4ee4\u5730\u5740\u5bc4\u5b58\u5668\uff1a\u7528\u4e8e\u8ffd\u8e2a\u5f53\u524d\u7a0b\u5e8f\u8fd0\u884c\u5230\u54ea\u91cc\uff0c\u5b58\u50a8\u7684\u662f\u6307\u4ee4\u5728\u5185\u5b58\u4e2d\u7684\u5730\u5740</li> <li>\u6307\u4ee4\u5bc4\u5b58\u5668\uff1a\u7528\u4e8e\u5b58\u50a8\u5f53\u524d\u6307\u4ee4\uff0c\u65b9\u4fbf CPU \u89e3\u7801\u8fd9\u4e2a\u6307\u4ee4</li> </ul> <p></p> <p>\u6307\u4ee4\u5730\u5740\u5bc4\u5b58\u5668 \u548c \u6307\u4ee4\u5bc4\u5b58\u5668</p> <p>\u8ba1\u7b97\u673a\u5f00\u59cb\u8fd0\u884c\uff0c\u6240\u6709\u5bc4\u5b58\u5668\u88ab\u521d\u59cb\u5316\u4e3a 0 \uff1a</p> <p></p> <p>\u521d\u59cb\u5316\u5bc4\u5b58\u5668</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/03_%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/#_2","title":"\u53d6\u6307\u4ee4","text":"<p>\u8ba1\u7b97\u673a\u4ece\u5185\u5b58\u4e2d\u53d6\u6307\u4ee4\uff0c\u7136\u540e\u4e00\u6761\u4e00\u6761\u6267\u884c\uff0c\u9996\u5148\u6307\u4ee4\u5730\u5740\u5bc4\u5b58\u5668\u8bbf\u95ee\u5185\u5b58\u7684\u7b2c\u4e00\u4e2a\u5730\u5740\uff0c\u5e76\u4e14\u5c06\u7b2c\u4e00\u4e2a\u5730\u5740\u7684\u5185\u5bb9\uff08\u4e00\u6761\u6307\u4ee4\uff09\u653e\u5165\u6307\u4ee4\u5bc4\u5b58\u5668\u4e2d\uff1a</p> <p></p> <p>\u53d6\u6307\u4ee4\u9636\u6bb5</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/03_%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/#_3","title":"\u89e3\u91ca\u5e76\u6267\u884c\u6307\u4ee4","text":"<p>\u5f97\u5230\u4e86\u4e00\u6761\u6307\u4ee4\u540e\uff0c\u8ba1\u7b97\u673a\u9700\u8981\u5c06\u8fd9\u6761\u6307\u4ee4\u89e3\u91ca\u3002\u5b83\u7684\u9ad8 4 \u4f4d\u7684\u503c\u5bf9\u5e94\u6307\u4ee4\u8868\u4e2d\u7684\u7b2c\u4e00\u6761\uff0c\u5373\u5c06\u6307\u5b9a\u5185\u5b58\u5730\u5740\u7684\u503c\u653e\u5165\u5bc4\u5b58\u5668 A \u4e2d\uff1a</p> <p></p> <p>\u89e3\u91ca\u5e76\u6267\u884c</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/03_%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/#_4","title":"\u7ee7\u7eed\u53d6\u6307\u4ee4\u3001\u89e3\u91ca\u3001\u6267\u884c","text":"<p>\u6267\u884c\u5b8c\u4e00\u6761\u6307\u4ee4\u540e\uff0c\u6307\u4ee4\u5730\u5740\u5bc4\u5b58\u5668\u6307\u5411\u7684\u5185\u5b58\u5730\u5740 + 1 \uff0c\u7ee7\u7eed\u8bfb\u53d6\u4e0b\u4e00\u6761\u6307\u4ee4\uff0c\u7136\u540e\u89e3\u91ca\u6267\u884c\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/03_%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/#_5","title":"\u63a7\u5236\u5355\u5143","text":"<p>\u7531\u6307\u4ee4\u5730\u5740\u5bc4\u5b58\u5668\u3001\u6307\u4ee4\u5bc4\u5b58\u5668\u3001\u89e3\u7801\u7535\u8def\u7b49\u90e8\u5206\u7ec4\u6210\u4e86\u4e00\u4e2a\u63a7\u5236\u5355\u5143\uff08Control Unit\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5b83\u62bd\u8c61\u51fa\u6765\uff1a</p> <p></p> <p>\u63a7\u5236\u5355\u5143</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/03_%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/#_6","title":"\u7ee7\u7eed\u6267\u884c","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/03_%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/#_7","title":"\u7b2c\u4e8c\u6761\u6307\u4ee4","text":"<p>CPU \u7ee7\u7eed\u53d6\u4e0b\u4e00\u6761\u6307\u4ee4\u5e76\u6267\u884c\uff0c\u7b2c\u4e8c\u6761\u6307\u4ee4\u5c06\u5185\u5b58\u5730\u5740 15 \u7684\u503c\u653e\u5728\u4e86\u5bc4\u5b58\u5668 B \u4e2d\uff1a</p> <p></p> <p>\u7b2c\u4e8c\u6761\u6307\u4ee4\u7684\u6267\u884c\u7ed3\u679c</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/03_%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/#_8","title":"\u7b2c\u4e09\u6761\u6307\u4ee4","text":"<p>\u7b2c\u4e09\u6761\u6307\u4ee4\u6bd4\u8f83\u7279\u6b8a\uff0c\u5b83\u4ee3\u8868\u5c06\u4e24\u4e2a\u5bc4\u5b58\u5668\u7684\u503c\u76f8\u52a0\uff0c\u5e76\u5c06\u7ed3\u679c\u653e\u5728\u6307\u5b9a\u7684\u7b2c\u4e8c\u4e2a\u5bc4\u5b58\u5668\u4e2d\uff0c\u8fd9\u91cc\u5bc4\u5b58\u5668 A \u7684\u5730\u5740\u4e3a 00 \uff0c\u5bc4\u5b58\u5668 B \u7684\u5730\u5740\u4e3a 01 \uff0c\u56e0\u6b64\u662f\u8981\u5c06 B \u4e2d\u7684\u503c\u4e0e A \u4e2d\u7684\u503c\u76f8\u52a0\uff0c\u7ed3\u679c\u653e\u5165 A \u4e2d\uff1a</p> <p></p> <p>\u7b2c\u4e09\u6761\u6307\u4ee4\u7684\u89e3\u91ca\u9636\u6bb5</p> <p>\u4e3a\u4e86\u5bf9\u4e24\u4e2a\u503c\u505a\u7b97\u6570\u8fd0\u7b97\uff0c\u6211\u4eec\u9700\u8981\u7ee7\u7eed\u8bbe\u7acb\u4e00\u4e2a ALU \u8fdb\u6765\uff0c\u63a7\u5236\u5355\u5143\u4f1a\u5c06\u4e24\u4e2a\u5bc4\u5b58\u5668\u7684\u503c\u4f5c\u4e3a ALU \u7684\u4e24\u4e2a\u8f93\u5165\uff0c\u7136\u540e\u4f20\u9012 ALU \u5f53\u524d\u7684\u64cd\u4f5c\u7801\uff0c\u8ba1\u7b97\u5f97\u5230\u7684\u503c\u5e76\u4e0d\u4f1a\u9a6c\u4e0a\u5199\u5165\u5bc4\u5b58\u5668\uff0c\u800c\u662f\u653e\u5728\u4e00\u4e2a\u4e34\u65f6\u7684\u5bc4\u5b58\u5668\u4e2d\uff08\u56fe\u4e2d\u6ca1\u6709\uff09\uff0c\u5f53\u5173\u95ed ALU \u4e4b\u540e\u518d\u5199\u5165\u5bc4\u5b58\u5668 A \uff0c\u9632\u6b62 ALU \u7684\u503c\u9519\u8bef\uff1a</p> <p></p> <p>\u7b2c\u4e09\u6761\u6307\u4ee4\u7684\u6267\u884c\u9636\u6bb5</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/03_%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/#_9","title":"\u6700\u540e\u4e00\u6761\u6307\u4ee4","text":"<p>\u6700\u540e\u4e00\u6761\u6307\u4ee4\uff0c\u5c06\u5bc4\u5b58\u5668 A \u4e2d\u7684\u503c\u5199\u5165\u5185\u5b58\u4e2d\uff1a</p> <p></p> <p>\u7b2c\u56db\u6761\u6307\u4ee4\u7684\u6267\u884c\u7ed3\u679c</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/03_%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/#_10","title":"\u65f6\u949f","text":"<p>\u65f6\u949f\uff08Clock\uff09\u7528\u6765\u7ba1\u7406 CPU \u7684\u6267\u884c\u8282\u594f\u3002</p> <p></p> <p>\u65f6\u949f</p> <p>\u5b83\u4ee5\u7cbe\u786e\u7684\u95f4\u9694\u6765\u89e6\u53d1\u7535\u4fe1\u53f7\uff0c\u63a7\u5236\u5355\u5143\u6839\u636e\u8fd9\u4e2a\u7535\u4fe1\u53f7\u53bb\u63a8\u52a8 CPU \u7684\u5185\u90e8\u64cd\u4f5c\u3002\u8fd9\u9891\u7387\u4e0d\u80fd\u592a\u5feb\uff0c\u56e0\u4e3a\u7535\u7684\u4f20\u8f93\u4e5f\u9700\u8981\u65f6\u95f4\uff08\u5f88\u5c11\u5f88\u5c11\uff09\u3002</p> <p>CPU \u6267\u884c\u4e00\u6b21 \u201c\u53d6\u6307\u4ee4-\u89e3\u7801-\u6267\u884c\u201d \u7684\u901f\u5ea6\u53eb\u505a \u201c\u65f6\u949f\u901f\u5ea6\u201d \uff0c\u5b83\u7684\u5355\u4f4d\u662f\u8d6b\u5179\uff08Hz\uff09\uff0c\u73b0\u4ee3 CPU \u7684\u4e3b\u9891\u5df2\u7ecf\u8fbe\u5230\u4e86 GHz \u7ea7\u522b\uff0c\u6211\u4eec\u5e38\u8bf4\u7684\u8d85\u9891\u5c31\u662f\u5141\u8bb8 CPU \u4ee5\u66f4\u5feb\u7684\u901f\u5ea6\u6267\u884c\uff0c\u4f46\u4f1a\u589e\u5927\u7528\u7535\u91cf\uff0c\u5e76\u4e14\u53ef\u80fd\u635f\u574f CPU \uff0c\u540c\u6837\uff0c\u8bb8\u591a CPU \u4e5f\u6709\u964d\u9891\u529f\u80fd\uff0c\u5728\u95f2\u7f6e\u7684\u65f6\u95f4\u6bb5\u5185\u964d\u9891\u53ef\u4ee5\u964d\u4f4e\u8017\u7535\u91cf\uff0c\u8fd9\u4e9b\u90fd\u662f\u901a\u8fc7\u6539\u53d8\u65f6\u949f\u901f\u5ea6\u5b9e\u73b0\u7684\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/03_%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/#cpu_1","title":"\u5bf9 CPU \u505a\u4e00\u6b21\u62bd\u8c61","text":"<p>\u73b0\u5728\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u7b80\u5355\u7684 CPU \uff0c\u53ef\u4ee5\u5bf9\u5b83\u8fdb\u884c\u4e00\u6b21\u62bd\u8c61\uff1a</p> <p></p> <p>CPU</p> <p>\u4ece\u8fd9\u91cc\u4e5f\u53ef\u4ee5\u770b\u51fa\u6765\uff0cRAM \u4e0d\u662f CPU \u7684\u7ec4\u6210\u90e8\u5206\uff0c\u4f46\u5b83\u4eec\u606f\u606f\u76f8\u5173</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/03_%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/#_11","title":"\u6307\u4ee4\u96c6","text":"<p>\u4e0a\u9762\u63d0\u5230\u7684\u64cd\u4f5c\u7801\uff0c\u5728\u5b9e\u9645\u8ba1\u7b97\u673a\u4e2d\u8fdc\u4e0d\u6b62 4 \u4e2a\uff0c\u4e5f\u4e0d\u6b62 4 \u4f4d\uff0c\u6bd4\u5982\u5e38\u89c1\u7684\u8ba9\u7a0b\u5e8f\u505c\u6b62\u8fd0\u884c\u7684 HALT \u6307\u4ee4\u7b49\u3002\u4e3a\u4e86\u8ba9\u6307\u4ee4\u80fd\u66f4\u591a\uff0c\u6709\u4e24\u4e2a\u7b56\u7565\uff1a</p> <ul> <li>\u76f4\u63a5\u7528\u66f4\u591a\u4f4d\u6765\u8868\u793a\u6307\u4ee4\uff0c\u6bd4\u5982 32 \u4f4d\u751a\u81f3 64 \u4f4d</li> <li>\u91c7\u7528\u53ef\u53d8\u6307\u4ee4\u957f\u5ea6\uff0c\u6bd4\u5982 JUMP \u6307\u4ee4\u5360 8 \u4f4d\uff0c\u4f46\u5b83\u540e\u9762\u9700\u8981\u8ddf\u4e00\u4e2a\u7acb\u5373\u503c\uff0c\u4ee3\u8868\u8981\u8df3\u8f6c\u7684\u5185\u5b58\u5730\u5740\uff0c\u8fd9\u6837\u8bbe\u8ba1\u7684\u8bdd\uff0c\u6307\u4ee4\u957f\u5ea6\u53ef\u4ee5\u662f\u4efb\u610f\u7684\uff0c\u4f46\u662f CPU \u5728\u8bfb\u53d6\u9636\u6bb5\u4f1a\u66f4\u52a0\u590d\u6742\u4e00\u4e9b</li> </ul> <p>CPU \u53ef\u4ee5\u8bc6\u522b\u7684\u8fd9\u6837\u4e00\u6279\u6307\u4ee4\u53eb\u505a\u6307\u4ee4\u96c6\uff0c\u73b0\u4ee3\u7684 CPU \u62e5\u6709\u4e0a\u5343\u6761\u7684\u6307\u4ee4\uff0c\u5149 ADD \u6307\u4ee4\u90fd\u6709\u5f88\u591a\u53d8\u79cd\uff0c\u6bd4\u6211\u4eec\u4f8b\u5b50\u4e2d\u7684\u8981\u590d\u6742\u5f88\u591a\uff0c\u4f46\u662f\u6838\u5fc3\u539f\u7406\u6ca1\u6709\u53d8\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/04_%E9%AB%98%E7%BA%A7CPU%E8%AE%BE%E8%AE%A1/","title":"04.\u9ad8\u7ea7CPU\u8bbe\u8ba1","text":"<p>\u63d0\u5347 CPU \u7684\u901f\u5ea6\u4e00\u76f4\u662f\u5b83\u7684\u6838\u5fc3\u95ee\u9898\uff0c\u4e3a\u6b64\u4e5f\u884d\u751f\u51fa\u4e86\u9ad8\u7ea7 CPU \u7684\u8bbe\u8ba1\u3002</p> <p>\u6700\u65e9\u7684\u63d0\u5347 CPU \u901f\u5ea6\u7684\u65b9\u6848\u662f\u52a0\u5feb\u6676\u4f53\u7ba1\u5207\u6362\u901f\u5ea6\uff0c\u4f46\u8fd9\u4e2a\u65b9\u6848\u5f88\u5feb\u9047\u5230\u74f6\u9888\uff0c\u6bd5\u7adf\u8fd9\u4e2a\u5c42\u9762\u7684\u63d0\u5347\u5230\u4e86\u67d0\u4e2a\u7a0b\u5ea6\u5c31\u5f88\u56f0\u96be\u4e86\uff0c\u4e8e\u662f\u6709\u4e86\u540e\u7eed\u8fd9\u4e9b\u8bbe\u8ba1\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/04_%E9%AB%98%E7%BA%A7CPU%E8%AE%BE%E8%AE%A1/#_1","title":"\u8bbe\u8ba1\u4e13\u95e8\u7684\u7535\u8def\u5904\u7406\u590d\u6742\u64cd\u4f5c","text":"<p>\u6bd4\u5982\u7ed9 CPU \u8bbe\u8ba1\u4e13\u95e8\u7684\u9664\u6cd5\u7535\u8def\u3001\u8bbe\u8ba1\u4e13\u95e8\u7684\u7535\u8def\u6765\u5904\u7406\u56fe\u5f62\u64cd\u4f5c\u3001\u89e3\u7801\u538b\u7f29\u89c6\u9891\u3001\u52a0\u5bc6\u6587\u6863\u7b49</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/04_%E9%AB%98%E7%BA%A7CPU%E8%AE%BE%E8%AE%A1/#cpu","title":"\u7ed9 CPU \u52a0\u7f13\u5b58","text":"<p>\u968f\u7740 CPU \u5904\u7406\u6307\u4ee4\u7684\u80fd\u529b\u4e0a\u6da8\uff0c\u6027\u80fd\u7684\u74f6\u9888\u53d1\u751f\u4e86\u6539\u53d8\uff1aCPU \u9700\u8981\u4ece RAM \u8bfb\u53d6\u6307\u4ee4\u7528\u4ee5\u6267\u884c\uff0c\u8fde\u63a5\u4e8c\u8005\u7684\u603b\u7ebf\u7684\u4f20\u8f93\u6548\u7387\u6210\u4e3a\u4e86\u6027\u80fd\u74f6\u9888\uff0cCPU \u548c RAM \u4e4b\u95f4\u7684\u6570\u636e\u4ea4\u6362\u88ab\u89c6\u4f5c\u662f\u4e00\u4e2a\u6162\u901f\u7684\u8fc7\u7a0b\uff08\u5728 CPU \u8fd9\u4e00\u5c42\u9762\uff09\uff1a</p> <p></p> <p>CPU \u548c \u5185\u5b58\u4e4b\u95f4\u7528\u603b\u7ebf\u4f20\u9012\u6570\u636e</p> <p>\u6b64\u5916\uff0cRAM \u672c\u8eab\u8fd8\u8981\u82b1\u65f6\u95f4\u627e\u5730\u5740\u3001\u53d6\u6570\u636e\u3001\u914d\u7f6e\u3001\u8f93\u51fa\u6570\u636e\uff0c\u8fd9\u8fdb\u4e00\u6b65\u62d6\u7d2f\u4e86\u4ece RAM \u4f20\u9012\u6570\u636e\u5230 CPU \u7684\u8fc7\u7a0b\u3002\u4e00\u6761\u4ece\u5185\u5b58\u8bfb\u6570\u636e\u7684\u6307\u4ee4\u53ef\u80fd\u9700\u8981\u51e0\u4e2a\u65f6\u949f\u5468\u671f\uff0c\u8fd9\u9020\u6210\u4e86 CPU \u7a7a\u7b49\u6570\u636e\u3002</p> <p>\u89e3\u51b3\u7684\u65b9\u6848\u662f\u7ed9 CPU \u52a0\u7f13\u5b58\uff0c\u7f13\u5b58\u5927\u5c0f\u901a\u5e38\u5728 KB \u6216\u8005 MB \u7ea7\u522b\uff0c\u8fdc\u4f4e\u4e8e\u5185\u5b58\u7684 GB \u7ea7\u522b\uff0c\u7f13\u5b58\u79bb CPU \u5f88\u8fd1\uff0c\u5927\u5c0f\u4e5f\u5f88\u5c0f\uff0c\u56e0\u6b64 CPU \u76f4\u63a5\u8bbf\u95ee\u7f13\u5b58\u7684\u901f\u5ea6\u4f1a\u8fdc\u9ad8\u4e8e\u8bbf\u95ee\u5185\u5b58\u3002\u5b83\u7684\u539f\u7406\u662f\u5728 CPU \u4ece RAM \u62ff\u6570\u636e\u65f6\u4e0d\u5728\u53ea\u662f\u62ff\u4e00\u6761\u6570\u636e\uff0c\u800c\u662f\u5c06\u76ee\u6807\u6570\u636e\u5468\u56f4\u7684\u4e00\u5757\u8fde\u7eed\u5185\u5b58\u7684\u6570\u636e\u4e00\u8d77\u8bfb\u5165\u7f13\u5b58\u3002\u867d\u7136\u4e00\u6b21\u6027\u8bfb\u4e00\u6279\u7684\u901f\u5ea6\u4f1a\u6162\u4e8e\u8bfb\u4e00\u6761\uff0c\u4f46\u6570\u636e\u901a\u5e38\u662f\u4e00\u4e2a\u4e2a\u6309\u987a\u5e8f\u5904\u7406\uff0c\u8fde\u7eed\u5185\u5b58\u5730\u5740\u7684\u6570\u636e\u901a\u5e38\u5177\u6709\u5f88\u5f3a\u7684\u5173\u8054\u6027\uff0c\u56e0\u6b64\u6548\u7387\u4f1a\u6709\u5f88\u5927\u63d0\u5347\u3002</p> <p></p> <p>CPU \u7684\u7f13\u5b58\u4e00\u6b21\u6027\u8bfb\u53d6\u4e00\u5757\u8fde\u7eed\u5185\u5b58\u7a7a\u95f4\u7684\u6570\u636e</p> <p>CPU \u8bbf\u95ee\u7f13\u5b58\u62ff\u6570\u636e\u4f1a\u6709\u4e24\u4e2a\u7ed3\u679c\uff0c\u53d6\u5230\u76ee\u6807\u6570\u636e\u53eb\u505a Cache Hit \uff08\u7f13\u5b58\u547d\u4e2d\uff09\uff0c\u76f8\u53cd\u53eb\u505a Cache Miss\uff08\u7f13\u5b58\u672a\u547d\u4e2d\uff09\u3002Cache Miss \u51fa\u73b0\u65f6\uff0cCPU \u9700\u8981\u91cd\u65b0\u53bb\u5185\u5b58\u62ff\u6570\u636e\uff0c\u56e0\u6b64\u51cf\u5c11 Cache Miss \u4e5f\u662f\u6027\u80fd\u4f18\u5316\u7684\u4e00\u4e2a\u8003\u8651\u70b9\u3002</p> <p>\u7f13\u5b58\u53e6\u5916\u8fd8\u53ef\u4ee5\u7528\u6765\u5b58\u4e00\u4e9b\u4e34\u65f6\u7684\u8ba1\u7b97\u503c\uff0c\u6bd4\u5982\u8fde\u7eed\u8ba1\u7b97\u65f6\uff0c\u4e2d\u95f4\u7684\u8ba1\u7b97\u7ed3\u679c\u53ef\u4ee5\u653e\u5728\u7f13\u5b58\u4e2d\u800c\u4e0d\u662f\u5b58\u56de\u5185\u5b58\uff0c\u8fd9\u6837\u4f1a\u52a0\u5feb\u8ba1\u7b97\u7684\u901f\u5ea6\u3002\u4f46\u662f\u8fd9\u6837\u4f1a\u5bfc\u81f4 RAM \u548c\u7f13\u5b58\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\uff0c\u56e0\u6b64\u7f13\u5b58\u4e2d\u6bcf\u5757\u7a7a\u95f4\u8bbe\u8ba1\u4e86\u4e00\u4e2a \u201c\u810f\u4f4d\u201d\uff08Dirty bit\uff09\uff0c\u7528\u4e8e\u6807\u8bb0\u5f53\u524d\u8fd9\u5757\u5185\u5b58\u5df2\u7ecf\u88ab\u7f13\u5b58\u4fee\u6539\u8fc7\uff0c\u5728\u540e\u7eed\u6e05\u7406\u7f13\u5b58\u65f6\uff0c\u4f1a\u6839\u636e\u8fd9\u4e2a\u810f\u4f4d\u6765\u51b3\u5b9a\u662f\u5426\u5c06\u7f13\u5b58\u5185\u5bb9\u540c\u6b65\u56de RAM \u4e2d\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/04_%E9%AB%98%E7%BA%A7CPU%E8%AE%BE%E8%AE%A1/#_2","title":"\u6d41\u6c34\u7ebf\u8bbe\u8ba1","text":"<p>\u6211\u4eec\u77e5\u9053 CPU \u6267\u884c\u6307\u4ee4\u7684\u8fc7\u7a0b\u5927\u6982\u5206\u4e09\u6b65\uff1a\u53d6\u6307\u4ee4-\u89e3\u7801-\u6267\u884c\u3002\u5982\u679c\u4e25\u683c\u5730\u6392\u961f\u6267\u884c\uff0c\u5e94\u8be5\u662f\u4e0b\u56fe\u8fd9\u6837\u7684\u60c5\u5f62\uff1a</p> <p></p> <p>\u6392\u961f\u6267\u884c\u6307\u4ee4</p> <p>\u8fd9\u6837\u7684\u6548\u7387\u6bd4\u8f83\u4f4e\u4e0b\uff0c\u4e00\u6761\u6307\u4ee4\u9700\u8981\u4e09\u4e2a\u65f6\u949f\u5468\u671f\u6765\u6267\u884c\uff08\u770b\u7d2b\u8272\u7684Execute\u7684\u95f4\u9694\uff09\u3002\u7531\u4e8e\u6bcf\u4e2a\u6b65\u9aa4\u5229\u7528\u7684\u662f CPU \u7684\u4e0d\u540c\u90e8\u5206\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u5e76\u884c\u5904\u7406\u7684\u601d\u8def\u6765\u63d0\u9ad8\u6267\u884c\u6548\u7387\uff0c\u5373\u5728\u6267\u884c\u5f53\u524d\u6307\u4ee4\u7684\u540c\u65f6\uff0c\u89e3\u7801\u4e0b\u4e00\u6761\u6307\u4ee4\uff0c\u5e76\u4e14\u8bfb\u53d6\u4e0b\u4e0b\u6761\u6307\u4ee4\uff1a</p> <p></p> <p>\u5e76\u884c\u6267\u884c\u6307\u4ee4</p> <p>\u8fd9\u6837\u4e00\u6765\uff0c\u5355\u6761\u6307\u4ee4\u7684\u6267\u884c\u5b9e\u9645\u53ea\u9700\u8981\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u3002</p> <p>\u6d41\u6c34\u7ebf\u8bbe\u8ba1\u7684\u4e00\u4e2a\u95ee\u9898\u662f\u6307\u4ee4\u5b58\u5728\u6267\u884c\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4f60\u5728\u8bfb\u67d0\u4e2a\u6570\u636e\uff0c\u4f46\u6b63\u5728\u6267\u884c\u7684\u6307\u4ee4\u4f1a\u6539\u8fd9\u4e2a\u6570\u636e\uff0c\u56e0\u6b64\u4e00\u822c\u6d41\u6c34\u7ebf\u4f1a\u8ba1\u7b97\u8fd9\u4e2a\u4f9d\u8d56\u5173\u7cfb\uff0c\u5e76\u4e14\u5728\u5fc5\u8981\u65f6\u7b49\u5f85\u4ee5\u4fdd\u8bc1\u4e0d\u4f1a\u51fa\u9519\u3002\u76ee\u524d\u9ad8\u7aef\u7684 CPU \u4f1a\u52a8\u6001\u6392\u5e8f\u8fd9\u4e9b\u6307\u4ee4\u6765\u4fdd\u8bc1\u6267\u884c\u7684\u4f9d\u8d56\u5173\u7cfb\u4e0d\u4f1a\u51fa\u9519\uff0c\u8fd9\u88ab\u79f0\u4e3a \u201c\u4e71\u5e8f\u6267\u884c\u201d\uff0c\u5c06\u6d41\u6c34\u7ebf\u7684\u505c\u5de5\u65f6\u95f4\u6700\u5c0f\u5316\uff0c\u8fd9\u79cd\u7535\u8def\u8bbe\u8ba1\u975e\u5e38\u590d\u6742\uff0c\u5c3d\u7ba1\u5b58\u5728\u8fd9\u79cd\u95ee\u9898\uff0c\u4f46\u7531\u4e8e\u6d41\u6c34\u7ebf\u975e\u5e38\u9ad8\u6548\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u73b0\u4ee3\u5904\u7406\u5668\u90fd\u4f7f\u7528\u5b83\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/04_%E9%AB%98%E7%BA%A7CPU%E8%AE%BE%E8%AE%A1/#_3","title":"\u5206\u652f\u9884\u6d4b","text":"<p>\u5c3d\u7ba1\u6709\u4e86\u6d41\u6c34\u7ebf\uff0c\u4f46\u9047\u5230\u6761\u4ef6\u6307\u4ee4\u8fd8\u662f\u4f1a\u9020\u6210 CPU \u7684\u7b49\u5f85\uff0c\u56e0\u4e3a\u6761\u4ef6\u6307\u4ee4\u4f1a\u6253\u4e71\u6267\u884c\u7684\u987a\u5e8f\uff0c\u5927\u591a\u6570\u7b80\u5355\u7684\u5904\u7406\u5668\u9700\u8981\u7b49\u5f85\u6761\u4ef6\u7684\u7ed3\u679c\u8ba1\u7b97\u5b8c\u6210\uff0c\u624d\u80fd\u7ee7\u7eed\u5904\u7406\u6307\u4ee4\u3002</p> <p>\u9ad8\u7aef\u7684 CPU \u8bbe\u8ba1\u4e86\u5206\u652f\u9884\u6d4b\u529f\u80fd\u6765\u51cf\u8f7b\u4e0a\u8ff0\u95ee\u9898\uff0cCPU \u5728\u9047\u5230\u6761\u4ef6\u6307\u4ee4\u65f6\uff0c\u4f1a\u9884\u6d4b\u66f4\u52a0\u53ef\u80fd\u7684\u7ed3\u679c\uff0c\u5e76\u4e14\u6839\u636e\u7ed3\u679c\u63d0\u524d\u5c06\u6307\u4ee4\u653e\u5165\u6d41\u6c34\u7ebf\uff0c\u8fd9\u6837\u4e00\u65e6\u6761\u4ef6\u7ed3\u679c\u8ba1\u7b97\u5b8c\u6210\uff0c\u6307\u4ee4\u6d41\u6c34\u7ebf\u53ef\u4ee5\u7acb\u9a6c\u5f00\u59cb\u6267\u884c\u3002\u4f46\u662f\u5982\u679c\u9884\u6d4b\u51fa\u9519\uff0c\u5219\u9700\u8981\u6e05\u7a7a\u6d41\u6c34\u7ebf\u5e76\u4e14\u91cd\u65b0\u586b\u5145\u6307\u4ee4\uff0c\u4f46\u73b0\u4ee3\u5904\u7406\u5668\u7684\u9884\u6d4b\u6b63\u786e\u7387\u5df2\u7ecf\u8d85\u8fc7 90%\uff0c\u56e0\u6b64\u5206\u652f\u9884\u6d4b\u7684\u63d0\u5347\u4e5f\u4e0d\u5bb9\u5c0f\u89d1\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/04_%E9%AB%98%E7%BA%A7CPU%E8%AE%BE%E8%AE%A1/#cpu_1","title":"\u591a\u4e2a CPU \u5185\u90e8\u90e8\u4ef6","text":"<p>\u5373\u4fbf\u6709\u6d41\u6c34\u7ebf\u7684\u8bbe\u8ba1\uff0c\u5728\u6307\u4ee4\u6267\u884c\u9636\u6bb5\uff0c\u5904\u7406\u5668\u6709\u4e9b\u533a\u57df\u8fd8\u662f\u53ef\u80fd\u95f2\u7f6e\u3002\u6bd4\u5982\u4ece\u5185\u5b58\u53d6\u6570\u636e\u7684\u64cd\u4f5c\u6267\u884c\u65f6\uff0cALU \u662f\u7a7a\u95f2\u7684\u3002\u56e0\u6b64\u9ad8\u7ea7 CPU \u8bbe\u8ba1\u4e86\u591a\u4e2a\u5185\u90e8\u90e8\u4ef6\uff0c\u6bd4\u5982\u6709\u591a\u4e2a ALU \u90e8\u4ef6\u3002\u8fd9\u6837\u540c\u65f6\u6267\u884c\u591a\u6761\u6307\u4ee4\uff0c\u4f1a\u5c3d\u53ef\u80fd\u7528\u4e0a\u591a\u7684\u90e8\u4ef6\u3002</p> <p></p> <p>\u540c\u65f6\u6267\u884c\u591a\u6761\u6307\u4ee4</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/04_%E9%AB%98%E7%BA%A7CPU%E8%AE%BE%E8%AE%A1/#_4","title":"\u591a\u6838","text":"<p>\u9664\u4e86\u540c\u65f6\u6267\u884c\u591a\u6761\u6307\u4ee4\u5916\uff0c\u9ad8\u7ea7 CPU \u5141\u8bb8\u5355\u4e2a CPU \u540c\u65f6\u6267\u884c\u591a\u6761\u6307\u4ee4\u6d41\u6c34\u7ebf\uff0c\u8fd9\u88ab\u79f0\u4e3a\u591a\u6838\uff0c\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u4e00\u4e2a CPU \u4e2d\u6709\u591a\u4e2a\u5904\u7406\u5355\u5143\uff0c\u7531\u4e8e\u591a\u6838\u4e4b\u95f4\u6574\u5408\u7d27\u5bc6\uff0c\u5e76\u4e14\u53ef\u4ee5\u5171\u4eab\u4e00\u4e9b\u8d44\u6e90\uff0c\u6bd4\u5982\u7f13\u5b58\uff0c\u56e0\u6b64\u5b83\u4eec\u53ef\u4ee5\u5408\u4f5c\u8fd0\u7b97\uff1a</p> <p></p> <p>\u591a\u6838</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/CrashCourse/04_%E9%AB%98%E7%BA%A7CPU%E8%AE%BE%E8%AE%A1/#cpu_2","title":"\u591a\u4e2a\u72ec\u7acb CPU","text":"<p>\u73b0\u4ee3\u5904\u7406\u5668\u901a\u5e38\u8fd8\u8bbe\u8ba1\u4e86\u591a\u4e2a CPU \uff0c\u7528\u4ee5\u5904\u7406\u591a\u6838\u7b97\u529b\u4e0d\u591f\u7684\u60c5\u51b5\uff0c\u4e00\u822c\u5e38\u89c1\u7684\u6709 2 \u4e2a\u6216\u8005 4 \u4e2a\uff0c\u6211\u56fd\u7684 \u201c\u795e\u5a01 \u592a\u6e56\u4e4b\u5149\u201d \u8d85\u7ea7\u8ba1\u7b97\u673a\u6709 40960 \u4e2a CPU\uff0c\u5355\u4e2a CPU \u6709 256 \u4e2a\u6838\u5fc3</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/00_%E5%89%8D%E8%A8%80/0_1_%E5%89%8D%E8%A8%80/","title":"0.1 \u524d\u8a00","text":"<p>Note</p> <p>\u64cd\u4f5c\u7cfb\u7edf\u8fd9\u90e8\u5206\u7684\u5185\u5bb9\u662f\u7ed3\u5408\u4e86 \u5c0f\u6797Coding \u7684\u56fe\u89e3\u7cfb\u7edf\uff08https://www.xiaolincoding.com/os\uff09\u4ee5\u53ca\u4e00\u4e9b\u522b\u7684\u4e66\u7c4d\u548c\u53c2\u8003\u8d44\u6599\uff0c\u7ed3\u5408\u81ea\u6211\u8ba4\u77e5\u505a\u7684\u4e2a\u4eba\u7b14\u8bb0\uff0c\u8f6c\u8f7d\u8bf7\u6807\u6ce8\u6765\u6e90\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_1_%E5%86%AF%E8%AF%BA%E4%BE%9D%E6%9B%BC%E6%A8%A1%E5%9E%8B/","title":"1.1 \u51af\u8bfa\u4f9d\u66fc\u6a21\u578b","text":"<p>\u51af\u8bfa\u4f9d\u66fc\u6a21\u578b\u5728 1945 \u5e74\u88ab\u63d0\u51fa\uff0c\u5b83\u7531 5 \u4e2a\u90e8\u5206\u7ec4\u6210\uff1a\u8fd0\u7b97\u5668\u3001\u63a7\u5236\u5668\u3001\u5b58\u50a8\u5668\u3001\u8f93\u5165\u8bbe\u5907\u3001\u8f93\u51fa\u8bbe\u5907</p> <p></p> <p>\u51af\u8bfa\u4f9d\u66fc\u6a21\u578b</p> <p>\u8fd0\u7b97\u5668\u548c\u63a7\u5236\u5668\u662f\u5c5e\u4e8e CPU \u7684\u90e8\u5206\uff08\u4e2d\u592e\u5904\u7406\u5668\uff0c\u5f53\u7136 CPU \u8fd8\u6709\u5176\u4ed6\u7ec4\u6210\u90e8\u5206\uff0c\u6bd4\u5982\u5bc4\u5b58\u5668\uff09\uff0c\u5b58\u50a8\u5668\u3001\u8f93\u5165\u3001\u8f93\u51fa\u8bbe\u5907\u901a\u8fc7\u603b\u7ebf\u548c CPU \u4f20\u9012\u6570\u636e\uff0c\u5b83\u4eec\u7684\u5173\u7cfb\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u603b\u7ebf\u7684\u804c\u8d23</p> <p>\u63a5\u4e0b\u6765\uff0c\u5206\u522b\u8ba4\u8bc6\u4e0b\u8fd9\u51e0\u4e2a\u90e8\u5206\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_1_%E5%86%AF%E8%AF%BA%E4%BE%9D%E6%9B%BC%E6%A8%A1%E5%9E%8B/#_1","title":"\u5185\u5b58","text":"<p>\u5185\u5b58\u662f\u72ec\u7acb\u4e8e CPU \u7684\u4e00\u4e2a\u90e8\u5206\u3002\u5b83\u8d1f\u8d23\u5728\u8ba1\u7b97\u673a\u8fd0\u884c\u65f6\u5b58\u50a8\u7a0b\u5e8f\u548c\u6570\u636e\uff0c\u6ce8\u610f\u5b83\u548c\u786c\u76d8\u7b49\u5176\u4ed6\u5b58\u50a8\u8bbe\u5907\u7684\u533a\u522b\u3002</p> <p>\u5173\u4e8e\u5185\u5b58\u6709\u4e00\u4e2a\u6781\u5176\u5bb9\u6613\u6df7\u6dc6\u7684\u6982\u5ff5\uff1a\u8ba1\u7b97\u673a\u5b58\u50a8\u6570\u636e\u7684\u6700\u5c0f\u5355\u4f4d\u662f bit \uff08\u4f4d\uff09\u800c\u4e0d\u662f byte \uff08\u5b57\u8282\uff0c1 byte = 8 bit\uff09\uff0c\u4f46\u6700\u5c0f\u7684\u5bfb\u5740\u5355\u4f4d\u662f byte \u3002</p> <p>\u5f88\u591a\u4eba\u4f1a\u8bf4\u5b58\u50a8\u6570\u636e\u7684\u6700\u5c0f\u5355\u4f4d\u662f byte \uff0c\u4e3a\u4ec0\u4e48\u4f1a\u6709\u8fd9\u6837\u7684\u8bf4\u6cd5\uff1f\u56e0\u4e3a\u8ba1\u7b97\u673a\u5185\u5b58\u7684\u5730\u5740\u6309\u7167\u4e00\u4e2a\u5b57\u8282\u6765\u7f16\u5740\uff0c\u5f88\u591a\u8bed\u8a00\u4e3a\u4e86\u9075\u5faa\u5185\u5b58\u5bf9\u9f50\uff08\u4e3b\u8981\u662f\u4e3a\u4e86\u63d0\u5347\u8bbf\u95ee\u5185\u5b58\u6570\u636e\u7684\u901f\u5ea6\uff0c\u5355\u72ec\u7684\u7bc7\u7ae0\u4ecb\u7ecd\uff09\uff0c\u6ca1\u6709\u8bbe\u8ba1\u5c0f\u4e8e\u4e00\u4e2a\u5b57\u8282\u7684\u6570\u636e\u7c7b\u578b\uff0c\u6bd4\u5982 C# \u7684\u5e03\u5c14\u7c7b\u578b\uff0c\u672c\u8d28\u4e0a\u4e00\u4e2a bit \u5c31\u53ef\u4ee5\u5b58\uff0c\u4f46\u8fd8\u662f\u8bbe\u8ba1\u6210\u4e86\u4e00\u4e2a byte \u3002\u90a3\u4e48\u6709\u6ca1\u6709\u5c0f\u4e8e\u4e00\u4e2a\u5b57\u8282\u7684\u6570\u636e\u7c7b\u578b\u5462\uff1f\u6216\u8005\u8bf4\u6709\u6ca1\u6709\u4ec0\u4e48\u53ef\u4ee5\u6309\u4f4d\u5b58\u50a8\u6570\u636e\u7684\u65b9\u5f0f\u5462\uff1f\u5176\u5b9e\u4e5f\u6709\uff0c\u6bd4\u5982 C/C++ \u652f\u6301\u5728\u7ed3\u6784\u4f53\u4e2d\u5b9a\u4e49\u4f4d\u57df\uff0c\u53ef\u4ee5\u6307\u5b9a\u5b57\u6bb5\u5360\u7528\u7684\u4f4d\u6570\uff1a</p> <pre><code>struct Flags {\n    unsigned int flag1 : 1;  // \u8fd9\u6837\u5199\u4ee3\u8868\u8fd9\u4e2a\u57df\u53ea\u5360\u7528 1 \u4f4d\n    unsigned int flag2 : 1;  // 1 \u4f4d\n    unsigned int flag3 : 1;  // 1 \u4f4d\n    // \u8fd93\u4e2a\u5b57\u6bb5\u53ef\u4ee5\u5171\u4eab1\u4e2a\u5b57\u8282\n};\n</code></pre> <p>\u518d\u8005\u8fd8\u6709\u5e38\u7528\u7684\u6570\u503c\u7c7b\u578b\u7684\u538b\u7f29\u7b97\u6cd5\uff0c\u6bd4\u5982 C# \u628a\u591a\u4e2a\u4e0d\u592a\u5927\u7684\u6570\u5206\u522b\u5b58\u50a8\u5728\u4e00\u4e2a long \u7684\u4e0d\u540c bit \u4e0a\u3002</p> <p>\u7f16\u5740\u548c\u8bed\u8a00\u7684\u8bbe\u8ba1\uff0c\u5f88\u5bb9\u6613\u8ba9\u4eba\u8bef\u4ee5\u4e3a\u6570\u636e\u5b58\u50a8\u81f3\u5c11\u9700\u8981\u4e00\u4e2a\u5185\u5b58\u5730\u5740\uff0c\u6240\u4ee5\u5b58\u50a8\u7684\u6700\u5c0f\u5355\u4f4d\u662f\u4e00\u4e2a\u5b57\u8282\u3002\u8fd9\u6837\u7684\u8bf4\u6cd5\u5176\u5b9e\u662f\u9519\u8bef\u7684\uff0c\u6700\u5c0f\u5b58\u50a8\u5355\u4f4d\u662f\u4e00\u4e2a\u4f4d\u3002</p> <p>\u5728\u62bd\u8c61\u5c42\u9762\uff0c\u5185\u5b58\u6bd4\u8f83\u7c7b\u4f3c\u4e00\u4e2a\u6570\u7ec4\uff0c\u6240\u6709\u7684\u5185\u5b58\u7a7a\u95f4\u88ab\u7f16\u6392\u4e3a\u8fde\u7eed\u7684\u5185\u5b58\u5730\u5740\u3002\u4f46\u5728\u5177\u4f53\u7684\u786c\u4ef6\u5c42\u9762\uff0c\u5185\u5b58\u5176\u5b9e\u662f\u7531\u591a\u8def\u590d\u7528\u5668\u63a7\u5236\u8bbf\u95ee\u7684\u884c\u5217\u5f62\u5f0f\uff0c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u53ef\u4ee5\u62c6\u5206\u4e3a\u884c\u5730\u5740\u548c\u5217\u5730\u5740\uff0c\u884c\u5217\u7ed3\u5408\u5c31\u53ef\u4ee5\u5feb\u901f\u5b9a\u4f4d\u8981\u8bbf\u95ee\u7684\u7269\u7406\u5185\u5b58\uff0c\u56e0\u6b64\u53ef\u4ee5\u8bf4\u8bbf\u95ee\u4efb\u4f55\u5730\u5740\u7684\u5185\u5b58\u6570\u636e\u7684\u901f\u5ea6\u90fd\u662f\u4e00\u6837\u7684\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_1_%E5%86%AF%E8%AF%BA%E4%BE%9D%E6%9B%BC%E6%A8%A1%E5%9E%8B/#_2","title":"\u4e2d\u592e\u5904\u7406\u5668","text":"<p>\u4e2d\u592e\u5904\u7406\u5668\u7684\u4e3b\u8981\u804c\u8d23\u662f\u89e3\u91ca\u8ba1\u7b97\u673a\u6307\u4ee4\u4ee5\u53ca\u5904\u7406\u8ba1\u7b97\u673a\u8f6f\u4ef6\u4e2d\u7684\u6570\u636e\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_1_%E5%86%AF%E8%AF%BA%E4%BE%9D%E6%9B%BC%E6%A8%A1%E5%9E%8B/#64-vs-32","title":"64\u4f4d vs 32\u4f4d","text":"<p>\u6211\u4eec\u5e38\u8bf4\u7684 64 \u4f4d CPU \u548c 32 \u4f4d CPU \u5230\u5e95\u662f\u4ec0\u4e48\u610f\u601d\uff1f\u5f88\u591a\u4eba\u5176\u5b9e\u5bf9\u8fd9\u4e2a\u4e1c\u897f\u6ca1\u6709\u6b63\u786e\u7684\u7406\u89e3\u3002</p> <p>\u9996\u5148\uff0c\u8fd9\u4e2a\u4f4d\u6307\u7684\u662f CPU \u7684\u901a\u7528\u5bc4\u5b58\u5668\u7684\u4f4d\u5bbd\uff0c\u4e0d\u4e00\u5b9a\u4ee3\u8868 CPU \u7684\u5bfb\u5740\u80fd\u529b\u6216\u8005\u603b\u7ebf\u7684\u5bbd\u5ea6\u3002</p> <p>\u53ef\u4ee5\u8fd9\u4e48\u7406\u89e3</p> <p>32\u4f4dCPU = \u5177\u670932\u4f4d\u901a\u7528\u5bc4\u5b58\u5668\u7684CPU</p> <p>64\u4f4dCPU = \u5177\u670964\u4f4d\u901a\u7528\u5bc4\u5b58\u5668\u7684CPU</p> <p>\u4f46\u662f\u9700\u8981\u6ce8\u610f\uff0c\u4e0d\u80fd\u8bf4 32 \u4f4d CPU \u662f\u4ee3\u8868\u5b83\u7684\u5bc4\u5b58\u5668\u7684\u4f4d\u5bbd\u662f 32 \u4f4d\u7684\u3002\u56e0\u4e3a\u9664\u4e86\u901a\u7528\u5bc4\u5b58\u5668\u8fd8\u5b58\u5728\u4e00\u4e9b\u5176\u4ed6\u7684\u5bc4\u5b58\u5668\uff0c\u6bd4\u5982\u6211\u4eec\u6765\u770b\u4e0b x86-64 CPU \u7684\u5bc4\u5b58\u5668\u5168\u666f\uff1a</p> Text Only<pre><code>\u901a\u7528\u5bc4\u5b58\u5668\uff0864\u4f4d\uff09:\nRAX, RBX, RCX, RDX, RSI, RDI, RBP, RSP, R8-R15\n\n\u6307\u4ee4\u6307\u9488\uff0864\u4f4d\uff09:\nRIP\n\n\u6bb5\u5bc4\u5b58\u5668\uff0816\u4f4d\uff01\uff09:\nCS, DS, ES, SS, FS, GS\n\n\u6807\u5fd7\u5bc4\u5b58\u5668\uff0864\u4f4d\uff0c\u4f46\u53ea\u752832\u4f4d\uff09:\nRFLAGS\n\n\u6d6e\u70b9\u5bc4\u5b58\u5668\uff0880\u4f4d\uff01\uff09:\nST0-ST7\n\nSIMD\u5bc4\u5b58\u5668\uff08128/256/512\u4f4d\uff01\uff09:\nXMM0-XMM15 (128\u4f4d)\nYMM0-YMM15 (256\u4f4d)\nZMM0-ZMM31 (512\u4f4d)\n\n\u63a7\u5236\u5bc4\u5b58\u5668\uff0864\u4f4d\uff09:\nCR0, CR2, CR3, CR4, CR8\n\n\u8c03\u8bd5\u5bc4\u5b58\u5668\uff0864\u4f4d\uff09:\nDR0-DR7\n</code></pre> <p>\u7ed3\u8bba\uff1a64 \u4f4d CPU \u6709 64 \u4f4d\u901a\u7528\u5bc4\u5b58\u5668\uff0c\u4f46\u4e5f\u6709 16 \u4f4d\u300180 \u4f4d\u3001128 \u4f4d\u3001256 \u4f4d\u3001512 \u4f4d\u7684\u5bc4\u5b58\u5668\uff01</p> <p>\u90a3\u600e\u4e48\u7406\u89e3\u5bfb\u5740\u80fd\u529b\u5462\uff1fCPU \u8981\u5bfb\u5740\u5c31\u5fc5\u987b\u80fd\u544a\u8bc9\u5176\u5b83\u5143\u4ef6\u8fd9\u4e2a\u5730\u5740\u7684\u503c\u662f\u591a\u5c11\uff0cCPU \u548c\u5176\u5b83\u90e8\u4ef6\u4e4b\u95f4\u9760\u603b\u7ebf\u4f20\u8f93\u6570\u636e\uff0c\u56e0\u6b64\u603b\u7ebf\u7684\u4f4d\u5bbd\u4ee3\u8868\u4e86 CPU \u7684\u5bfb\u5740\u80fd\u529b\u3002</p> <p>\u4f46\u662f\u603b\u7ebf\u7684\u4f4d\u5bbd\u4e0d\u80fd\u548c CPU \u7684\u4f4d\u5bbd\u5212\u7b49\u53f7\uff0c\u4e3e\u51e0\u4e2a\u4f8b\u5b50\uff1a</p> <ul> <li>Intel 8086\uff0816 \u4f4d CPU\uff09\uff1a\u5b83\u7684\u5730\u5740\u603b\u7ebf\u5e76\u4e0d\u662f 16 \u4f4d\uff0c\u800c\u662f 20 \u4f4d\uff0c\u5bfb\u5740\u7a7a\u95f4\u662f \\(2^{20}\\) = 1MB</li> <li>80386\uff0832\u4f4dCPU\uff09\u65e9\u671f\u578b\u53f7\uff1a\u5b83\u7684\u603b\u7ebf\u6709 24 \u4f4d\u548c 26 \u4f4d\u7248\u672c\u7684\uff0c\u5e76\u975e\u5b8c\u6574\u7684 32 \u4f4d\uff0c\u5bfb\u5740\u7a7a\u95f4\u5206\u522b\u4e3a 16MB \u548c 64 MB</li> <li>\u73b0\u4ee3\u7684 x86-64\uff0864\u4f4dCPU\uff09\uff1a\u5b83\u7684\u5730\u5740\u603b\u7ebf\u4e00\u822c\u4e3a 48\u4f4d\uff08\u67d0\u4e9b\u662f52\u4f4d\uff0c\u5982Intel\u76845\u7ea7\u9875\u8868\uff09\uff0c\u5bfb\u5740\u7a7a\u95f4\u4e3a \\(2^{48}\\) = 256TB\uff08\u800c\u975e \\(2^{64}\\) = 16EB\uff09</li> </ul> <p>\u90a3\u4e48\u9488\u5bf9\u6700\u540e\u4e00\u4e2a\u4f8b\u5b50\u4e2d\u7684 x86-64 \u63d0\u51fa\u95ee\u9898\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u7528\u5168\u90e864\u4f4d\uff1f</p> <ol> <li>\u5b9e\u9645\u9700\u6c42\uff1a256TB \u5df2\u7ecf\u8fdc\u8d85\u5f53\u524d\u786c\u4ef6\u9700\u6c42</li> <li>\u786c\u4ef6\u6210\u672c\uff1a64 \u6839\u5730\u5740\u7ebf\u592a\u8d35\uff0c\u4fe1\u53f7\u5b8c\u6574\u6027\u96be\u4fdd\u8bc1</li> <li>\u529f\u8017\u548c\u9762\u79ef\uff1a\u51cf\u5c11\u6676\u4f53\u7ba1\u6570\u91cf</li> <li>\u5730\u5740\u7a7a\u6d1e\u8bbe\u8ba1\uff1a\u9884\u7559\u5730\u5740\u7a7a\u95f4\u7528\u4e8e\u7279\u6b8a\u7528\u9014</li> </ol> <p>\u5176\u5b83\u5e38\u89c1\u7684\u8bef\u89e3\uff1a</p> <p>\u8bef\u89e31\uff1a\"64 \u4f4d CPU \u8fd0\u884c\u901f\u5ea6\u662f 32 \u4f4d\u7684 2 \u500d\"</p> <p>\u5b9e\u9645\uff1a\u5bf9\u4e8e 32 \u4f4d\u4ee5\u5185\u7684\u8fd0\u7b97\uff0c\u901f\u5ea6\u5dee\u5f02\u4e0d\u5927\uff1b\u5bf9\u4e8e 64\u4f4d \u6570\u636e\u6216\u5927\u5185\u5b58\u573a\u666f\u624d\u6709\u660e\u663e\u4f18\u52bf\uff0832\u4f4d CPU \u9700\u8981\u66f4\u591a\u6307\u4ee4\u548c\u6b65\u9aa4\u5904\u7406 64 \u4f4d\u6570\u636e\uff09</p> <p>\u8bef\u89e32\uff1a\"64 \u4f4d\u7a0b\u5e8f\u4e00\u5b9a\u6bd4 32 \u4f4d\u5feb\"</p> <p>\u5b9e\u9645\uff1a\u5982\u679c\u5185\u5b58\u9700\u6c42\u5c0f\u4e8e 4GB\uff0c\u4e14\u6ca1\u6709\u5927\u91cf 64 \u4f4d\u8fd0\u7b97\uff0c32 \u4f4d\u7a0b\u5e8f\u53ef\u80fd\u66f4\u7701\u5185\u5b58\uff08\u6307\u9488\u66f4\u5c0f\uff09</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_1_%E5%86%AF%E8%AF%BA%E4%BE%9D%E6%9B%BC%E6%A8%A1%E5%9E%8B/#_3","title":"\u5bc4\u5b58\u5668","text":"<p>\u4ece\u7ed3\u6784\u56fe\u4e2d\uff0c\u6211\u4eec\u53d1\u73b0\u9664\u4e86\u8fd0\u7b97\u5355\u5143\u548c\u63a7\u5236\u5355\u5143\u5916\uff0c\u8fd8\u6709\u5bc4\u5b58\u5668\u90e8\u5206\u3002CPU \u4e2d\u7684\u5bc4\u5b58\u5668\u6709\u5f88\u591a\u79cd\uff0c\u6bd4\u5982\u901a\u7528\u5bc4\u5b58\u5668\uff0c\u5b83\u4e3b\u8981\u8d1f\u8d23\u5b58\u653e\u8ba1\u7b97\u65f6\u7684\u6570\u636e\u3002\u518d\u6bd4\u5982\u7a0b\u5e8f\u8ba1\u6570\u5668\uff0c\u5b83\u7528\u4e8e\u5b58\u50a8 CPU \u8981\u6267\u884c\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5185\u5b58\u5730\u5740\u3002\u6307\u4ee4\u5bc4\u5b58\u5668\u7528\u4e8e\u5b58\u653e\u6b63\u5728\u6267\u884c\u7684\u6307\u4ee4\u672c\u8eab\uff0c\u7b49\u7b49\u3002\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u7684\u5bc4\u5b58\u5668\uff0c\u5404\u81ea\u529f\u80fd\u4e0d\u540c\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_1_%E5%86%AF%E8%AF%BA%E4%BE%9D%E6%9B%BC%E6%A8%A1%E5%9E%8B/#_4","title":"\u603b\u7ebf","text":"<p>\u603b\u7ebf\u7528\u4e8e CPU \u548c\u5176\u4ed6\u8bbe\u5907\u8fdb\u884c\u901a\u4fe1\uff0c\u5b83\u5206\u4e3a 3 \u79cd\uff1a</p> <ul> <li>\u5730\u5740\u603b\u7ebf\uff0c\u7528\u4e8e\u6307\u5b9a CPU \u5c06\u8981\u64cd\u4f5c\u7684\u5185\u5b58\u5730\u5740</li> <li>\u6570\u636e\u603b\u7ebf\uff0c\u7528\u4e8e\u8bfb\u5199\u5185\u5b58\u7684\u6570\u636e</li> <li>\u63a7\u5236\u603b\u7ebf\uff0c\u7528\u4e8e\u53d1\u9001\u548c\u63a5\u6536\u4fe1\u53f7\uff0c\u6bd4\u5982\u4e2d\u65ad\u3001\u8bbe\u5907\u590d\u4f4d\u7b49\u4fe1\u53f7\uff0cCPU \u6536\u5230\u4fe1\u53f7\u540e\u81ea\u7136\u8fdb\u884c\u54cd\u5e94\uff0c\u8fd9\u65f6\u4e5f\u9700\u8981\u63a7\u5236\u603b\u7ebf</li> </ul> <p>\u5f53 CPU \u8981\u8bfb\u5199\u5185\u5b58\u6570\u636e\u7684\u65f6\u5019\uff0c\u4e00\u822c\u9700\u8981\u901a\u8fc7\u4e0b\u9762\u8fd9\u4e09\u4e2a\u603b\u7ebf\uff1a</p> <ul> <li>\u9996\u5148\u8981\u901a\u8fc7\u300c\u5730\u5740\u603b\u7ebf\u300d\u6765\u6307\u5b9a\u5185\u5b58\u7684\u5730\u5740</li> <li>\u7136\u540e\u901a\u8fc7\u300c\u63a7\u5236\u603b\u7ebf\u300d\u63a7\u5236\u662f\u8bfb\u6216\u5199\u547d\u4ee4</li> <li>\u6700\u540e\u901a\u8fc7\u300c\u6570\u636e\u603b\u7ebf\u300d\u6765\u4f20\u8f93\u6570\u636e</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_1_%E5%86%AF%E8%AF%BA%E4%BE%9D%E6%9B%BC%E6%A8%A1%E5%9E%8B/#_5","title":"\u8f93\u5165\u8f93\u51fa\u8bbe\u5907","text":"<p>\u8f93\u5165\u8bbe\u5907\u5411\u8ba1\u7b97\u673a\u8f93\u5165\u6570\u636e\uff0c\u8ba1\u7b97\u673a\u7ecf\u8fc7\u8ba1\u7b97\u540e\uff0c\u628a\u6570\u636e\u8f93\u51fa\u7ed9\u8f93\u51fa\u8bbe\u5907\u3002\u5e38\u89c1\u7684\u8f93\u5165\u8bbe\u5907\u6bd4\u5982\u9f20\u6807\u3001\u952e\u76d8\u7b49\u3002\u8f93\u51fa\u8bbe\u5907\u6bd4\u5982\u663e\u793a\u5668\u3001\u97f3\u54cd\u7b49\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_2_%E5%AD%98%E5%82%A8%E8%AE%BE%E5%A4%87/","title":"1.2 \u5b58\u50a8\u8bbe\u5907","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_2_%E5%AD%98%E5%82%A8%E8%AE%BE%E5%A4%87/#_1","title":"\u5b58\u50a8\u5668\u6982\u89c8","text":"<p>\u8ba1\u7b97\u673a\u7684\u5b58\u50a8\u8bbe\u5907\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ul> <li>\u5bc4\u5b58\u5668\uff08\u96c6\u6210\u5728 CPU \u5185\u90e8\uff09</li> <li>CPU Cache\uff08\u96c6\u6210\u5728 CPU \u5185\u90e8\uff09<ul> <li>L1 Cache</li> <li>L2 Cache</li> <li>L3 Cache</li> </ul> </li> <li>\u5185\u5b58</li> <li>\u786c\u76d8<ul> <li>SSD</li> <li>HDD</li> </ul> </li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_2_%E5%AD%98%E5%82%A8%E8%AE%BE%E5%A4%87/#_2","title":"\u5bc4\u5b58\u5668","text":"<p>\u5bc4\u5b58\u5668\u6700\u9760\u8fd1 CPU \u7684\u63a7\u5236\u5355\u5143\u548c\u903b\u8f91\u8ba1\u7b97\u5355\u5143\u7684\u5b58\u50a8\u5668\uff0c\u5b83\u7684\u901f\u5ea6\u5728\u6240\u6709\u5b58\u50a8\u5668\u4e2d\u662f\u6700\u5feb\u7684\uff0c\u540c\u6837\u4ef7\u683c\u4e5f\u662f\u6700\u6602\u8d35\u7684\u3002</p> <p>\u5bc4\u5b58\u5668\u7684\u8bbf\u95ee\u901f\u5ea6\u975e\u5e38\u5feb\uff0c\u4e00\u822c\u8981\u6c42\u5728\u534a\u4e2a CPU \u65f6\u949f\u5468\u671f\u5185\u5b8c\u6210\u8bfb\u5199\uff0cCPU \u65f6\u949f\u5468\u671f\u8ddf CPU \u4e3b\u9891\u606f\u606f\u76f8\u5173\uff0c\u6bd4\u5982 2 GHz \u4e3b\u9891\u7684 CPU\uff0c\u90a3\u4e48\u5b83\u7684\u65f6\u949f\u5468\u671f\u5c31\u662f \u00bdG\uff0c\u4e5f\u5c31\u662f 0.5ns\uff08\u7eb3\u79d2\uff09\u3002</p> <p>CPU \u5904\u7406\u4e00\u6761\u6307\u4ee4\u7684\u65f6\u5019\uff0c\u9664\u4e86\u8bfb\u5199\u5bc4\u5b58\u5668\uff0c\u8fd8\u9700\u8981\u89e3\u7801\u6307\u4ee4\u3001\u63a7\u5236\u6307\u4ee4\u6267\u884c\u548c\u8ba1\u7b97\u3002\u5982\u679c\u5bc4\u5b58\u5668\u7684\u901f\u5ea6\u592a\u6162\uff0c\u5219\u4f1a\u62c9\u957f\u6307\u4ee4\u7684\u5904\u7406\u5468\u671f\uff0c\u5bfc\u81f4\u7535\u8111\u8fd0\u884c\u8fc7\u6162\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_2_%E5%AD%98%E5%82%A8%E8%AE%BE%E5%A4%87/#cpu-cache","title":"CPU Cache","text":"<p>CPU Cache \u7528\u7684\u662f\u4e00\u79cd\u53eb SRAM\uff08Static Random-Access Memory\uff0c\u9759\u6001\u968f\u673a\u5b58\u50a8\u5668\uff09\u7684\u82af\u7247\u3002</p> <p>SRAM \u9700\u8981\u901a\u7535\u6765\u4fdd\u6301\u6570\u636e\u5b58\u5728\uff0c\u5b83\u4e4b\u6240\u4ee5\u88ab\u79f0\u4e3a \u201c\u9759\u6001\u201d \u662f\u56e0\u4e3a\u5b83\u4e0d\u9760\u7535\u5bb9\u5b58\u50a8\uff0c\u4e0d\u7528\u5b9a\u671f\u5237\u65b0\u7535\u5bb9\u6765\u4fdd\u6301\u6570\u636e\uff0c\u53ea\u9700\u8981\u4fdd\u6301\u901a\u7535\u5c31\u884c\u3002SRAM \u7684\u7ed3\u6784\u7b80\u5355\uff0c\u6240\u4ee5\u8bbf\u95ee\u901f\u5ea6\u975e\u5e38\u5feb\u3002</p> <p>CPU \u7684\u9ad8\u901f\u7f13\u5b58\u901a\u5e38\u5206\u4e3a L1\u3001L2\u3001L3 \u4e09\u5c42\uff0c\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>CPU Cache</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_2_%E5%AD%98%E5%82%A8%E8%AE%BE%E5%A4%87/#l1","title":"L1 \u9ad8\u901f\u7f13\u5b58","text":"<p>L1 Cache \u7684\u8bbf\u95ee\u901f\u5ea6\u51e0\u4e4e\u548c\u5bc4\u5b58\u5668\u4e00\u6837\u5feb\uff0c\u901a\u5e38\u5728 2 ~ 4 \u4e2a\u65f6\u949f\u5468\u671f\uff0c\u5927\u5c0f\u5728\u51e0\u5341 KB \u5230\u51e0\u767e KB \u4e0d\u7b49\u3002</p> <p>\u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c\u6bcf\u4e2a CPU \u90fd\u6709\u4e00\u5757\u5c5e\u4e8e\u81ea\u5df1\u7684 L1 Cache\uff0c\u6307\u4ee4\u548c\u6570\u636e\u5728 L1 \u662f\u5206\u5f00\u5b58\u653e\u7684\uff0c\u5206\u4e3a\u4e86\u6307\u4ee4\u7f13\u5b58\u548c\u6570\u636e\u7f13\u5b58</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_2_%E5%AD%98%E5%82%A8%E8%AE%BE%E5%A4%87/#l2","title":"L2 \u9ad8\u901f\u7f13\u5b58","text":"<p>L2 \u9ad8\u901f\u7f13\u5b58\u540c\u6837\u6bcf\u4e2a CPU \u6838\u5fc3\u90fd\u6709\uff0c\u4f46\u662f L2 \u9ad8\u901f\u7f13\u5b58\u4f4d\u7f6e\u6bd4 L1 \u9ad8\u901f\u7f13\u5b58\u8ddd\u79bb CPU \u6838\u5fc3\u66f4\u8fdc\uff0c\u5b83\u5927\u5c0f\u6bd4 L1 \u9ad8\u901f\u7f13\u5b58\u66f4\u5927\uff0c\u901a\u5e38\u5927\u5c0f\u5728\u51e0\u767e KB \u5230\u51e0 MB \u4e0d\u7b49\u3002\u8bbf\u95ee\u901f\u5ea6\u5728 10 ~ 20 \u4e2a\u65f6\u949f\u5468\u671f\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_2_%E5%AD%98%E5%82%A8%E8%AE%BE%E5%A4%87/#l3","title":"L3 \u9ad8\u901f\u7f13\u5b58","text":"<p>L3 \u9ad8\u901f\u7f13\u5b58\u901a\u5e38\u662f\u591a\u4e2a CPU \u6838\u5fc3\u5171\u7528\u7684\uff0c\u4f4d\u7f6e\u6bd4 L2 \u9ad8\u901f\u7f13\u5b58\u8ddd\u79bb CPU \u6838\u5fc3\u66f4\u8fdc\uff0c\u5927\u5c0f\u5728\u51e0 MB \u5230\u51e0\u5341 MB \u4e0d\u7b49\uff0c\u8bbf\u95ee\u901f\u5ea6\u5728 20 ~ 60 \u4e2a\u65f6\u949f\u5468\u671f\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_2_%E5%AD%98%E5%82%A8%E8%AE%BE%E5%A4%87/#_3","title":"\u5185\u5b58","text":"<p>\u5185\u5b58\u4f7f\u7528\u7684\u82af\u7247\u662f DRAM \uff08Dynamic Random Access Memory\uff0c\u52a8\u6001\u968f\u673a\u5b58\u53d6\u5b58\u50a8\u5668\uff09</p> <p>\u76f8\u6bd4 SRAM\uff0cDRAM \u7684\u5bc6\u5ea6\u66f4\u9ad8\uff0c\u529f\u8017\u66f4\u4f4e\uff0c\u6709\u66f4\u5927\u7684\u5bb9\u91cf\uff0c\u800c\u4e14\u9020\u4ef7\u6bd4 SRAM \u82af\u7247\u4fbf\u5b9c\u5f88\u591a\u3002</p> <p>DRAM \u5b58\u50a8\u4e00\u4e2a bit \u6570\u636e\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u6676\u4f53\u7ba1\u548c\u4e00\u4e2a\u7535\u5bb9\u5c31\u80fd\u5b58\u50a8\uff0c\u4f46\u662f\u56e0\u4e3a\u6570\u636e\u4f1a\u88ab\u5b58\u50a8\u5728\u7535\u5bb9\u91cc\uff0c\u7535\u5bb9\u4f1a\u4e0d\u65ad\u6f0f\u7535\uff0c\u6240\u4ee5\u9700\u8981\u300c\u5b9a\u65f6\u5237\u65b0\u300d\u7535\u5bb9\uff0c\u624d\u80fd\u4fdd\u8bc1\u6570\u636e\u4e0d\u4f1a\u88ab\u4e22\u5931\uff0c\u8fd9\u5c31\u662f DRAM \u4e4b\u6240\u4ee5\u88ab\u79f0\u4e3a\u300c\u52a8\u6001\u300d\u5b58\u50a8\u5668\u7684\u539f\u56e0\uff0c\u53ea\u6709\u4e0d\u65ad\u5237\u65b0\uff0c\u6570\u636e\u624d\u80fd\u88ab\u5b58\u50a8\u8d77\u6765\u3002</p> <p>DRAM \u7684\u6570\u636e\u8bbf\u95ee\u7535\u8def\u548c\u5237\u65b0\u7535\u8def\u90fd\u6bd4 SRAM \u66f4\u590d\u6742\uff0c\u6240\u4ee5\u8bbf\u95ee\u7684\u901f\u5ea6\u4f1a\u66f4\u6162\uff0c\u5185\u5b58\u901f\u5ea6\u5927\u6982\u5728 200 ~ 300 \u4e2a \u65f6\u949f\u5468\u671f\u4e4b\u95f4\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_2_%E5%AD%98%E5%82%A8%E8%AE%BE%E5%A4%87/#_4","title":"\u786c\u76d8","text":"<p>SSD\uff08Solid-state disk\uff09\u5c31\u662f\u6211\u4eec\u5e38\u8bf4\u7684\u56fa\u6001\u786c\u76d8\uff0c\u7ed3\u6784\u548c\u5185\u5b58\u7c7b\u4f3c\uff0c\u4f46\u662f\u5b83\u76f8\u6bd4\u5185\u5b58\u7684\u4f18\u70b9\u662f\u65ad\u7535\u540e\u6570\u636e\u8fd8\u662f\u5b58\u5728\u7684\uff0c\u800c\u5185\u5b58\u3001\u5bc4\u5b58\u5668\u3001\u9ad8\u901f\u7f13\u5b58\u65ad\u7535\u540e\u6570\u636e\u90fd\u4f1a\u4e22\u5931\uff0c\u5b83\u7684\u8bfb\u5199\u901f\u5ea6\u6bd4\u5185\u5b58\u6162 10 ~ 1000 \u500d\u3002</p> <p>HDD\uff08Hard Disk Drive\uff09\u662f\u4f20\u7edf\u7684\u673a\u68b0\u786c\u76d8\uff0c\u5b83\u7684\u8bbf\u95ee\u901f\u5ea6\u66f4\u6162\uff0c\u6bd4\u5185\u5b58\u6162 10w \u500d\u5de6\u53f3\u3002</p> <p>\u8fd1\u5e74\u7684 SSD \u4ef7\u683c\u5df2\u7ecf\u9010\u6e10\u5e73\u6c11\u5316\uff0c\u6e10\u6e10\u5730\u5f00\u59cb\u53d6\u4ee3 HDD \u4e86\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_2_%E5%AD%98%E5%82%A8%E8%AE%BE%E5%A4%87/#_5","title":"\u5b58\u50a8\u5668\u7684\u5c42\u6b21\u5173\u7cfb","text":"<p>\u8fd9\u4e9b\u5b58\u50a8\u5668\u4e4b\u95f4\u7684\u5173\u7cfb\u56fe\u5982\u4e0b\u6240\u793a\uff1a</p> <p></p> <p>\u5b58\u50a8\u5668\u7684\u5c42\u6b21\u5173\u7cfb</p> <p>Warning</p> <p>\u5b58\u50a8\u5668\u53ea\u4f1a\u548c\u76f8\u90bb\u7684\u4e00\u5c42\u5b58\u50a8\u5668\u8bbe\u5907\u6253\u4ea4\u9053\u3002\u6bd4\u5982 L1 Cache \u53ea\u4f1a\u548c L2 Cache \u3001\u5bc4\u5b58\u5668\u4e24\u8005\u6253\u4ea4\u9053\u3002CPU \u8981\u8bbf\u95ee\u5185\u5b58\u4e2d\u7684\u67d0\u4e2a\u6570\u636e\u65f6\uff0c\u9996\u5148\u4f1a\u67e5\u5bc4\u5b58\u5668\u6709\u6ca1\u6709\uff0c\u6709\u7684\u8bdd\u76f4\u63a5\u53d6\u3002\u6ca1\u6709\u7684\u8bdd\u8bbf\u95ee L1 \uff0c\u4e00\u76f4\u8fd9\u6837\u91cd\u590d\u4e0b\u53bb\uff0c\u90fd\u6ca1\u6709\u7684\u8bdd\uff0c\u624d\u53bb\u8bbf\u95ee\u5185\u5b58\u3002</p> <p>\u6709\u4e00\u4e2a\u5f88\u597d\u7684\u4f8b\u5b50\u53ef\u4ee5\u5e2e\u52a9\u52a0\u6df1\u7406\u89e3\uff1a</p> <p>\u60f3\u8c61\u4e00\u4e0b\u4f60\u5728\u56fe\u4e66\u9986\u91cc\u9762\u770b\u4e66\uff0c\u4f60\u7684\u5927\u8111\u5c31\u662f CPU \uff0c\u5bc4\u5b58\u5668\u76f8\u5f53\u4e8e\u5b58\u653e\u4e86\u5f53\u524d\u4f60\u6b63\u5728\u601d\u8003\u7684\u4e1c\u897f\uff0cL1 ~ L3 \u5219\u662f\u4ee3\u8868\u77ed\u671f\u548c\u957f\u671f\u7684\u8bb0\u5fc6\uff0c\u53ef\u4ee5\u5feb\u901f\u8bbf\u95ee\u3002\u5f53\u4f60\u60f3\u4e0d\u8d77\u4e00\u4e2a\u77e5\u8bc6\u70b9\u7684\u65f6\u5019\uff0c\u4f60\u62ff\u8d77\u4e66\u684c\u4e0a\u7684\u4e66\u67e5\u9605\uff0c\u4e66\u684c\u4e0a\u7684\u4e66\u76f8\u5f53\u4e8e\u662f\u5185\u5b58\uff0c\u5b83\u6bd4\u8bb0\u5fc6\u66f4\u6162\u9700\u8981\u52a8\u624b\u7ffb\u9605\u3002\u5982\u679c\u8fd9\u672c\u4e66\u4e0a\u7684\u5185\u5bb9\u4e5f\u4e0d\u662f\u60f3\u8981\u7684\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u8d77\u8eab\u53bb\u4e66\u67b6\u4e0a\u627e\uff0c\u4e66\u67b6\u76f8\u5f53\u4e8e\u662f\u786c\u76d8\uff0c\u5b83\u66f4\u6162\u4e86\uff0c\u4f46\u662f\u53ef\u4ee5\u5b58\u66f4\u591a\u7684\u4e1c\u897f\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_3_CPU_Cache/","title":"1.3 CPU Cache","text":"<p>CPU Cache</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_3_CPU_Cache/#cpu-cache","title":"\u4e3a\u4ec0\u4e48\u5b58\u5728 CPU Cache?","text":"<p>CPU\u7684\u8bbf\u95ee\u901f\u5ea6\u589e\u957f\u975e\u5e38\u8fc5\u901f\uff0c\u6bcf 18 \u4e2a\u6708\u5de6\u53f3\u5c31\u4f1a\u7ffb\u500d\uff0c\u800c\u5185\u5b58\u901f\u5ea6\u589e\u957f\u6ca1\u6709\u5b83\u90a3\u4e48\u5feb\u3002\u968f\u7740\u4e24\u8005\u901f\u5ea6\u4e4b\u95f4\u5dee\u5f02\u8d8a\u6765\u8d8a\u5927\uff0cCPU \u8bbf\u95ee\u5185\u5b58\u9010\u6e10\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a\u6162\u901f\u7684\u8fc7\u7a0b\u3002CPU Cache \u5728\u4e24\u8005\u4e4b\u95f4\u626e\u6f14\u4e86\u9ad8\u901f\u7f13\u5b58\u7684\u89d2\u8272\uff0cCPU \u8981\u8bbf\u95ee\u67d0\u4e2a\u5185\u5b58\u6570\u636e\u7684\u65f6\u5019\uff0c\u4f1a\u4f9d\u6b21\u53bb L1\u3001L2\u3001L3 \u4e09\u7ea7\u9ad8\u901f\u7f13\u5b58\u4e2d\u627e\uff0c\u627e\u5230\u5219\u76f4\u63a5\u8fd4\u56de\uff0c\u5426\u5219\u6700\u7ec8\u8fd8\u662f\u4f1a\u8bbf\u95ee\u5185\u5b58\u53bb\u62ff\u3002\u56e0\u4e3a\u6570\u636e\u5b58\u5728\u5c40\u90e8\u6027\u7279\u5f81\uff0cCPU Cache \u7684\u547d\u4e2d\u7387\u5176\u5b9e\u8fd8\u53ef\u4ee5\uff0c\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u5f25\u8865\u4e86 CPU \u8bbf\u95ee\u5185\u5b58\u7684\u6027\u80fd\u95ee\u9898\u3002</p> <p>CPU \u8bbf\u95ee CPU Cache \u548c\u5185\u5b58\u7684\u65f6\u95f4\u5bf9\u6bd4\uff1a</p> Target Time Required L1 Cache 2 ~ 4 clock cycles L2 Cache 10 ~ 20 clock cycles L3 Cache 20 ~ 60 clock cycles Memory 200 ~ 300 clock cycles"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_3_CPU_Cache/#cpu-cache_1","title":"CPU Cache \u7684\u7ed3\u6784","text":"<p>CPU Cache \u6309\u7167\u5355\u4e2a\u5757\u6765\u8bfb\u53d6\u6570\u636e\uff0c\u5355\u4e2a\u8fd9\u6837\u7684\u5757\u79f0\u4e3a\u4e00\u4e2a Cache Line \u3002</p> <p>\u73b0\u4ee3\u5904\u7406\u5668\u7684 Cache Line \u7684\u5927\u5c0f\u4e00\u822c\u5728 64 \u4e2a\u5b57\u8282\u5de6\u53f3\uff0c\u67d0\u4e9b\u8001\u7684\u5904\u7406\u5668\u662f 32 \u4e2a\u5b57\u8282\uff0c\u4e00\u4e9b\u9ad8\u6027\u80fd\u7684\u5904\u7406\u5668\u53ef\u4ee5\u8fbe\u5230 128 \u5b57\u8282\u3002\u8fd9\u91cc\u6211\u4eec\u8bf4\u7684 Cache Line \u7684\u5927\u5c0f\u6307\u7684\u662f\u5b83\u5b9e\u9645\u5b58\u50a8\u6570\u636e\u7684\u5bb9\u91cf\uff0c\u5176\u5b9e\u5b83\u8fd8\u6709\u4e00\u4e9b\u989d\u5916\u7ec4\u6210\u90e8\u5206\uff0c\u5982\u4e0b\uff1a</p> \u7ec4\u6210\u90e8\u5206 \u5927\u5c0f \u4f5c\u7528 Valid Bit 1 \u4f4d \u662f\u5426\u6709\u6548 Dirty Bit 1 \u4f4d \u662f\u5426\u88ab\u4fee\u6539\u8fc7 Tag \u591a\u4f4d \u5730\u5740\u6807\u8bb0\uff0c\u7528\u4e8e\u5339\u914d Data Block 64 \u5b57\u8282 \u5b58\u50a8\u6570\u636e"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_3_CPU_Cache/#cpu-cache_2","title":"CPU Cache \u5982\u4f55\u5199\u5165\u548c\u8bfb\u53d6\u6570\u636e\uff1f","text":"<p>\u6309\u7167\u5b58\u50a8\u5668\u591a\u7ea7\u5c42\u6b21\u7684\u89c4\u5219\uff0cCPU \u5728\u8bbf\u95ee\u5185\u5b58\u6570\u636e\u7684\u65f6\u5019\uff0c\u5e76\u4e0d\u662f\u8df3\u8fc7 CPU Cache \u76f4\u63a5\u8bfb\u53d6\u5185\u5b58\u6570\u636e\u3002\u5185\u5b58\u6570\u636e\u9996\u5148\u88ab\u590d\u5236\u5199\u5165\u76f8\u90bb\u5c42\u6b21\u7684 L3\uff0c\u7136\u540e\u662f L2\u3001L1\uff0c\u6700\u540e\u5199\u5165\u5bc4\u5b58\u5668\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_3_CPU_Cache/#1","title":"1.\u8fb9\u754c\u5bf9\u9f50","text":"<p>\u6570\u636e\u52a0\u8f7d\u8fdb Cache Line \u4e2d\u65f6\uff0c\u8981\u4e25\u683c\u5bf9\u9f50 64 \u5b57\u8282\u7684\u8fb9\u754c\uff0c\u600e\u4e48\u7406\u89e3\u5462\uff1f\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u957f\u5ea6\u4e3a 100 \u7684 C# int \u6570\u7ec4 array \uff0c\u5728 C# \u4e2d\u5355\u4e2a int \u5360\u7528 4 \u5b57\u8282\u3002\u5f53 CPU \u8bfb\u53d6 <code>array[0]</code> \u65f6\uff0c\u7531\u4e8e\u53ea\u5360\u7528\u4e86 4 \u4e2a\u5b57\u8282\uff0c\u4e0d\u6ee1 64 \u5b57\u8282\uff0c\u6240\u4ee5\u9700\u8981\u628a\u76ee\u6807\u5730\u5740\u4e4b\u540e\u7684\u8fde\u7eed\u6570\u636e\u8bfb\u5165\uff0c\u76f4\u5230\u5360\u6ee1 64 \u5b57\u8282\u3002\u6240\u4ee5 <code>array[0] ~ array[15]</code> \u88ab\u4e00\u8d77\u52a0\u8f7d\u8fdb Cache Line \u3002\u6570\u636e\u5c40\u90e8\u6027\u4e00\u90e8\u5206\u539f\u56e0\u4e5f\u5728\u4e8e\u6b64\uff0c\u76f8\u90bb\u5185\u5b58\u5730\u5740\u7684\u6570\u636e\u5f80\u5f80\u5b58\u5728\u4e8e\u540c\u4e00\u4e2a Cache Line \u4e2d\uff0c\u6240\u4ee5\u8bbf\u95ee\u901f\u5ea6\u5f88\u5feb\u3002</p> <p>\u975e\u6570\u7ec4\u7684\u8fde\u7eed\u5730\u5740\uff0cCache Line \u600e\u4e48\u52a0\u8f7d\u7684</p> <p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4e3e\u4f8b\u7684\u662f\u4e00\u4e2a\u6570\u7ec4\u3002\u90a3\u4e48\u975e\u6570\u7ec4\u7684\u60c5\u51b5\u5462\uff1f\u52a0\u5165\u8fd9\u6bb5\u5730\u5740\u4e2d\u5168\u662f\u6ca1\u6709\u5173\u8054\u7684\u82e5\u5e72\u6570\u636e\uff0c\u5982\u4f55\u52a0\u8f7d\uff1f\u5176\u5b9e\u548c\u6570\u636e\u7684\u5b58\u5728\u5f62\u5f0f\u65e0\u5173\uff0c\u5199\u5165 Cache Line \u7684\u5c31\u662f\u8fd9\u6bb5\u8fde\u7eed\u5730\u5740\u7684\u6570\u636e\uff0c\u5982\u679c\u8fde\u7eed\u5730\u5740\u4e2d\u9014\u9047\u5230\u4e86\u5185\u5b58\u7a7a\u6d1e\uff0c\u5373\u6ca1\u6709\u6570\u636e\u7684\u60c5\u51b5\uff0c\u73b0\u4ee3 CPU \u4e5f\u8bbe\u8ba1\u4e86\u8df3\u8fc7\u7a7a\u6d1e\u5730\u5740\u7684\u7b56\u7565\uff0c\u6570\u636e\u6700\u540e\u4f1a\u5bf9\u9f50 64 \u5b57\u8282\u7684\u8fb9\u754c\uff0c\u7136\u540e\u5199\u5165 Cache Line</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_3_CPU_Cache/#2","title":"2.\u5185\u5b58\u5730\u5740\u6620\u5c04","text":"<p>\u5185\u5b58\u7a7a\u95f4\u7684\u5730\u5740\u8303\u56f4\u662f\u8fdc\u5927\u4e8e CPU Cache \u7684\u5730\u5740\u8303\u56f4\u7684\uff0c\u56e0\u6b64\u6570\u636e\u4ece\u5185\u5b58\u4e2d\u52a0\u8f7d\u8fdb CPU Cache \u65f6\uff0c\u9700\u8981\u505a\u4e00\u6b21\u5730\u5740\u6620\u5c04\uff0c\u91c7\u7528\u67d0\u79cd\u8ba1\u7b97\u5c06\u6570\u636e\u5728\u5185\u5b58\u4e0a\u7684\u7269\u7406\u5730\u5740\u8f6c\u6362\u4e3a\u5728 CPU Cache \u4e0a\u7684\u7269\u7406\u5730\u5740\u3002\u6620\u5c04\u7684\u7b56\u7565\u5f88\u591a\uff0c\u6211\u4eec\u4ecb\u7ecd\u6700\u7b80\u5355\u7684\u76f4\u63a5\u6620\u5c04 Cache\uff08Direct Mapped Cache\uff09\uff0c\u5176\u4ed6\u8fd8\u6709\u5168\u76f8\u8fde\uff08Fully Associative Cache\uff09\u548c\u7ec4\u76f8\u8fde\uff08Set Associative Cache\uff09\u7b49\u3002</p> <p>\u76f4\u63a5\u6620\u5c04\u7684\u5b9e\u73b0\u5176\u5b9e\u5c31\u662f\u53d6\u6a21\u8fd0\u7b97\uff0c\u5047\u8bbe\u73b0\u5728\u4e00\u5171\u6709 8 \u4e2a Cache Line \u3002\u90a3\u4e48\u52a0\u8f7d\u7b2c 15 \u4e2a\u5185\u5b58\u5757\uff0c\u6700\u7ec8\u4f1a\u88ab\u653e\u5165 7 \u53f7 Cache Line \u4e2d\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_3_CPU_Cache/#3-cache-line","title":"3.\u4ece Cache Line \u8bfb\u53d6\u6570\u636e","text":"<p>\u4e0a\u9762\u5185\u5b58\u5730\u5740\u76f4\u63a5\u6620\u5c04\u5176\u5b9e\u6709\u4e00\u4e2a\u95ee\u9898\u6ca1\u6709\u89e3\u91ca\uff0c\u90a3\u5c31\u662f\uff1a\u4ece\u5185\u5b58\u52a0\u8f7d\u6570\u636e\u7684\u65f6\u5019\uff0c\u7406\u8bba\u4e0a\u4f1a\u6709\u591a\u4e2a\u5185\u5b58\u5730\u5740\u7684\u6570\u636e\u88ab\u6620\u5c04\u5728\u540c\u4e00\u4e2a Cache Line \u4e2d\uff0c\u6bd4\u5982\u7528\u4e0a\u65b9\u4f8b\u5b50\u7ee7\u7eed\u4e3e\u4f8b\uff0c\u9664\u4e86\u7b2c 15 \u4e2a\u5185\u5b58\u5757\uff0c\u7b2c 23\u300131\u300139 ... \u7b49\u7b49\u5185\u5b58\u5757\u88ab\u52a0\u8f7d\u65f6\u4e5f\u4f1a\u8fdb\u5165 7 \u53f7 Cache Line \uff0c\u8fd9\u91cc\u662f\u4e00\u5bf9\u591a\u7684\u5173\u7cfb\u3002\u6211\u4eec\u77e5\u9053 CPU \u8bfb\u53d6\u76ee\u6807\u6570\u636e\u65f6\uff0c\u4f1a\u5148\u4ece Cache Line \u4e2d\u627e\uff0c\u90a3\u4e48 CPU \u5728\u8bfb Cache Line \u65f6\uff0c\u662f\u5982\u4f55\u5224\u65ad\u5176\u662f\u5426\u662f\u76ee\u6807\u5185\u5b58\u5730\u5740\u7684\u6570\u636e\u5462\uff1f</p> <p>\u4e3a\u4e86\u533a\u5206 7 \u53f7 Cache Line \u5f53\u524d\u5b58\u50a8\u7684\u5230\u5e95\u662f 15 \u8fd8\u662f 23\u300131\u300139 ... \u5185\u5b58\u5757\u7684\u6570\u636e\uff0cCache Line \u4e2d\u8fd8\u4f1a\u5b58\u50a8\u4e00\u4e2a\u7ec4\u6807\u8bb0\uff08Tag\uff09\u3002\u8fd9\u4e2a\u7ec4\u6807\u8bb0\u7528\u4e8e CPU \u5224\u65ad\u662f\u5426\u662f\u76ee\u6807\u5185\u5b58\u5730\u5740\u3002</p> <p>\u7b2c\u4e8c\u4e2a\u95ee\u9898\u662f\uff0c\u4e00\u4e2a CPU Cache Line \u7684\u6570\u636e\u6709 64 \u5b57\u8282\uff0c\u9664\u4e86\u76ee\u6807\u6570\u636e\uff0c\u5176\u5b83\u5185\u5b58\u5730\u5740\u7684\u6570\u636e\u4e5f\u8fde\u5e26\u88ab\u52a0\u8f7d\u8fdb\u6765\u4e86\uff0cCPU \u662f\u5982\u4f55\u4ece\u4e2d\u627e\u5230\u76ee\u6807\u6570\u636e\u7684\u5462\uff1fCPU \u4ece Cache Line \u8bfb\u53d6\u6570\u636e\u65f6\uff0c\u4e0d\u4f1a\u8bfb\u53d6\u6574\u4e2a Data Block\uff0c\u800c\u662f\u6309\u7167\u5355\u4e2a\u201c\u5b57\u201d\uff08Word\uff09\u8bfb\u53d6\uff0c\u6574\u4e2a Data Block \u88ab\u5212\u5206\u4e3a\u82e5\u5e72\u7684\u5b57\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u504f\u79fb\u91cf\uff0cCPU \u5c31\u77e5\u9053\u5230\u5e95\u8bfb\u54ea\u4e2a\u5b57\u3002</p> <p>\u6240\u4ee5\uff0c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u88ab\u62c6\u5206\u6210\u4e09\u4e2a\u90e8\u5206\uff0c\u4f5c\u4e3a CPU Cache Line \u7d22\u5f15\u3001\u7ec4\u6807\u8bb0\u3001\u504f\u79fb\u91cf \u4e09\u4e2a\u90e8\u5206\u7684\u503c\u3002\u6574\u5408\u524d\u9762\u7684\u4e09\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230 CPU \u4ece Cache Line \u8bfb\u53d6\u6570\u636e\u7684\u5168\u8c8c\uff1a</p> <p></p> <p>\u4ece Cache Line \u8bfb\u53d6\u6570\u636e</p> <p>\u603b\u7ed3 CPU \u4ece Cache Line \u8bfb\u53d6\u6570\u636e\u7684\u6b65\u9aa4\uff1a</p> <ul> <li>\u4ece\u5185\u5b58\u5730\u5740\u5f97\u5230 Cache Line \u7d22\u5f15\uff0c\u627e\u5230\u5bf9\u5e94\u7684 Cache Line</li> <li>\u5224\u65ad\u6709\u6548\u4f4d\uff0c\u5982\u679c\u65e0\u6548\uff0cCPU \u4f1a\u76f4\u63a5\u8bbf\u95ee\u5185\u5b58\uff0c\u5e76\u91cd\u65b0\u52a0\u8f7d\u6570\u636e\uff1b\u5982\u679c\u6709\u6548\uff0c\u7ee7\u7eed\u5f80\u4e0b\u6b65\u6267\u884c</li> <li>\u5bf9\u6bd4\u7ec4\u6807\u8bb0\uff0c\u5982\u679c\u4e0d\u5339\u914d\uff0cCPU \u4f1a\u76f4\u63a5\u8bbf\u95ee\u5185\u5b58\uff0c\u5e76\u91cd\u65b0\u52a0\u8f7d\u6570\u636e\uff1b\u5982\u679c\u6709\u6548\uff0c\u7ee7\u7eed\u5f80\u4e0b\u6b65\u6267\u884c</li> <li>\u6839\u636e\u504f\u79fb\u91cf\uff0c\u8bfb\u53d6 Data Block \u4e2d\u5bf9\u5e94\u7684\u5b57</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_3_CPU_Cache/#cache-miss","title":"\u7f13\u5b58\u547d\u4e2d\u7387\u548c Cache Miss","text":"<p>\u7f13\u5b58\u547d\u4e2d\u7387\uff0c\u662f\u6307\u5f53 CPU \u9700\u8981\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u6570\u636e\u65f6\uff0c\u5728 CPU Cache \u4e2d\u627e\u5230\u5e76\u76f4\u63a5\u8fd4\u56de\u7684\u6982\u7387\u3002\u6211\u4eec\u77e5\u9053 CPU Cache \u7684\u8bbf\u95ee\u901f\u5ea6\u662f\u51e0\u5341\u4e0a\u767e\u500d\u5feb\u4e8e\u76f4\u63a5\u8bbf\u95ee\u5185\u5b58\u7684\uff0c\u6240\u4ee5\u7f13\u5b58\u547d\u4e2d\u7387\u8d8a\u9ad8\uff0cCPU \u6027\u80fd\u8868\u73b0\u4e5f\u5c31\u8d8a\u597d\u3002</p> <p>\u4e0e\u4e4b\u5bf9\u5e94\u7684\uff0c\u5b58\u5728 Cache Miss \u8fd9\u6837\u4e00\u4e2a\u8bf4\u6cd5\uff0c\u5b83\u7684\u610f\u601d\u662f CPU \u8bfb\u53d6\u67d0\u4e2a\u6570\u636e\u65f6\uff0c\u5728 CPU Cache \u4e2d\u6ca1\u6709\u627e\u5230\u76ee\u6807\u6570\u636e\uff0c\u9700\u8981\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u3002Cache Miss \u7684\u6548\u7387\u5728 CPU \u8fd9\u4e2a\u5c42\u9762\u662f\u975e\u5e38\u6162\u7684\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u5728\u5f00\u53d1\u4e2d\uff0c\u63d0\u5347\u7f13\u5b58\u547d\u4e2d\u7387\u51cf\u5c11 Cache Miss \u662f\u4e00\u4e2a\u6027\u80fd\u4f18\u5316\u7684\u624b\u6bb5\u3002\u6211\u4eec\u77e5\u9053\u5728 L1 \u5c42\u9762\uff0cCPU Cache \u88ab\u5206\u4e3a\u6570\u636e\u7f13\u5b58\u548c\u6307\u4ee4\u7f13\u5b58\uff0c\u8fd9\u4e24\u79cd\u7c7b\u578b\u7684\u7f13\u5b58\u6211\u4eec\u90fd\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574\u4ee3\u7801\u6765\u63d0\u5347\u5b83\u7684\u547d\u4e2d\u7387\uff0c\u4e0b\u9762\u6765\u770b\u4e24\u4e2a\u4f8b\u5b50\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_3_CPU_Cache/#1_1","title":"1.\u5982\u4f55\u63d0\u5347\u6570\u636e\u7f13\u5b58\u7684\u547d\u4e2d\u7387\uff1f","text":"\u5bf9\u6bd4\u4e24\u79cd\u5f62\u5f0f\u7684\u904d\u5386\u6548\u7387<pre><code>var array = new int[m][n] { .... };\n\n// \u5f62\u5f0f\u4e00\nfor (var i = 0; i &lt; m; i++)\n{\n    for (int j = 0; j &lt; n; j++)\n    {\n        array[i][j] = 0;\n    }\n}\n\n// \u5f62\u5f0f\u4e8c\nfor (var i = 0; i &lt; m; i++)\n{\n    for (int j = 0; j &lt; n; j++)\n    {\n        array[j][i] = 0;\n    }\n}\n</code></pre> <p>\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u5f62\u5f0f\u4e00\u7684\u901f\u5ea6\u6bd4\u5f62\u5f0f\u4e8c\u66f4\u5feb\u3002\u5f62\u5f0f\u4e00\u8bbf\u95ee\u5185\u5b58\u5730\u5740\u7684\u987a\u5e8f\uff0c\u548c\u4e8c\u7ef4\u6570\u7ec4 <code>array</code> \u7684\u6570\u7ec4\u5143\u7d20\u7684\u5185\u5b58\u5206\u5e03\u987a\u5e8f\u662f\u4e00\u81f4\u7684\u3002\u7531\u4e8e Cache Line \u6309\u7167\u8fde\u7eed\u7684\u5185\u5b58\u5730\u5740\u52a0\u8f7d\u5bf9\u9f50 64 \u5b57\u8282\u7684\u6570\u636e\uff0c\u56e0\u6b64\u6570\u636e\u5c40\u90e8\u6027\u7684\u5229\u7528\u7387\u5f88\u9ad8\uff0cCache Miss \u7684\u6b21\u6570\u5f88\u5c11\u3002\u7b2c\u4e8c\u79cd\u5199\u6cd5\uff0c\u8bbf\u95ee\u7684\u65b9\u5f0f\u662f\u8df3\u8dc3\u7684\uff0c\u8bbf\u95ee\u67d0\u4e9b\u5143\u7d20\u65f6\uff0c\u7531\u4e8e Cache Line \u4e2d\u7f13\u5b58\u7684\u6570\u636e\u5df2\u7ecf\u88ab\u64e6\u9664\u4e86\uff0c\u5bfc\u81f4\u9700\u8981\u91cd\u65b0\u53bb\u5185\u5b58\u52a0\u8f7d\uff0c\u4ea7\u751f\u4e86\u66f4\u591a\u6b21 Cache Miss\u3002</p> <p>\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u7684\u7ed3\u8bba\u662f\uff0c\u6309\u7167\u6570\u636e\u5185\u5b58\u5e03\u5c40\u987a\u5e8f\u8bbf\u95ee\u6570\u636e\uff0c\u53ef\u4ee5\u6709\u6548\u5229\u7528 CPU Cache \u7684\u8bbe\u8ba1\u7279\u6027\uff0c\u5927\u5927\u51cf\u5c11 Cache Miss\uff0c\u63d0\u9ad8\u6570\u636e\u7f13\u5b58\u547d\u4e2d\u7387\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01_%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/1_3_CPU_Cache/#2_1","title":"2.\u5982\u4f55\u63d0\u9ad8\u6307\u4ee4\u7f13\u5b58\u547d\u4e2d\u7387\uff1f","text":"\u5bf9\u6bd4\u4e24\u79cd\u5f62\u5f0f\u7684\u6267\u884c\u6548\u7387<pre><code>var array = new int[n];\nfor (int i = 0; i &lt; n; i++)\n{\n    array[i] = rand() % 100;\n}\n\n// \u5f62\u5f0f\u4e00\uff0c\u5148\u904d\u5386\u518d\u6392\u5e8f\nfor (var i = 0; i &lt; n; i++)\n{\n    if (array[i] &lt; 50)\n    {\n        array[i] = 0;\n    }\n}\nsort(array);\n\n// \u5f62\u5f0f\u4e8c\nsort(array);\nfor (var i = 0; i &lt; n; i++)\n{\n    if (array[i] &lt; 50)\n    {\n        array[i] = 0;\n    }\n}\n</code></pre> <p>\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5f62\u5f0f\u4e8c\u7684\u6548\u7387\u66f4\u9ad8\u3002</p> <p>\u4e3a\u4ec0\u4e48\u5462\uff1f\u8981\u89e3\u91ca\u8fd9\u4e2a\u95ee\u9898\uff0c\u9700\u8981\u77e5\u9053 CPU \u5b58\u5728\u5206\u652f\u9884\u6d4b\u7684\u80fd\u529b\uff0c\u5206\u652f\u9884\u6d4b\u53ef\u4ee5\u9884\u6d4b\u63a5\u4e0b\u6765\u662f\u6267\u884c if \u6307\u4ee4\u8fd8\u662f else\uff0c\u4ece\u800c\u63d0\u524d\u5c06\u6307\u4ee4\u653e\u5728\u6307\u4ee4\u7f13\u5b58\u4e2d\uff0c\u8fd9\u6837 CPU \u52a0\u8f7d\u6307\u4ee4\u7684\u901f\u5ea6\u4f1a\u66f4\u5feb\uff0c\u4e0d\u7528\u4ece\u5185\u5b58\u4e2d\u52a0\u8f7d\u6307\u4ee4\u3002</p> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684\u6570\u7ec4\u5b8c\u5168\u662f\u8fd0\u884c\u65f6\u968f\u673a\u586b\u5145\u7684\uff0c\u800c\u5206\u652f\u9884\u6d4b\u5668\u4f1a\u6839\u636e\u5386\u53f2\u547d\u4e2d\u6570\u636e\u6765\u4e3a\u672a\u6765\u8fdb\u884c\u9884\u6d4b\uff0c\u6240\u4ee5\u5206\u652f\u9884\u6d4b\u65e0\u6cd5\u6709\u6548\u5de5\u4f5c\u3002\u76f4\u63a5\u904d\u5386\u518d\u6392\u5e8f\uff0c\u5206\u652f\u9884\u6d4b\u5668\u5728\u904d\u5386\u9636\u6bb5\u9884\u6d4b\u7684\u7ed3\u679c\u4f1a\u591a\u6b21\u5931\u8d25\u5bfc\u81f4\u6307\u4ee4\u547d\u4e2d\u7387\u4f4e\u4e0b\u3002\u4f46\u5982\u679c\u6211\u4eec\u5148\u6392\u5e8f\uff0c\u524d\u51e0\u6b21\u5faa\u73af\u4f1a\u51fa\u73b0\u547d\u4e2d\u3001\u547d\u4e2d\u3001...\u53ea\u6709\u5728\u67d0\u6b21\u6761\u4ef6\u5206\u652f\u4e2d\u5143\u7d20\u503c\u5927\u4e8e 50 \u65f6\u53d1\u751f\u5207\u6362\uff0c\u6240\u4ee5\u547d\u4e2d\u7387\u4f1a\u63d0\u9ad8\u3002</p> <p>\u663e\u793a\u4f7f\u7528\u5206\u652f\u9884\u6d4b</p> <p>C/C++\u8bed\u8a00\u7f16\u8bd1\u5668\u4e2d\u63d0\u4f9b\u4e86 <code>likely</code> \u548c <code>unlikely</code> \u4e24\u79cd\u5b8f\uff0c\u7528\u4e8e\u663e\u793a\u4f7f\u7528\u5206\u652f\u9884\u6d4b\uff0cLua \u7684\u6e90\u7801\u4e2d\u591a\u6b21\u4f7f\u7528\u4e86\u8fd9\u4e2a\u7279\u6027\u3002</p> <p>\u9898\u5916\u8bdd\uff1a\u63d0\u5347\u591a\u6838 CPU \u7684\u7f13\u5b58\u547d\u4e2d\u7387</p> <p>\u7531\u4e8e L1 \u548c L2 \u4e0d\u662f\u5168\u90e8\u6838\u5fc3\u5171\u4eab\u7684\uff0c\u6240\u4ee5\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u5728\u4e0d\u540c\u7684\u6838\u5fc3\u4e4b\u95f4\u6765\u56de\u5207\u6362\u65f6\uff0cCPU Cache \u7684\u547d\u4e2d\u7387\u4e5f\u4f1a\u53d7\u5230\u5f71\u54cd\u3002\u5728\u6267\u884c\u591a\u4e2a\u201c\u8ba1\u7b97\u5bc6\u96c6\u578b\u201d\u7ebf\u7a0b\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u9009\u62e9\u628a\u7ebf\u7a0b\u7ed1\u5b9a\u5728\u67d0\u4e00\u4e2a CPU \u6838\u5fc3\u4e0a\uff0c\u4ee5\u6b64\u6765\u4f18\u5316\u7f13\u5b58\u547d\u4e2d\u7387\u3002\u5bf9\u4e8e Unity \u6765\u8bf4\uff0c\u8fd9\u4e2a\u4f18\u5316\u7b56\u7565\u4e0d\u5e38\u7528\uff0c\u56e0\u4e3a Unity \u5927\u90e8\u5206\u5de5\u4f5c\u5185\u5bb9\u8fd0\u884c\u5728\u4e3b\u7ebf\u7a0b\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03_%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/3_0_%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80/","title":"3.0 \u5185\u5b58\u5730\u5740","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03_%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/3_0_%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80/#_1","title":"\u5206\u7c7b\u548c\u7f16\u5740","text":"<p>\u5185\u5b58\u5730\u5740\u5728\u5e7f\u4e49\u4e0a\u53ef\u4ee5\u5206\u4e3a\u4e24\u79cd\uff1a\u7269\u7406\u5730\u5740\u548c\u865a\u62df\u5730\u5740\u3002</p> <p>\u7269\u7406\u5730\u5740\u662f\u6307\u5728\u786c\u4ef6\u8bbe\u5907\u4e2d\u7684\u5b58\u50a8\u5355\u4e2a\u5b57\u8282\u7684\u5355\u5143\u7684\u5730\u5740\u3002\u800c\u865a\u62df\u5730\u5740\u5219\u662f\u5bf9\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u800c\u8a00\uff0c\u5355\u4e2a\u5b57\u8282\u6570\u636e\u7684\u5b58\u50a8\u5730\u5740\u3002</p> <p>\u5176\u5b9e\u4ece\u4e0a\u9762\u8fd9\u53e5\u8bdd\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\uff1a\u4e0d\u7ba1\u662f\u7269\u7406\u5730\u5740\u8fd8\u662f\u865a\u62df\u5730\u5740\uff0c\u5b83\u90fd\u53ef\u4ee5\u79f0\u4e3a\u5185\u5b58\u5730\u5740\uff0c\u5e76\u4e14\u90fd\u662f\u6309\u7167\u5355\u4e2a\u5b57\u8282\u4e3a\u7c92\u5ea6\u8fdb\u884c\u7f16\u5740\u7684\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03_%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/3_0_%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80/#_2","title":"\u5185\u5b58\u5bb9\u91cf\u548c\u6700\u5927\u5bfb\u5740\u8303\u56f4\u7684\u8ba1\u7b97","text":"<p>\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a 2GB \u7684\u5185\u5b58\u8bbe\u5907\uff0c\u90a3\u4e48\u5b83\u7684\u6700\u5927\u5bfb\u5740\u7a7a\u95f4\u662f\u591a\u5c11\uff1f</p> \\[ \\begin{align} 2gb &amp;= 2 \u00d7 1024 mb \\\\     &amp;= 2 \u00d7 1024 \u00d7 1024 kb \\\\     &amp;= 2 \u00d7 1024 \u00d7 1024 \u00d7 1024 byte \\\\     &amp;= 2 \u00d7 2^{10} \u00d7 2^{10} \u00d7 2^{10} byte \\\\     &amp;= 2^{31} byte \\end{align} \\] <p>\u7531\u4e8e\u662f\u6309\u7167\u5b57\u8282\u7f16\u5740\uff0c\u6240\u4ee5\u53ef\u4ee5\u8868\u793a\u7684\u5730\u5740\u6570\u91cf\u4e00\u5171\u6709 \\(2^{31}\\) \u4e2a\u3002\u6700\u5927\u5bfb\u5740\u5730\u5740\u662f \\(2^{31} - 1\\) \uff08 0 \u5730\u5740\u5360\u4e00\u4e2a\uff09\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03_%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/3_1_%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/","title":"3.1 \u865a\u62df\u5185\u5b58","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03_%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/3_1_%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/#_1","title":"\u4ec0\u4e48\u662f\u865a\u62df\u5185\u5b58\uff1f","text":"<p>\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u8bbe\u5907\uff0c\u8fd8\u7f16\u5199\u4e86\u4e24\u4e2a\u7a0b\u5e8f\uff0c\u6bcf\u4e2a\u7a0b\u5e8f\u90fd\u9700\u8981\u7528\u5230 1000 \u4e2a\u5185\u5b58\u5730\u5740\u3002</p> <p>\u5982\u679c\u4e24\u4e2a\u7a0b\u5e8f\u7528\u5230\u7684\u5730\u5740\u90fd\u4ece 0 \u5f00\u59cb\uff0c\u90a3\u4e48\u8fd9\u4e24\u4e2a\u7a0b\u5e8f\u662f\u65e0\u6cd5\u540c\u65f6\u8fd0\u884c\u5728\u8fd9\u53f0\u673a\u5668\u4e0a\u7684\uff0c\u56e0\u4e3a\u4e00\u4e2a\u7a0b\u5e8f\u5199\u5165\u5728\u67d0\u4e2a\u5730\u5740\u4e0a\u7684\u6570\u636e\u4f1a\u56e0\u4e3a\u53e6\u4e00\u4e2a\u7a0b\u5e8f\u5199\u5165\u65b0\u7684\u6570\u636e\u800c\u64e6\u9664\u3002\u6240\u4ee5\uff0c\u4e3a\u4e86\u8ba9\u4e24\u4e2a\u7a0b\u5e8f\u80fd\u540c\u65f6\u8fd0\u884c\u5728\u8fd9\u53f0\u673a\u5668\u4e0a\uff0c\u6211\u4eec\u53ea\u80fd\u89c4\u5b9a\uff1a\u7b2c\u4e00\u4e2a\u7a0b\u5e8f\u4f7f\u7528\u5730\u5740 0 ~ 999 \uff0c\u7b2c\u4e8c\u4e2a\u7a0b\u5e8f\u4f7f\u7528\u5730\u5740 1000 ~ 1999 \u3002\u90a3\u4e48\uff0c\u5f53\u6211\u4eec\u9700\u8981\u8fd0\u884c\u7b2c\u4e09\u4e2a\u7a0b\u5e8f\u65f6\uff0c\u5730\u5740\u53c8\u53ea\u80fd\u89c4\u5b9a\u5b83\u4f7f\u7528 2000 ~ 2999 \uff0c\u5168\u4e16\u754c\u90a3\u4e48\u591a\u7684\u7a0b\u5e8f\uff0c\u4e0d\u53ef\u80fd\u4e00\u4e00\u89c4\u5b9a\u5b83\u4eec\u4f7f\u7528\u7684\u5730\u5740\u8303\u56f4\u3002</p> <p>\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5f15\u5165\u4e86\u865a\u62df\u5730\u5740\u3002\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u8fd0\u884c\u8d77\u6765\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u4e3a\u5b83\u5206\u914d\u4e00\u5957\u72ec\u7acb\u7684\u865a\u62df\u5730\u5740\uff0c\u4f46\u5b9e\u9645\u5b58\u50a8\u7684\u4f4d\u7f6e\u5219\u662f\u88ab\u6620\u5c04\u5230\u4e0d\u540c\u7684\u7269\u7406\u5730\u5740\u4e0a\u3002\u6bd4\u5982\u6709\u4e24\u4e2a\u8fdb\u7a0b\u6b63\u5728\u540c\u65f6\u8fd0\u884c\uff0c\u5b83\u4eec\u770b\u5230\u81ea\u5df1\u7684\u5185\u5b58\u5730\u5740\u90fd\u662f\u4ece 0x2519FF \u5f00\u59cb\u7684\uff0c\u4f46\u5b9e\u9645\u7684\u7269\u7406\u5730\u5740\u5374\u4e0d\u4e00\u6837\u3002\u8fd9\u6837\uff0c\u76f8\u5f53\u4e8e\u6240\u6709\u7684\u8fdb\u7a0b\u90fd\u88ab\u64cd\u4f5c\u7cfb\u7edf\u52a8\u6001\u5730\u201c\u9694\u79bb\u5f00\u201d\uff0c\u7a0b\u5e8f\u5728\u7f16\u5199\u7684\u65f6\u5019\u4e5f\u4e0d\u7528\u5173\u5fc3\u7269\u7406\u5730\u5740\u4e86\u3002</p> <p>\u8fdb\u7a0b\u6301\u6709\u7684\u865a\u62df\u5730\u5740\u901a\u8fc7 CPU \u4e2d\u7684\u5185\u5b58\u7ba1\u7406\u5355\u5143\uff08MMU\uff09\u7684\u6620\u5c04\u5173\u7cfb\u8f6c\u6362\u4e3a\u7269\u7406\u5730\u5740\uff0c\u7136\u540e\u518d\u901a\u8fc7\u7269\u7406\u5730\u5740\u8bbf\u95ee\u5185\u5b58\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u865a\u62df\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5730\u5740</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03_%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/3_1_%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/#_2","title":"\u865a\u62df\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u7684\u6620\u5c04\u7ba1\u7406","text":"<p>\u865a\u62df\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u7684\u6620\u5c04\u4e3b\u8981\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\u5185\u5b58\u5206\u6bb5\u548c\u5185\u5b58\u5206\u9875</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03_%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/3_1_%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/#_3","title":"\u5185\u5b58\u5206\u6bb5","text":"<p>\u4e00\u4e2a\u7a0b\u5e8f\u53ef\u80fd\u88ab\u64cd\u4f5c\u7cfb\u7edf\u5212\u5206\u4e3a\u591a\u4e2a\u6bb5\uff1a\u6bd4\u5982\u5206\u4e3a\u4ee3\u7801\u6bb5\u3001\u6570\u636e\u6bb5\u3001\u6808\u6bb5\u3001\u5806\u6bb5\uff0c\u8fd9\u51e0\u4e2a\u6bb5\u5728\u7269\u7406\u5730\u5740\u4e0a\u4e0d\u4e00\u5b9a\u662f\u8fde\u7eed\u7684\uff0c\u6bd4\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u7a0b\u5e8f\u88ab\u5206\u6bb5</p> <p>\u518d\u6765\u770b\u865a\u62df\u5730\u5740\u5177\u4f53\u662f\u5982\u4f55\u6620\u5c04\u5230\u7269\u7406\u5730\u5740\u4e0a\u7684\uff1a</p> <p></p> <p>\u5185\u5b58\u5206\u6bb5\u7684\u6620\u5c04</p> <p>\u865a\u62df\u5730\u5740\u88ab\u62c6\u5206\uff0c\u5f97\u5230\u6bb5\u53f7\u548c\u504f\u79fb\u91cf\uff08\u5f53\u7136\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u90e8\u5206\uff09\u3002\u6bb5\u53f7\u7528\u4e8e\u5728\u6bb5\u8868\u4e2d\u67e5\u627e\u6bb5\u7684\u57fa\u5730\u5740\u548c\u754c\u9650\uff1b\u504f\u79fb\u91cf\u5219\u662f\u5177\u4f53\u5730\u5740\u57fa\u4e8e\u57fa\u5730\u5740\u7684\u76f8\u5bf9\u4f4d\u7f6e\u3002\u8fd9\u6837\u4e00\u7ec4\u5408\u5c31\u53ef\u4ee5\u5f97\u5230\u7269\u7406\u5730\u5740\u3002</p> <p>\u5206\u6bb5\u867d\u7136\u89e3\u51b3\u4e86\u6620\u5c04\u95ee\u9898\uff0c\u8ba9\u7a0b\u5e8f\u4e0d\u9700\u8981\u5173\u5fc3\u7269\u7406\u5185\u5b58\u5730\u5740\uff0c\u4f46\u662f\u5b83\u4e5f\u5b58\u5728\u7740\u5916\u90e8\u5185\u5b58\u788e\u7247\u548c\u5185\u5b58\u4ea4\u6362\u6548\u7387\u4f4e\u4e24\u4e2a\u95ee\u9898\u3002</p> <p></p> <p>\u5916\u90e8\u5185\u5b58\u788e\u7247</p> <p>\u5916\u90e8\u5185\u5b58\u788e\u7247\u7684\u95ee\u9898\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u867d\u7136\u6d4f\u89c8\u5668\u7684\u5185\u5b58\u88ab\u91ca\u653e\uff0c\u5269\u4f59\u603b\u7a7a\u95f4\u7684\u5927\u5c0f\u867d\u7136\u9ad8\u4e8e 200MB \u4f46\u662f\u4ecd\u7136\u65e0\u6cd5\u5bb9\u7eb3\u4e00\u6574\u5757\u7684 200MB \u5185\u5b58\u5206\u914d\u3002\u4e3a\u4e86\u89e3\u51b3\u5916\u90e8\u5185\u5b58\u788e\u7247\u95ee\u9898\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u6267\u884c\u5185\u5b58\u4ea4\u6362\uff0c\u6bd4\u5982\u5c06\u56fe\u4e2d\u97f3\u4e50\u5360\u7528\u7684 256MB \u5185\u5b58\u5199\u5230\u786c\u76d8\u4e0a\uff0c\u7136\u540e\u518d\u8bfb\u56de\u5185\u5b58\u4e2d\uff0c\u8fd9\u6837\u97f3\u4e50\u7a0b\u5e8f\u7684\u5185\u5b58\u533a\u57df\u4f1a\u7d27\u8ddf\u7740\u6e38\u620f\u7684\u90e8\u5206\uff0c\u4ece\u800c\u8ba9\u5269\u4f59\u7a7a\u95f4\u53d8\u4e3a\u4e00\u6574\u5757 256MB \u7684\u533a\u57df\uff0c\u5c31\u53ef\u4ee5\u8ba9\u65b0\u7684 200MB \u5185\u5b58\u8fdb\u6765\u4e86\u3002</p> <p>\u7528\u4e8e\u505a\u5185\u5b58\u4ea4\u6362\u7684\u7a7a\u95f4\u5c31\u662f\u6211\u4eec\u5e38\u8bf4\u7684 Swap\u7a7a\u95f4\uff0c\u5b83\u662f\u4ece\u786c\u76d8\u5212\u5206\u51fa\u6765\u7684\uff0c\u786c\u76d8\u7684\u8bbf\u95ee\u901f\u5ea6\u662f\u975e\u5e38\u4f4e\u4e0b\u7684\u3002\u4e3a\u4e86\u89e3\u51b3\u5185\u5b58\u5206\u6bb5\u7684\u8fd9\u4e24\u4e2a\u95ee\u9898\uff0c\u8bde\u751f\u4e86\u5185\u5b58\u5206\u9875\u7684\u7ba1\u7406\u65b9\u5f0f\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03_%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/3_1_%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/#_4","title":"\u5185\u5b58\u5206\u9875","text":"<p>\u5185\u5b58\u5206\u9875\u7684\u601d\u8def\u662f\u5c06\u6574\u4e2a\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u548c\u7269\u7406\u5185\u5b58\u7a7a\u95f4\u90fd\u6309\u7167\u56fa\u5b9a\u5927\u5c0f\u5207\u5206\u6210\u4e00\u4e2a\u4e2a\u7684\u9875\uff08Page\uff09\u3002\u5728 Windows \u548c Linux \u4e2d\uff0c\u5355\u4e2a\u9875\u7684\u5927\u5c0f\u662f 4KB \uff0ciOS \u8001\u8bbe\u5907\uff08ARM32\uff09\u662f 4KB \u800c\u65b0\u8bbe\u5907\uff08ARM64\uff09\u662f 16KB \u3002\u5b89\u5353\u5927\u90e8\u5206\u662f 4KB \uff0c\u4e5f\u5b58\u5728\u5c11\u6570\u662f 16KB \u3002</p> <p>\u8fd9\u79cd\u65b9\u5f0f\u7684\u6620\u5c04\u4e0d\u518d\u4f9d\u8d56\u6bb5\u8868\uff0c\u800c\u662f\u4f9d\u8d56\u9875\u8868\uff1a</p> <p></p> <p>\u9875\u8868\u7684\u804c\u8d23</p> <p>\u6620\u5c04\u7684\u8f6c\u6362\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u5185\u5b58\u5206\u9875\u7684\u6620\u5c04</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03_%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/3_1_%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/#_5","title":"\u5206\u9875\u662f\u600e\u4e48\u89e3\u51b3\u5206\u6bb5\u7684\u300c\u5916\u90e8\u5185\u5b58\u788e\u7247\u548c\u5185\u5b58\u4ea4\u6362\u6548\u7387\u4f4e\u300d\u7684\u95ee\u9898\uff1f","text":"<p>\u5206\u9875\u8ba9\u7a0b\u5e8f\u5728\u52a0\u8f7d\u7684\u65f6\u5019\uff0c\u4e0d\u7528\u4e00\u6b21\u6027\u628a\u6574\u4e2a\u7a0b\u5e8f\u5168\u90e8\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\u4e2d\u3002\u53ea\u6709\u5728\u7a0b\u5e8f\u8fd0\u884c\u4e2d\uff0c\u9700\u8981\u7528\u5230\u5bf9\u5e94\u865a\u62df\u5185\u5b58\u9875\u4e2d\u7684\u6307\u4ee4\u548c\u6570\u636e\u65f6\uff0c\u624d\u52a0\u8f7d\u5230\u7269\u7406\u5185\u5b58\u4e2d\u53bb\u3002</p> <p>\u7531\u4e8e\u63d0\u524d\u5212\u5206\u597d\u4e86\u4e00\u4e2a\u4e2a\u7684\u9875\uff0c\u8fd9\u4e9b\u9875\u662f\u6574\u9f50\u6392\u5217\u7684\uff0c\u6240\u4ee5\u4e0d\u4f1a\u6709\u5916\u90e8\u788e\u7247\u3002\u4f46\u662f\u76f8\u53cd\u7684\uff0c\u4f1a\u51fa\u73b0\u5185\u90e8\u788e\u7247\uff1a\u5206\u9875\u673a\u5236\u52a0\u8f7d\u7a0b\u5e8f\u65f6\u5206\u914d\u5185\u5b58\u7684\u6700\u5c0f\u5355\u4f4d\u662f\u4e00\u9875\uff0c\u5373\u4f7f\u7a0b\u5e8f\u4e0d\u8db3\u4e00\u9875\u5927\u5c0f\u3002</p> <p>\u53e6\u5916\uff0c\u5185\u5b58\u4ea4\u6362\u6548\u7387\u4f4e\u7684\u95ee\u9898\u4e5f\u88ab\u89e3\u51b3\uff0c\u5206\u9875\u673a\u5236\u4e0b\u540c\u6837\u4f1a\u53d1\u751f\u5185\u5b58\u4ea4\u6362\uff0c\u4f46\u662f\u4ea4\u6362\u7684\u5bf9\u8c61\u7531\u4e00\u6574\u4e2a\u7a0b\u5e8f\u6bb5\u53d8\u4e3a\u4e86 \u201c\u6700\u8fd1\u6ca1\u88ab\u4f7f\u7528\u201d \u7684\u5185\u5b58\u9875\u9762\uff0c\u5927\u5927\u964d\u4f4e\u4e86\u4ea4\u6362\u65f6\u95f4\u3002\u5185\u5b58\u9875\u9762\u5199\u5165\u78c1\u76d8\u548c\u5199\u56de\u5185\u5b58\u4e2d\u7684\u884c\u4e3a\u5206\u522b\u79f0\u6362\u51fa\uff08Swap Out\uff09\u548c\u6362\u5165\uff08Swap In\uff09\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03_%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/3_1_%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/#_6","title":"\u591a\u7ea7\u9875\u8868","text":"<p>\u7b80\u5355\u7684\u5206\u9875\u5b58\u5728\u7740\u4e00\u4e2a\u95ee\u9898\uff1a\u9875\u8868\u7684\u5927\u5c0f\u76f8\u5bf9\u4e8e\u53ef\u7528\u5185\u5b58\u6765\u8bf4\u5c06\u4f1a\u975e\u5e38\u5927\uff0c\u6bd4\u5982 32\u4f4d\u73af\u5883 4GB \u7684\u865a\u62df\u5185\u5b58\u4e0b\uff0c\u5355\u4e2a\u8fdb\u7a0b\u5c31\u9700\u8981\u4f7f\u7528 4MB \u7684\u9875\u8868\u3002</p> <p>\u7b80\u5355\u5206\u9875\u9875\u8868\u5927\u5c0f\u7684\u8ba1\u7b97</p> <p>\u5047\u8bbe 32\u4f4d\u73af\u5883 4GB \u7684\u865a\u62df\u5185\u5b58\uff0c\u4e00\u4e2a\u9875\u7684\u5927\u5c0f\u4e3a 4KB \uff082^12\uff09\uff0c\u90a3\u4e48\u603b\u7684\u5185\u5b58\u4f1a\u88ab\u5206\u4e3a\u5927\u7ea6 100 \u4e07\uff082^20\uff09\u4e2a\u9875\u3002\u6bcf\u4e2a\u9875\u7684\u6620\u5c04\u5173\u7cfb\u9700\u8981 4 \u4e2a\u5b57\u8282\u6765\u5b58\u50a8\uff0c\u4e00\u5171\u5c31\u9700\u8981 4MB \u7684\u5185\u5b58\u7a7a\u95f4\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u6240\u4ee5 100 \u4e2a\u8fdb\u7a0b\u5c31\u9700\u8981 400MB \u7684\u5185\u5b58\u6765\u5b58\u50a8\u9875\u8868\uff0c\u8fd9\u5df2\u7ecf\u975e\u5e38\u5e9e\u5927\u4e86\uff0c\u5728 64 \u4f4d\u7684\u73af\u5883\u4e0b\u4f1a\u66f4\u4e25\u91cd\u3002</p> <p>\u591a\u7ea7\u9875\u8868\u7684\u601d\u8def\u662f\u5c06\u5355\u7ea7\u9875\u8868\u4f5c\u4e3a\u4e8c\u7ea7\u9875\uff0c\u518d\u989d\u5916\u52a0\u5165\u4e00\u7ea7\u9875\u548c\u4e8c\u7ea7\u9875\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u591a\u7ea7\u9875\u8868\u7684\u8bbe\u8ba1</p> <p>\u90a3\u4e48\u4f60\u53ef\u80fd\u6ce8\u610f\u5230\u4e86\uff0c\u8fd9\u6837\u4e0d\u662f\u5728\u539f\u6709\u7684\u57fa\u7840\u4e0a\u5360\u7528\u7a7a\u95f4\u66f4\u591a\u4e86\u5417\uff1f\u6bd4\u5982\u4e0a\u56fe\u7684\u4f8b\u5b50\uff0c\u5728\u539f\u6709\u7684 4MB \u7684\u57fa\u7840\u4e0a\uff0c\u8fd8\u591a\u51fa\u4e86 4KB \u7684\u4e00\u7ea7\u9875\u8868\u3002</p> <p>\u5b9e\u9645\u7684\u60c5\u51b5\u662f\uff0c\u4e00\u7ea7\u9875\u8868\u4f1a\u5168\u90e8\u5206\u914d\u5728\u5185\u5b58\u4e2d\uff0c\u4f46\u662f\u4e8c\u7ea7\u9875\u8868\u53ea\u6709\u5728\u4e00\u7ea7\u9875\u8868\u7684\u5bf9\u5e94\u9875\u53f7\u88ab\u4f7f\u7528\u65f6\u624d\u4f1a\u5206\u914d\u521b\u5efa\uff0c\u4e00\u822c\u7684\u7a0b\u5e8f\u5bf9\u4e8e\u4e00\u7ea7\u9875\u8868\u7684\u4f7f\u7528\u7387\u662f\u5f88\u4f4e\u7684\uff0c\u800c\u4e14\u5b58\u5728\u5185\u5b58\u4ea4\u6362\uff0c\u957f\u65f6\u95f4\u672a\u4f7f\u7528\u7684\u9875\u8868\u751a\u81f3\u4f1a\u88ab\u4ea4\u6362\u5230\u786c\u76d8\u4e2d\uff0c\u4e0d\u4f1a\u5360\u7528\u7269\u7406\u5185\u5b58\u3002\u6211\u4eec\u5047\u8bbe\u53ea\u6709 20% \u7684\u4e00\u7ea7\u9875\u8868\u88ab\u4f7f\u7528\uff0c\u90a3\u4e48\u9875\u8868\u5360\u7528\u7684\u7a7a\u95f4\u53ea\u6709 4KB\uff08\u4e00\u7ea7\u9875\u8868\uff09+ 20% * 4MB\uff08\u4e8c\u7ea7\u9875\u8868\uff09= 0.804 MB\uff0c\u8fd9\u76f8\u5bf9\u4e8e\u5355\u7ea7\u9875\u8868\u7684 4MB \u5df2\u7ecf\u662f\u4e00\u4e2a\u5f88\u5927\u7684\u63d0\u5347\u4e86\u3002</p> <p>\u5355\u7ea7\u9875\u8868\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u5728\u9700\u8981\u65f6\u624d\u521b\u5efa\u5462\uff1f\u5176\u5b9e\u591a\u7ea7\u9875\u8868\u7684\u4e8c\u7ea7\u9875\u8868\u4e5f\u5355\u7ea7\u9875\u8868\u662f\u76f8\u540c\u7684\uff0c\u4e5f\u9700\u8981\u8986\u76d6\u5168\u90e8\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u4f46\u662f\u4e34\u65f6\u521b\u5efa\u53d1\u751f\u5728\u4e00\u7ea7\u9875\u8868\uff0c\u8fd9\u662f\u591a\u7ea7\u9875\u8868\u7684\u989d\u5916\u7279\u6027\uff0c\u6240\u4ee5\u5bf9\u4e8e\u5355\u7ea7\u9875\u8868\u6765\u8bf4\uff0c\u9700\u8981\u4e00\u6b21\u6027\u521b\u5efa\u80fd\u8986\u76d6\u5168\u90e8\u865a\u62df\u5730\u5740\u7a7a\u95f4\u7684\u9875\u8868\uff0c\u8fd9 4MB \u65e0\u6cd5\u4f18\u5316\u3002</p> <p>\u5bf9\u4e8e 64 \u4f4d\u7684\u7cfb\u7edf\uff0c\u4e24\u7ea7\u7684\u5206\u9875\u4e5f\u4e0d\u591f\u7528\uff0c\u5b9e\u9645\u4e0a\u6709\u56db\u7ea7\u5206\u9875\uff1a</p> <ul> <li>\u5168\u5c40\u9875\u76ee\u5f55\u9879 PGD\uff08Page Global Directory\uff09</li> <li>\u4e0a\u5c42\u9875\u76ee\u5f55\u9879 PUD\uff08Page Upper Directory\uff09</li> <li>\u4e2d\u95f4\u9875\u76ee\u5f55\u9879 PMD\uff08Page Middle Directory\uff09</li> <li>\u9875\u8868\u9879 PTE\uff08Page Table Entry\uff09</li> </ul> <p></p> <p>64\u4f4d\u7cfb\u7edf\u7684\u591a\u7ea7\u5206\u9875</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03_%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/3_1_%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/#tlbtranslation-lookaside-buffer","title":"TLB\uff08Translation Lookaside Buffer\uff09","text":"<p>\u867d\u7136\u591a\u7ea7\u9875\u8868\u89e3\u51b3\u4e86\u7a7a\u95f4\u4e0a\u7684\u95ee\u9898\uff0c\u4f46\u662f\u7531\u4e8e\u591a\u4e86\u51e0\u6b21\u8f6c\u6362\uff0c\u6240\u4ee5\u65f6\u95f4\u4e0a\u7684\u5f00\u9500\u53d8\u91cd\u4e86\uff0c\u7531\u4e8e\u7a0b\u5e8f\u5b58\u5728\u5c40\u90e8\u6027\u7684\u539f\u7406\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b CPU \u8bbf\u95ee\u7684\u5b58\u50a8\u7a7a\u95f4\u90fd\u662f\u4e00\u6bb5\u76f8\u90bb\u7684\u5730\u5740\uff0c\u6240\u4ee5\u6709\u4e00\u4e2a\u601d\u8def\u662f\u628a\u6700\u5e38\u8bbf\u95ee\u7684\u51e0\u4e2a\u9875\u8868\u9879\u653e\u5728\u4e00\u4e2a\u8bbf\u95ee\u901f\u5ea6\u66f4\u5feb\u7684\u786c\u4ef6\u91cc\u9762\uff0c\u5c01\u88c5\u5728 CPU \u4e2d\u3002\u8fd9\u5c31\u8bde\u751f\u4e86 TLB \uff0c\u5c31\u662f\u6211\u4eec\u719f\u77e5\u7684\u5feb\u8868\uff0c\u4e5f\u53eb\u9875\u8868\u7f13\u5b58\u3001\u8f6c\u5740\u65c1\u8def\u7f13\u5b58\u3002</p> <p>MMU \u8d1f\u8d23\u5730\u5740\u7684\u8f6c\u6362\u548c TLB \u7684\u8bbf\u95ee\u4ea4\u4e92\u3002CPU \u5728\u5bfb\u5740\u65f6\uff0c\u4f1a\u5148\u67e5 TLB \uff0c\u5982\u679c\u6ca1\u6709\u627e\u5230\uff0c\u518d\u7ee7\u7eed\u67e5\u5e38\u89c4\u7684\u9875\u8868\u3002</p> <p></p> <p>TLB</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03_%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/3_1_%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/#_7","title":"\u6bb5\u9875\u5f0f\u5185\u5b58\u7ba1\u7406","text":"<p>\u5185\u5b58\u5206\u6bb5\u548c\u5185\u5b58\u5206\u9875\u4e5f\u53ef\u4ee5\u7ed3\u5408\u8d77\u6765\uff0c\u5f62\u6210\u6bb5\u9875\u5f0f\u7684\u5185\u5b58\u7ba1\u7406\uff0c\u5730\u5740\u7684\u7ed3\u6784\u53d8\u4e3a\u7531\u6bb5\u53f7\u3001\u6bb5\u5185\u9875\u53f7\u3001\u9875\u5185\u4f4d\u79fb\u7ec4\u6210\uff1a</p> <p></p> <p>\u6bb5\u9875\u5f0f\u5185\u5b58\u7ba1\u7406</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03_%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/3_1_%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/#linux","title":"Linux \u5185\u5b58\u5e03\u5c40","text":"<p>Linux \u5185\u5b58\u4e3b\u8981\u91c7\u7528\u7684\u662f\u9875\u5f0f\u5185\u5b58\u7ba1\u7406\uff0c\u4f46\u540c\u65f6\u4e5f\u4e0d\u53ef\u907f\u514d\u5730\u6d89\u53ca\u4e86\u6bb5\u673a\u5236\u3002\u56e0\u4e3a Intel X86 CPU \u4e00\u5f8b\u5bf9\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u7684\u5730\u5740\u5148\u8fdb\u884c\u6bb5\u5f0f\u6620\u5c04\uff0c\u7136\u540e\u624d\u80fd\u8fdb\u884c\u9875\u5f0f\u6620\u5c04\u3002\u4f46\u662f Linux \u5185\u6838\u6240\u91c7\u53d6\u7684\u529e\u6cd5\u662f\u4f7f\u6bb5\u5f0f\u6620\u5c04\u7684\u8fc7\u7a0b\u4e0d\u8d77\u4f5c\u7528\u3002\u56e0\u6b64\u8bf4\u5b83\u662f\u9875\u5f0f\u5185\u5b58\u7ba1\u7406\uff0c\u4f46\u662f\u53c8\u6d89\u53ca\u4e86\u6bb5\u673a\u5236\u3002</p> <p>Linux \u7cfb\u7edf\u4e2d\u7684\u6bcf\u4e2a\u6bb5\u90fd\u662f\u4ece 0 \u5730\u5740\u5f00\u59cb\u7684\u6574\u4e2a 4GB \u865a\u62df\u7a7a\u95f4\uff0832 \u4f4d\u73af\u5883\u4e0b\uff09\uff0c\u4e5f\u5c31\u662f\u6240\u6709\u7684\u6bb5\u7684\u8d77\u59cb\u5730\u5740\u90fd\u662f\u4e00\u6837\u7684\u3002</p> <p>\u5728 Linux \u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u865a\u62df\u5730\u5740\u7a7a\u95f4\u7684\u5185\u90e8\u53c8\u88ab\u5206\u4e3a\u5185\u6838\u7a7a\u95f4\u548c\u7528\u6237\u7a7a\u95f4\u4e24\u90e8\u5206\uff0c\u4e0d\u540c\u4f4d\u6570\u7684\u7cfb\u7edf\uff0c\u5730\u5740\u7a7a\u95f4\u7684\u8303\u56f4\u4e5f\u4e0d\u540c\u3002\u6bd4\u5982\u6700\u5e38\u89c1\u7684 32 \u4f4d\u548c 64 \u4f4d\u7cfb\u7edf\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <p></p> <p>Linux\u865a\u62df\u5730\u5740\u7a7a\u95f4</p> <p>\u867d\u7136\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u5404\u81ea\u6709\u72ec\u7acb\u7684\u865a\u62df\u5185\u5b58\uff0c\u4f46\u662f\u6bcf\u4e2a\u865a\u62df\u5185\u5b58\u4e2d\u7684\u5185\u6838\u5730\u5740\uff0c\u5176\u5b9e\u5173\u8054\u7684\u90fd\u662f\u76f8\u540c\u7684\u7269\u7406\u5185\u5b58\u3002\u8fd9\u6837\uff0c\u8fdb\u7a0b\u5207\u6362\u5230\u5185\u6838\u6001\u540e\uff0c\u5c31\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u8bbf\u95ee\u5185\u6838\u7a7a\u95f4\u5185\u5b58\u3002</p> <p></p> <p>\u5185\u6838\u7a7a\u95f4\u7269\u7406\u5730\u5740\u662f\u540c\u4e00\u4e2a</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03_%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/3_1_%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/#linux_1","title":"Linux \u865a\u62df\u7a7a\u95f4\u7684\u5212\u5206\u60c5\u51b5","text":"<p>Linux\u865a\u62df\u7a7a\u95f4\u7684\u5212\u5206\u60c5\u51b5</p> <p>\u4ee5 32 \u4f4d\u7cfb\u7edf\u4e3a\u4f8b\uff0c\u901a\u8fc7\u8fd9\u5f20\u56fe\u4f60\u53ef\u4ee5\u770b\u5230\uff0c\u7528\u6237\u7a7a\u95f4\u5185\u5b58\uff0c\u4ece\u4f4e\u5230\u9ad8\u5206\u522b\u662f 6 \u79cd\u4e0d\u540c\u7684\u5185\u5b58\u6bb5\uff1a</p> <ul> <li>\u4ee3\u7801\u6bb5\uff0c\u5305\u62ec\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u4ee3\u7801</li> <li>\u6570\u636e\u6bb5\uff0c\u5305\u62ec\u5df2\u521d\u59cb\u5316\u7684\u9759\u6001\u5e38\u91cf\u548c\u5168\u5c40\u53d8\u91cf</li> <li>BSS \u6bb5\uff0c\u5305\u62ec\u672a\u521d\u59cb\u5316\u7684\u9759\u6001\u53d8\u91cf\u548c\u5168\u5c40\u53d8\u91cf</li> <li>\u5806\u6bb5\uff0c\u5305\u62ec\u52a8\u6001\u5206\u914d\u7684\u5185\u5b58\uff0c\u4ece\u4f4e\u5730\u5740\u5f00\u59cb\u5411\u4e0a\u589e\u957f</li> <li>\u6587\u4ef6\u6620\u5c04\u6bb5\uff0c\u5305\u62ec\u52a8\u6001\u5e93\u3001\u5171\u4eab\u5185\u5b58\u7b49\uff0c\u4ece\u4f4e\u5730\u5740\u5f00\u59cb\u5411\u4e0a\u589e\u957f\uff08\u8ddf\u786c\u4ef6\u548c\u5185\u6838\u7248\u672c\u6709\u5173\uff09</li> <li>\u6808\u6bb5\uff0c\u5305\u62ec\u5c40\u90e8\u53d8\u91cf\u548c\u51fd\u6570\u8c03\u7528\u7684\u4e0a\u4e0b\u6587\u7b49\u3002\u6808\u7684\u5927\u5c0f\u662f\u56fa\u5b9a\u7684\uff0c\u4e00\u822c\u662f 8MB \u3002\u5f53\u7136\u7cfb\u7edf\u4e5f\u63d0\u4f9b\u4e86\u53c2\u6570\uff0c\u4ee5\u4fbf\u6211\u4eec\u81ea\u5b9a\u4e49\u5927\u5c0f</li> </ul> <p>\u5728\u8fd9 7 \u4e2a\u5185\u5b58\u6bb5\u4e2d\uff0c\u5806\u548c\u6587\u4ef6\u6620\u5c04\u6bb5\u7684\u5185\u5b58\u662f\u52a8\u6001\u5206\u914d\u7684\u3002</p> <p>\u4fdd\u7559\u533a</p> <p>\u4e0a\u56fe\u4e2d\u7684\u5185\u5b58\u5e03\u5c40\u53ef\u4ee5\u770b\u5230\uff0c\u4ee3\u7801\u6bb5\u4e0b\u9762\u8fd8\u6709\u4e00\u6bb5\u5185\u5b58\u7a7a\u95f4\u7684\uff08\u7070\u8272\u90e8\u5206\uff09\uff0c\u8fd9\u4e00\u5757\u533a\u57df\u662f\u300c\u4fdd\u7559\u533a\u300d\uff0c\u4e4b\u6240\u4ee5\u8981\u6709\u4fdd\u7559\u533a\u8fd9\u662f\u56e0\u4e3a\u5728\u5927\u591a\u6570\u7684\u7cfb\u7edf\u91cc\uff0c\u6211\u4eec\u8ba4\u4e3a\u6bd4\u8f83\u5c0f\u6570\u503c\u7684\u5730\u5740\u4e0d\u662f\u4e00\u4e2a\u5408\u6cd5\u5730\u5740\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u901a\u5e38\u5728 C \u7684\u4ee3\u7801\u91cc\u4f1a\u5c06\u65e0\u6548\u7684\u6307\u9488\u8d4b\u503c\u4e3a NULL\u3002\u56e0\u6b64\uff0c\u8fd9\u91cc\u4f1a\u51fa\u73b0\u4e00\u6bb5\u4e0d\u53ef\u8bbf\u95ee\u7684\u5185\u5b58\u4fdd\u7559\u533a\uff0c\u9632\u6b62\u7a0b\u5e8f\u56e0\u4e3a\u51fa\u73b0 bug \uff0c\u5bfc\u81f4\u8bfb\u6216\u5199\u4e86\u4e00\u4e9b\u5c0f\u5185\u5b58\u5730\u5740\u7684\u6570\u636e\uff0c\u800c\u4f7f\u5f97\u7a0b\u5e8f\u8dd1\u98de\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/01_%E6%A6%82%E8%A7%88/1_1_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95%E6%A6%82%E8%A7%88/","title":"1.1 \u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\u6982\u89c8","text":"<p>Note</p> <p>\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\u8fd9\u90e8\u5206\u7684\u5185\u5bb9\u662f\u5bf9 Hello \u7b97\u6cd5\uff08https://www.hello-algo.com/\uff09\u505a\u7684\u4e2a\u4eba\u7b14\u8bb0\uff0c\u8f6c\u8f7d\u8bf7\u6807\u6ce8\u6765\u6e90\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/01_%E6%A6%82%E8%A7%88/1_1_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95%E6%A6%82%E8%A7%88/#_1","title":"\u7b97\u6cd5\u5b9a\u4e49","text":"<p>\u7b97\u6cd5\uff08algorithm\uff09\u662f\u5728\u6709\u9650\u65f6\u95f4\u5185\u89e3\u51b3\u7279\u5b9a\u95ee\u9898\u7684\u4e00\u7ec4\u6307\u4ee4\u6216\u64cd\u4f5c\u6b65\u9aa4\uff0c\u5b83\u5177\u6709\u4ee5\u4e0b\u7279\u6027\u3002</p> <ul> <li>\u95ee\u9898\u662f\u660e\u786e\u7684\uff0c\u5305\u542b\u6e05\u6670\u7684\u8f93\u5165\u548c\u8f93\u51fa\u5b9a\u4e49\u3002</li> <li>\u5177\u6709\u53ef\u884c\u6027\uff0c\u80fd\u591f\u5728\u6709\u9650\u6b65\u9aa4\u3001\u65f6\u95f4\u548c\u5185\u5b58\u7a7a\u95f4\u4e0b\u5b8c\u6210\u3002</li> <li>\u5404\u6b65\u9aa4\u90fd\u6709\u786e\u5b9a\u7684\u542b\u4e49\uff0c\u5728\u76f8\u540c\u7684\u8f93\u5165\u548c\u8fd0\u884c\u6761\u4ef6\u4e0b\uff0c\u8f93\u51fa\u59cb\u7ec8\u76f8\u540c\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/01_%E6%A6%82%E8%A7%88/1_1_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95%E6%A6%82%E8%A7%88/#_2","title":"\u6570\u636e\u7ed3\u6784\u5b9a\u4e49","text":"<p>\u6570\u636e\u7ed3\u6784\uff08data structure\uff09\u662f\u7ec4\u7ec7\u548c\u5b58\u50a8\u6570\u636e\u7684\u65b9\u5f0f\uff0c\u6db5\u76d6\u6570\u636e\u5185\u5bb9\u3001\u6570\u636e\u4e4b\u95f4\u5173\u7cfb\u548c\u6570\u636e\u64cd\u4f5c\u65b9\u6cd5\uff0c\u5b83\u5177\u6709\u4ee5\u4e0b\u8bbe\u8ba1\u76ee\u6807\u3002</p> <ul> <li>\u7a7a\u95f4\u5360\u7528\u5c3d\u91cf\u5c11\uff0c\u4ee5\u8282\u7701\u8ba1\u7b97\u673a\u5185\u5b58\u3002</li> <li>\u6570\u636e\u64cd\u4f5c\u5c3d\u53ef\u80fd\u5feb\u901f\uff0c\u6db5\u76d6\u6570\u636e\u8bbf\u95ee\u3001\u6dfb\u52a0\u3001\u5220\u9664\u3001\u66f4\u65b0\u7b49\u3002</li> <li>\u63d0\u4f9b\u7b80\u6d01\u7684\u6570\u636e\u8868\u793a\u548c\u903b\u8f91\u4fe1\u606f\uff0c\u4ee5\u4fbf\u7b97\u6cd5\u9ad8\u6548\u8fd0\u884c\u3002</li> </ul> <p>\u6570\u636e\u7ed3\u6784\u8bbe\u8ba1\u662f\u4e00\u4e2a\u5145\u6ee1\u6743\u8861\u7684\u8fc7\u7a0b\u3002\u5982\u679c\u60f3\u5728\u67d0\u65b9\u9762\u53d6\u5f97\u63d0\u5347\uff0c\u5f80\u5f80\u9700\u8981\u5728\u53e6\u4e00\u65b9\u9762\u4f5c\u51fa\u59a5\u534f\u3002\u4e0b\u9762\u4e3e\u4e24\u4e2a\u4f8b\u5b50\u3002</p> <ul> <li>\u94fe\u8868\u76f8\u8f83\u4e8e\u6570\u7ec4\uff0c\u5728\u6570\u636e\u6dfb\u52a0\u548c\u5220\u9664\u64cd\u4f5c\u4e0a\u66f4\u52a0\u4fbf\u6377\uff0c\u4f46\u727a\u7272\u4e86\u6570\u636e\u8bbf\u95ee\u901f\u5ea6\u3002</li> <li>\u56fe\u76f8\u8f83\u4e8e\u94fe\u8868\uff0c\u63d0\u4f9b\u4e86\u66f4\u4e30\u5bcc\u7684\u903b\u8f91\u4fe1\u606f\uff0c\u4f46\u9700\u8981\u5360\u7528\u66f4\u5927\u7684\u5185\u5b58\u7a7a\u95f4\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/01_%E6%A6%82%E8%A7%88/1_1_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95%E6%A6%82%E8%A7%88/#_3","title":"\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\u7684\u5173\u7cfb","text":"<ul> <li>\u6570\u636e\u7ed3\u6784\u662f\u7b97\u6cd5\u7684\u57fa\u77f3\u3002\u6570\u636e\u7ed3\u6784\u4e3a\u7b97\u6cd5\u63d0\u4f9b\u4e86\u7ed3\u6784\u5316\u5b58\u50a8\u7684\u6570\u636e\uff0c\u4ee5\u53ca\u64cd\u4f5c\u6570\u636e\u7684\u65b9\u6cd5\u3002</li> <li>\u7b97\u6cd5\u4e3a\u6570\u636e\u7ed3\u6784\u6ce8\u5165\u751f\u547d\u529b\u3002\u6570\u636e\u7ed3\u6784\u672c\u8eab\u4ec5\u5b58\u50a8\u6570\u636e\u4fe1\u606f\uff0c\u7ed3\u5408\u7b97\u6cd5\u624d\u80fd\u89e3\u51b3\u7279\u5b9a\u95ee\u9898\u3002</li> <li>\u7b97\u6cd5\u901a\u5e38\u53ef\u4ee5\u57fa\u4e8e\u4e0d\u540c\u7684\u6570\u636e\u7ed3\u6784\u5b9e\u73b0\uff0c\u4f46\u6267\u884c\u6548\u7387\u53ef\u80fd\u76f8\u5dee\u5f88\u5927\uff0c\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7ed3\u6784\u662f\u5173\u952e\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_1_%E7%AE%97%E6%B3%95%E6%95%88%E7%8E%87%E8%AF%84%E4%BC%B0/","title":"2.1 \u7b97\u6cd5\u6548\u7387\u8bc4\u4f30","text":"<p>\u7b97\u6cd5\u7684\u76ee\u6807\uff1a</p> <ul> <li>\u627e\u5230\u95ee\u9898\u89e3\u6cd5</li> <li>\u5bfb\u627e\u6700\u4f18\u89e3\u6cd5</li> </ul> <p>\u6240\u4ee5\u7b97\u6cd5\u6548\u7387\u662f\u8bc4\u4ef7\u7b97\u6cd5\u4f18\u52a3\u7684\u6307\u6807\uff0c\u5305\u542b\u4e24\u4e2a\u7ef4\u5ea6\uff1a</p> <ul> <li>\u65f6\u95f4\u6548\u7387</li> <li>\u7a7a\u95f4\u6548\u7387</li> </ul> <p>\u6548\u7387\u8bc4\u4f30\u7684\u65b9\u6cd5\u4e3b\u8981\u5206\uff1a\u5b9e\u9645\u6d4b\u8bd5\u3001\u7406\u8bba\u4f30\u7b97</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_1_%E7%AE%97%E6%B3%95%E6%95%88%E7%8E%87%E8%AF%84%E4%BC%B0/#_1","title":"\u5b9e\u9645\u6d4b\u8bd5","text":"<p>\u5bf9\u6bd4\u4e24\u4e2a\u7b97\u6cd5\u6700\u76f4\u63a5\u7684\u65b9\u5f0f\u662f\u7528\u4e00\u53f0\u8ba1\u7b97\u673a\u76f4\u63a5\u8fd0\u884c\u7136\u540e\u5bf9\u6bd4\u5b83\u4eec\u7684\u8fd0\u884c\u65f6\u95f4\u548c\u5185\u5b58\u5360\u7528\u60c5\u51b5\uff0c\u4f46\u662f\u8fd9\u79cd\u65b9\u5f0f\u4e5f\u5b58\u5728\u5f88\u5927\u7684\u5c40\u9650\u6027\uff1a</p> <ul> <li>\u96be\u4ee5\u6392\u9664\u6d4b\u8bd5\u73af\u5883\u7684\u5e72\u6270\u56e0\u7d20\u3002\u6d4b\u8bd5\u673a\u5668\u7684\u786c\u4ef6\u4f1a\u5f71\u54cd\u6211\u4eec\u7684\u6d4b\u8bd5\uff0c\u6bd4\u5982\u4e00\u4e2a\u7b97\u6cd5\u7684\u5e76\u884c\u5ea6\u8f83\u9ad8\uff0c\u90a3\u4e48\u5b83\u5c31\u66f4\u9002\u5408\u5728\u591a\u6838 CPU \u4e0a\u8fd0\u884c\uff0c\u4e00\u4e2a\u7b97\u6cd5\u7684\u5185\u5b58\u64cd\u4f5c\u5bc6\u96c6\uff0c\u90a3\u4e48\u5b83\u5728\u9ad8\u6027\u80fd\u5185\u5b58\u4e0a\u7684\u8868\u73b0\u5c31\u4f1a\u66f4\u597d\u3002\u4f46\u6211\u4eec\u4e0d\u53ef\u80fd\u5728\u5927\u91cf\u673a\u5668\u4e0a\u505a\u6d4b\u8bd5\u5bf9\u6bd4\u3002</li> <li>\u5c55\u5f00\u5b8c\u6574\u6d4b\u8bd5\u975e\u5e38\u8017\u8d39\u8d44\u6e90\u3002\u968f\u7740\u8f93\u5165\u6570\u636e\u91cf\u7684\u53d8\u5316\uff0c\u7b97\u6cd5\u4f1a\u8868\u73b0\u51fa\u4e0d\u540c\u7684\u6548\u7387\u3002\u4f46\u6211\u4eec\u7684\u6d4b\u8bd5\u8f93\u5165\u6837\u4f8b\u662f\u6709\u9650\u7684\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_1_%E7%AE%97%E6%B3%95%E6%95%88%E7%8E%87%E8%AF%84%E4%BC%B0/#_2","title":"\u7406\u8bba\u4f30\u7b97","text":"<p>\u7531\u4e8e\u5b9e\u9645\u6d4b\u8bd5\u5177\u6709\u8f83\u5927\u7684\u5c40\u9650\u6027\uff0c\u6240\u4ee5\u4e00\u822c\u6211\u4eec\u4f7f\u7528\u590d\u6742\u5ea6\u5206\u6790\u6765\u8bc4\u4f30\u7b97\u6cd5\uff0c\u5b83\u63cf\u8ff0\u4e86\u968f\u7740\u8f93\u5165\u6570\u636e\u5927\u5c0f\u7684\u589e\u52a0\uff0c\u7b97\u6cd5\u6267\u884c\u6240\u9700\u65f6\u95f4\u548c\u7a7a\u95f4\u7684\u589e\u957f\u8d8b\u52bf\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_2_%E8%BF%AD%E4%BB%A3%E5%92%8C%E9%80%92%E5%BD%92/","title":"2.2 \u8fed\u4ee3\u548c\u9012\u5f52","text":"<p>\u5728\u7b97\u6cd5\u4e2d\uff0c\u91cd\u590d\u6267\u884c\u67d0\u4e2a\u4efb\u52a1\u662f\u5f88\u5e38\u89c1\u7684\uff0c\u5b83\u4e0e\u590d\u6742\u5ea6\u5206\u6790\u606f\u606f\u76f8\u5173\u3002\u5e38\u89c1\u7684\u91cd\u590d\u6267\u884c\u6709\u8fed\u4ee3\u548c\u9012\u5f52\uff0c\u8fd9\u4e24\u8005\u4e5f\u7ecf\u5e38\u88ab\u641e\u6df7</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_2_%E8%BF%AD%E4%BB%A3%E5%92%8C%E9%80%92%E5%BD%92/#_1","title":"\u8fed\u4ee3","text":"<p>\u8fed\u4ee3\u662f\u5728\u6ee1\u8db3\u4e00\u5b9a\u7684\u6761\u4ef6\u4e0b\u91cd\u590d\u6267\u884c\u67d0\u6bb5\u4ee3\u7801\uff0c\u76f4\u5230\u8fd9\u4e2a\u6761\u4ef6\u4e0d\u518d\u6ee1\u8db3\uff0c\u4e00\u822c\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ul> <li>for \u5faa\u73af</li> <li>while \u5faa\u73af</li> <li>\u5d4c\u5957\u5faa\u73af</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_2_%E8%BF%AD%E4%BB%A3%E5%92%8C%E9%80%92%E5%BD%92/#_2","title":"\u9012\u5f52","text":"<p>\u9012\u5f52\uff08recursion\uff09\u662f\u4e00\u79cd\u7b97\u6cd5\u7b56\u7565\uff0c\u901a\u8fc7\u51fd\u6570\u8c03\u7528\u81ea\u8eab\u6765\u89e3\u51b3\u95ee\u9898\u3002\u5b83\u4e3b\u8981\u5305\u542b\u4e24\u4e2a\u9636\u6bb5\u3002</p> <ul> <li>\u9012\uff1a\u7a0b\u5e8f\u4e0d\u65ad\u6df1\u5165\u5730\u8c03\u7528\u81ea\u8eab\uff0c\u901a\u5e38\u4f20\u5165\u66f4\u5c0f\u6216\u66f4\u7b80\u5316\u7684\u53c2\u6570\uff0c\u76f4\u5230\u8fbe\u5230 \u201c\u7ec8\u6b62\u6761\u4ef6\u201d\u3002</li> <li>\u5f52\uff1a\u89e6\u53d1 \u201c\u7ec8\u6b62\u6761\u4ef6\u201d \u540e\uff0c\u7a0b\u5e8f\u4ece\u6700\u6df1\u5c42\u7684\u9012\u5f52\u51fd\u6570\u5f00\u59cb\u9010\u5c42\u8fd4\u56de\uff0c\u6c47\u805a\u6bcf\u4e00\u5c42\u7684\u7ed3\u679c\u3002</li> </ul> <p>\u800c\u4ece\u5b9e\u73b0\u7684\u89d2\u5ea6\u770b\uff0c\u9012\u5f52\u4ee3\u7801\u4e3b\u8981\u5305\u542b\u4e09\u4e2a\u8981\u7d20\u3002</p> <ul> <li>\u7ec8\u6b62\u6761\u4ef6\uff1a\u7528\u4e8e\u51b3\u5b9a\u4ec0\u4e48\u65f6\u5019\u7531 \u201c\u9012\u201d \u8f6c \u201c\u5f52\u201d\u3002</li> <li>\u9012\u5f52\u8c03\u7528\uff1a\u5bf9\u5e94 \u201c\u9012\u201d\uff0c\u51fd\u6570\u8c03\u7528\u81ea\u8eab\uff0c\u901a\u5e38\u8f93\u5165\u66f4\u5c0f\u6216\u66f4\u7b80\u5316\u7684\u53c2\u6570\u3002</li> <li>\u8fd4\u56de\u7ed3\u679c\uff1a\u5bf9\u5e94 \u201c\u5f52\u201d\uff0c\u5c06\u5f53\u524d\u9012\u5f52\u5c42\u7ea7\u7684\u7ed3\u679c\u8fd4\u56de\u81f3\u4e0a\u4e00\u5c42\u3002</li> </ul> <p></p> <p>\u6c42\u548c\u51fd\u6570\u7684\u9012\u5f52\u8fc7\u7a0b</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_2_%E8%BF%AD%E4%BB%A3%E5%92%8C%E9%80%92%E5%BD%92/#_3","title":"\u8c03\u7528\u6808","text":"<p>\u9012\u5f52\u51fd\u6570\u6bcf\u6b21\u8c03\u7528\u81ea\u8eab\u65f6\uff0c\u7cfb\u7edf\u90fd\u4f1a\u4e3a\u65b0\u5f00\u542f\u7684\u51fd\u6570\u5206\u914d\u5185\u5b58\uff0c\u4ee5\u5b58\u50a8\u5c40\u90e8\u53d8\u91cf\u3001\u8c03\u7528\u5730\u5740\u548c\u5176\u4ed6\u4fe1\u606f\u7b49\u3002\u8fd9\u5c06\u5bfc\u81f4\u4e24\u65b9\u9762\u7684\u7ed3\u679c\uff1a</p> <ul> <li>\u51fd\u6570\u7684\u4e0a\u4e0b\u6587\u6570\u636e\u90fd\u5b58\u50a8\u5728\u79f0\u4e3a \u201c\u6808\u5e27\u7a7a\u95f4\u201d \u7684\u5185\u5b58\u533a\u57df\u4e2d\uff0c\u76f4\u81f3\u51fd\u6570\u8fd4\u56de\u540e\u624d\u4f1a\u88ab\u91ca\u653e\u3002\u56e0\u6b64\uff0c\u9012\u5f52\u901a\u5e38\u6bd4\u8fed\u4ee3\u66f4\u52a0\u8017\u8d39\u5185\u5b58\u7a7a\u95f4\u3002</li> <li>\u9012\u5f52\u8c03\u7528\u51fd\u6570\u4f1a\u4ea7\u751f\u989d\u5916\u7684\u5f00\u9500\u3002\u56e0\u6b64\u9012\u5f52\u901a\u5e38\u6bd4\u5faa\u73af\u7684\u65f6\u95f4\u6548\u7387\u66f4\u4f4e\u3002</li> </ul> <p>\u5728\u5b9e\u9645\u4e2d\uff0c\u7f16\u7a0b\u8bed\u8a00\u5141\u8bb8\u7684\u9012\u5f52\u6df1\u5ea6\u901a\u5e38\u662f\u6709\u9650\u7684\uff0c\u8fc7\u6df1\u7684\u9012\u5f52\u53ef\u80fd\u5bfc\u81f4\u6808\u6ea2\u51fa\u9519\u8bef\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_2_%E8%BF%AD%E4%BB%A3%E5%92%8C%E9%80%92%E5%BD%92/#_4","title":"\u5c3e\u9012\u5f52","text":"<p>\u5982\u679c\u51fd\u6570\u5728\u8fd4\u56de\u524d\u7684\u6700\u540e\u4e00\u6b65\u624d\u8fdb\u884c\u9012\u5f52\u8c03\u7528\uff0c\u5219\u8be5\u51fd\u6570\u53ef\u4ee5\u88ab\u7f16\u8bd1\u5668\u6216\u89e3\u91ca\u5668\u4f18\u5316\uff0c\u4f7f\u5176\u5728\u7a7a\u95f4\u6548\u7387\u4e0a\u4e0e\u8fed\u4ee3\u76f8\u5f53\u3002\u8fd9\u79cd\u60c5\u51b5\u88ab\u79f0\u4e3a\u5c3e\u9012\u5f52\uff08tail recursion\uff09\u3002</p> <p>\u4e3a\u4ec0\u4e48\u5c3e\u9012\u5f52\u53ef\u4ee5\u4f18\u5316\uff1f\u56e0\u4e3a\u5c3e\u9012\u5f52\u4e2d\uff0c\u9012\u5f52\u8c03\u7528\u662f\u51fd\u6570\u8fd4\u56de\u524d\u7684\u6700\u540e\u4e00\u4e2a\u64cd\u4f5c\uff0c\u8fd9\u610f\u5473\u7740\u51fd\u6570\u8fd4\u56de\u5230\u4e0a\u4e00\u5c42\u7ea7\u540e\uff0c\u65e0\u987b\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u64cd\u4f5c\uff0c\u56e0\u6b64\u7cfb\u7edf\u65e0\u987b\u4fdd\u5b58\u4e0a\u4e00\u5c42\u51fd\u6570\u7684\u4e0a\u4e0b\u6587\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_2_%E8%BF%AD%E4%BB%A3%E5%92%8C%E9%80%92%E5%BD%92/#_5","title":"\u9012\u5f52\u6811","text":"<p>\u5f53\u5904\u7406\u4e0e\u201c\u5206\u6cbb\u201d\u76f8\u5173\u7684\u7b97\u6cd5\u95ee\u9898\u65f6\uff0c\u9012\u5f52\u5f80\u5f80\u6bd4\u8fed\u4ee3\u7684\u601d\u8def\u66f4\u52a0\u76f4\u89c2\u3001\u4ee3\u7801\u66f4\u52a0\u6613\u8bfb\u3002</p> <p>\u601d\u8003\u5b9e\u73b0\u4e00\u4e2a\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u8ba1\u7b97\uff0c\u6570\u5217\u4e2d\u7684\u6bcf\u4e2a\u6570\u5b57\u662f\u524d\u4e24\u4e2a\u6570\u5b57\u7684\u548c\uff0c\u5373 \\(f(n) = f(n - 1) + f(n - 2)\\) \uff0cC++ \u51fd\u6570\u5b9e\u73b0\u5982\u4e0b\uff1a</p> C++<pre><code>/* \u6590\u6ce2\u90a3\u5951\u6570\u5217\uff1a\u9012\u5f52 */\nint fib(int n) {\n    // \u7ec8\u6b62\u6761\u4ef6 f(1) = 0, f(2) = 1\n    if (n == 1 || n == 2)\n        return n - 1;\n    // \u9012\u5f52\u8c03\u7528 f(n) = f(n-1) + f(n-2)\n    int res = fib(n - 1) + fib(n - 2);\n    // \u8fd4\u56de\u7ed3\u679c f(n)\n    return res;\n}\n</code></pre> <p>\u6211\u4eec\u5728\u51fd\u6570\u5185\u9012\u5f52\u8c03\u7528\u4e86\u4e24\u4e2a\u51fd\u6570\uff0c\u8fd9\u610f\u5473\u7740\u4ece\u4e00\u4e2a\u8c03\u7528\u4ea7\u751f\u4e86\u4e24\u4e2a\u8c03\u7528\u5206\u652f\u3002\u8fd9\u6837\u4e0d\u65ad\u9012\u5f52\u8c03\u7528\u4e0b\u53bb\uff0c\u6700\u7ec8\u5c06\u4ea7\u751f\u4e00\u68f5\u5c42\u6570\u4e3a n \u7684\u9012\u5f52\u6811\uff08recursion tree\uff09\u3002</p> <p></p> <p>\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u9012\u5f52\u6811</p> <p>\u4ece\u672c\u8d28\u4e0a\u770b\uff0c\u9012\u5f52\u4f53\u73b0\u4e86 \u201c\u5c06\u95ee\u9898\u5206\u89e3\u4e3a\u66f4\u5c0f\u5b50\u95ee\u9898\u201d \u7684\u601d\u7ef4\u8303\u5f0f\uff0c\u8fd9\u79cd\u5206\u6cbb\u7b56\u7565\u81f3\u5173\u91cd\u8981\u3002</p> <ul> <li>\u4ece\u7b97\u6cd5\u89d2\u5ea6\u770b\uff0c\u641c\u7d22\u3001\u6392\u5e8f\u3001\u56de\u6eaf\u3001\u5206\u6cbb\u3001\u52a8\u6001\u89c4\u5212\u7b49\u8bb8\u591a\u91cd\u8981\u7b97\u6cd5\u7b56\u7565\u76f4\u63a5\u6216\u95f4\u63a5\u5730\u5e94\u7528\u4e86\u8fd9\u79cd\u601d\u7ef4\u65b9\u5f0f\u3002</li> <li>\u4ece\u6570\u636e\u7ed3\u6784\u89d2\u5ea6\u770b\uff0c\u9012\u5f52\u5929\u7136\u9002\u5408\u5904\u7406\u94fe\u8868\u3001\u6811\u548c\u56fe\u7684\u76f8\u5173\u95ee\u9898\uff0c\u56e0\u4e3a\u5b83\u4eec\u975e\u5e38\u9002\u5408\u7528\u5206\u6cbb\u601d\u60f3\u8fdb\u884c\u5206\u6790\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_2_%E8%BF%AD%E4%BB%A3%E5%92%8C%E9%80%92%E5%BD%92/#_6","title":"\u4e24\u8005\u5bf9\u6bd4","text":"\u8fed\u4ee3 \u9012\u5f52 \u5b9e\u73b0\u65b9\u5f0f \u5faa\u73af\u7ed3\u6784 \u51fd\u6570\u8c03\u7528\u81ea\u8eab \u65f6\u95f4\u6548\u7387 \u6548\u7387\u901a\u5e38\u8f83\u9ad8\uff0c\u65e0\u51fd\u6570\u8c03\u7528\u5f00\u9500 \u6bcf\u6b21\u51fd\u6570\u8c03\u7528\u90fd\u4f1a\u4ea7\u751f\u5f00\u9500 \u5185\u5b58\u4f7f\u7528 \u901a\u5e38\u4f7f\u7528\u56fa\u5b9a\u5927\u5c0f\u7684\u5185\u5b58\u7a7a\u95f4 \u7d2f\u79ef\u51fd\u6570\u8c03\u7528\u53ef\u80fd\u4f7f\u7528\u5927\u91cf\u7684\u6808\u5e27\u7a7a\u95f4 \u9002\u7528\u95ee\u9898 \u9002\u7528\u4e8e\u7b80\u5355\u5faa\u73af\u4efb\u52a1\uff0c\u4ee3\u7801\u76f4\u89c2\u3001\u53ef\u8bfb\u6027\u597d \u9002\u7528\u4e8e\u5b50\u95ee\u9898\u5206\u89e3\uff0c\u5982\u6811\u3001\u56fe\u3001\u5206\u6cbb\u3001\u56de\u6eaf\u7b49\uff0c\u4ee3\u7801\u7ed3\u6784\u7b80\u6d01\u3001\u6e05\u6670"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_3_%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/","title":"2.3 \u65f6\u95f4\u590d\u6742\u5ea6","text":"<p>\u65f6\u95f4\u590d\u6742\u5ea6\u5206\u6790\u7edf\u8ba1\u7684\u4e0d\u662f\u7b97\u6cd5\u8fd0\u884c\u65f6\u95f4\uff0c\u800c\u662f\u7b97\u6cd5\u8fd0\u884c\u65f6\u95f4\u968f\u7740\u6570\u636e\u91cf\u53d8\u5927\u65f6\u7684\u589e\u957f\u8d8b\u52bf</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_3_%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#_1","title":"\u7edf\u8ba1\u65f6\u95f4\u589e\u957f\u8d8b\u52bf","text":"C++<pre><code>// \u7b97\u6cd5 A \u7684\u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u5e38\u6570\u9636\nvoid algorithm_A(int n) {\n    cout &lt;&lt; 0 &lt;&lt; endl;\n}\n// \u7b97\u6cd5 B \u7684\u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u7ebf\u6027\u9636\nvoid algorithm_B(int n) {\n    for (int i = 0; i &lt; n; i++) {\n        cout &lt;&lt; 0 &lt;&lt; endl;\n    }\n}\n// \u7b97\u6cd5 C \u7684\u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u5e38\u6570\u9636\nvoid algorithm_C(int n) {\n    for (int i = 0; i &lt; 1000000; i++) {\n        cout &lt;&lt; 0 &lt;&lt; endl;\n    }\n}\n</code></pre> <p>\u5206\u6790\u8fd9\u4e2a\u4f8b\u5b50\uff1a</p> <ul> <li>\u7b97\u6cd5 A \u8fd0\u884c\u65f6\u95f4\u4e0d\u968f n \u7684\u589e\u5927\u800c\u589e\u957f\uff0c\u5b83\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \u201c\u5e38\u6570\u9636\u201d</li> <li>\u7b97\u6cd5 B \u8fd0\u884c\u65f6\u95f4\u968f\u7740 n \u589e\u5927\u5448\u7ebf\u6027\u589e\u957f\u3002\u6b64\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u88ab\u79f0\u4e3a \u201c\u7ebf\u6027\u9636\u201d</li> <li>\u7b97\u6cd5 C \u867d\u7136\u8fd0\u884c\u65f6\u95f4\u5f88\u957f\uff0c\u4f46\u5b83\u4e0e\u8f93\u5165\u6570\u636e\u5927\u5c0f\u4e0e n \u65e0\u5173\uff0c\u56e0\u6b64\u4e5f\u662f \u201c\u5e38\u6570\u9636\u201d</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_3_%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#_2","title":"\u65f6\u95f4\u590d\u6742\u5ea6\u63a8\u7b97\u65b9\u6cd5","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_3_%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#_3","title":"\u7b2c\u4e00\u6b65\uff1a\u7edf\u8ba1\u64cd\u4f5c\u6570\u91cf","text":"C++<pre><code>void algorithm(int n) {\n    int a = 1;\n    a = a + n;\n    for (int i = 0; i &lt; 5 * n + 1; i++) {\n        cout &lt;&lt; 0 &lt;&lt; endl;\n    }\n    for (int i = 0; i &lt; 2 * n; i++) {\n        for (int j = 0; j &lt; n + 1; j++) {\n            cout &lt;&lt; 0 &lt;&lt; endl;\n        }\n    }\n}\n</code></pre> <p>\u4ee5\u4e0a\u4ee3\u7801\u5982\u679c\u7cbe\u786e\u5730\u7edf\u8ba1\u5b83\u7684\u64cd\u4f5c\u6570\u91cf\uff0c\u5e94\u8be5\u662f\u8fd9\u6837\uff1a</p> \\[ T(n) = 2n(n + 1) + 5(n + 1) + 2 = 2n^2 + 7n + 3 \\] <p>\u5b83\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n^2)\\) \uff08\u65f6\u95f4\u590d\u6742\u5ea6\u7531 \\(T(n)\\) \u4e2d\u6700\u9ad8\u9636\u7684\u9879\u6765\u51b3\u5b9a\uff09\uff0c\u4f46\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6280\u5de7\u6765\u5feb\u901f\u63a8\u65ad\uff1a</p> <ul> <li>\u820d\u6389\u5e38\u6570\u548c\u7cfb\u6570\uff0c\u56e0\u4e3a\u5b83\u4eec\u4e0d\u4f1a\u5f71\u54cd\u6700\u7ec8\u7684\u8ba1\u7b97</li> <li>\u5faa\u73af\u5d4c\u5957\u65f6\u4f7f\u7528\u4e58\u6cd5</li> </ul> <p>\u6240\u4ee5\u4e0a\u8ff0\u4ee3\u7801\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5f97\u5230\u64cd\u4f5c\u6570\u91cf\uff1a</p> \\[ T(n) = n^2 + n \\] <p>\u8f6c\u4e3a\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n^2)\\)</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_3_%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#_4","title":"\u5e38\u89c1\u7c7b\u578b","text":"<p>\u5e38\u89c1\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u7c7b\u578b</p> <p>\u4ee5\u4e0b\u5206\u522b\u7528 C++ \u4ee3\u7801\u4e3e\u4f8b\uff1a</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_3_%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#o1","title":"\u5e38\u6570\u9636 \\(O(1)\\)","text":"C++<pre><code>/* \u5e38\u6570\u9636 */\nint constant(int n) {\n    int count = 0;\n    int size = 100000;\n    for (int i = 0; i &lt; size; i++)\n        count++;\n    return count;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_3_%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#on","title":"\u7ebf\u6027\u9636 \\(O(n)\\)","text":"C++<pre><code>/* \u7ebf\u6027\u9636 */\nint linear(int n) {\n    int count = 0;\n    for (int i = 0; i &lt; n; i++)\n        count++;\n    return count;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_3_%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#on2","title":"\u5e73\u65b9\u9636 \\(O(n^2)\\)","text":"C++<pre><code>/* \u5e73\u65b9\u9636 */\nint quadratic(int n) {\n    int count = 0;\n    // \u5faa\u73af\u6b21\u6570\u4e0e\u6570\u636e\u5927\u5c0f n \u6210\u5e73\u65b9\u5173\u7cfb\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt; n; j++) {\n            count++;\n        }\n    }\n    return count;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_3_%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#o2n","title":"\u6307\u6570\u9636 \\(O(2^n)\\)","text":"<p>\u4ee5 \u201c\u7ec6\u80de\u5206\u88c2\u201d \u4e3a\u4f8b\uff0c\u6bcf\u8f6e\u662f\u4e0a\u4e00\u6b21\u7684\u4e24\u500d</p> C++<pre><code>/* \u6307\u6570\u9636\uff08\u5faa\u73af\u5b9e\u73b0\uff09 */\nint exponential(int n) {\n    int count = 0, base = 1;\n    // \u7ec6\u80de\u6bcf\u8f6e\u4e00\u5206\u4e3a\u4e8c\uff0c\u5f62\u6210\u6570\u5217 1, 2, 4, 8, ..., 2^(n-1)\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt; base; j++) {\n            count++;\n        }\n        base *= 2;\n    }\n    // count = 1 + 2 + 4 + 8 + .. + 2^(n-1) = 2^n - 1\n    return count;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_3_%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#olog-n","title":"\u5bf9\u6570\u9636 \\(O(log n)\\)","text":"<p>\u4e0e\u6307\u6570\u9636\u76f8\u53cd\uff0c\u5bf9\u6570\u9636\u53cd\u6620\u4e86\u201c\u6bcf\u8f6e\u7f29\u51cf\u5230\u4e00\u534a\u201d\u7684\u60c5\u51b5</p> C++<pre><code>/* \u5bf9\u6570\u9636\uff08\u5faa\u73af\u5b9e\u73b0\uff09 */\nint logarithmic(int n) {\n    int count = 0;\n    while (n &gt; 1) {\n        n = n / 2;\n        count++;\n    }\n    return count;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_3_%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#on-log-n","title":"\u7ebf\u6027\u5bf9\u6570\u9636 \\(O(n log n)\\)","text":"<p>\u7ebf\u6027\u5bf9\u6570\u9636\u5e38\u51fa\u73b0\u4e8e\u5d4c\u5957\u5faa\u73af\u4e2d\uff0c\u4e24\u5c42\u5faa\u73af\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5206\u522b\u4e3a \\(O(n)\\) \u548c \\(O(log n)\\)</p> C++<pre><code>/* \u7ebf\u6027\u5bf9\u6570\u9636 */\nint linearLogRecur(int n) {\n    if (n &lt;= 1)\n        return 1;\n    int count = linearLogRecur(n / 2) + linearLogRecur(n / 2);\n    for (int i = 0; i &lt; n; i++) {\n        count++;\n    }\n    return count;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_3_%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#on_1","title":"\u9636\u4e58\u9636 \\(O(n!)\\)","text":"<p>\u9636\u4e58\u9636\u5bf9\u5e94\u6570\u5b66\u4e0a\u7684 \u201c\u5168\u6392\u5217\u201d \u95ee\u9898</p> C++<pre><code>/* \u9636\u4e58\u9636\uff08\u9012\u5f52\u5b9e\u73b0\uff09 */\nint factorialRecur(int n) {\n    if (n == 0)\n        return 1;\n    int count = 0;\n    // \u4ece 1 \u4e2a\u5206\u88c2\u51fa n \u4e2a\n    for (int i = 0; i &lt; n; i++) {\n        count += factorialRecur(n - 1);\n    }\n    return count;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_3_%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#_5","title":"\u6700\u5dee\u3001\u6700\u4f73\u3001\u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6","text":"<p>\u7b97\u6cd5\u7684\u65f6\u95f4\u6548\u7387\u5f80\u5f80\u4e0d\u662f\u56fa\u5b9a\u7684\uff0c\u800c\u662f\u4e0e\u8f93\u5165\u6570\u636e\u7684\u5206\u5e03\u6709\u5173\u3002\u56e0\u6b64\u6211\u4eec\u7684\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u80fd\u4f1a\u53d8\u5316\u3002</p> <p>\u6211\u4eec\u5728\u5b9e\u9645\u4e2d\u5f88\u5c11\u4f7f\u7528\u6700\u4f73\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u56e0\u4e3a\u901a\u5e38\u53ea\u6709\u5728\u5f88\u5c0f\u6982\u7387\u4e0b\u624d\u80fd\u8fbe\u5230\uff0c\u53ef\u80fd\u4f1a\u5e26\u6765\u4e00\u5b9a\u7684\u8bef\u5bfc\u6027\u3002\u800c\u6700\u5dee\u65f6\u95f4\u590d\u6742\u5ea6\u66f4\u4e3a\u5b9e\u7528\uff0c\u56e0\u4e3a\u5b83\u7ed9\u51fa\u4e86\u4e00\u4e2a\u6548\u7387\u5b89\u5168\u503c\uff0c\u8ba9\u6211\u4eec\u53ef\u4ee5\u653e\u5fc3\u5730\u4f7f\u7528\u7b97\u6cd5\u3002</p> <p>\u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6\u5219\u662f\u4f53\u73b0\u7b97\u6cd5\u5728\u968f\u673a\u8f93\u5165\u6570\u636e\u4e0b\u7684\u8fd0\u884c\u6548\u7387\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_4_%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/","title":"2.4 \u7a7a\u95f4\u590d\u6742\u5ea6","text":"<p>\u7a7a\u95f4\u590d\u6742\u5ea6\uff08space complexity\uff09\u7528\u4e8e\u8861\u91cf\u7b97\u6cd5\u5360\u7528\u5185\u5b58\u7a7a\u95f4\u968f\u7740\u6570\u636e\u91cf\u53d8\u5927\u65f6\u7684\u589e\u957f\u8d8b\u52bf\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_4_%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#_1","title":"\u7b97\u6cd5\u76f8\u5173\u7a7a\u95f4","text":"<p>\u7b97\u6cd5\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u7684\u5185\u5b58\u7a7a\u95f4\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u51e0\u79cd\u3002</p> <ul> <li>\u8f93\u5165\u7a7a\u95f4\uff1a\u7528\u4e8e\u5b58\u50a8\u7b97\u6cd5\u7684\u8f93\u5165\u6570\u636e</li> <li>\u6682\u5b58\u7a7a\u95f4\uff1a\u7528\u4e8e\u5b58\u50a8\u7b97\u6cd5\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u7684\u53d8\u91cf\u3001\u5bf9\u8c61\u3001\u51fd\u6570\u4e0a\u4e0b\u6587\u7b49\u6570\u636e<ul> <li>\u6682\u5b58\u6570\u636e\uff1a\u7528\u4e8e\u4fdd\u5b58\u7b97\u6cd5\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u7684\u5404\u79cd\u5e38\u91cf\u3001\u53d8\u91cf\u3001\u5bf9\u8c61\u7b49</li> <li>\u6808\u5e27\u7a7a\u95f4\uff1a\u7528\u4e8e\u4fdd\u5b58\u8c03\u7528\u51fd\u6570\u7684\u4e0a\u4e0b\u6587\u6570\u636e\u3002\u7cfb\u7edf\u5728\u6bcf\u6b21\u8c03\u7528\u51fd\u6570\u65f6\u90fd\u4f1a\u5728\u6808\u9876\u90e8\u521b\u5efa\u4e00\u4e2a\u6808\u5e27\uff0c\u51fd\u6570\u8fd4\u56de\u540e\uff0c\u6808\u5e27\u7a7a\u95f4\u4f1a\u88ab\u91ca\u653e</li> <li>\u6307\u4ee4\u7a7a\u95f4\uff1a\u7528\u4e8e\u4fdd\u5b58\u7f16\u8bd1\u540e\u7684\u7a0b\u5e8f\u6307\u4ee4\uff0c\u5728\u5b9e\u9645\u7edf\u8ba1\u4e2d\u901a\u5e38\u5ffd\u7565\u4e0d\u8ba1</li> </ul> </li> <li>\u8f93\u51fa\u7a7a\u95f4\uff1a\u7528\u4e8e\u5b58\u50a8\u7b97\u6cd5\u7684\u8f93\u51fa\u6570\u636e</li> </ul> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u7684\u7edf\u8ba1\u8303\u56f4\u662f \u201c\u6682\u5b58\u7a7a\u95f4\u201d \u52a0\u4e0a \u201c\u8f93\u51fa\u7a7a\u95f4\u201d \uff1a</p> <p></p> <p>\u7b97\u6cd5\u4f7f\u7528\u7684\u76f8\u5173\u7a7a\u95f4</p> <p>\u4ee3\u7801\u4e3e\u4f8b\uff1a</p> C++<pre><code>/* \u7ed3\u6784\u4f53 */\nstruct Node {\n    int val;\n    Node *next;\n    Node(int x) : val(x), next(nullptr) {}\n};\n\n/* \u51fd\u6570 */\nint func() {\n    // \u6267\u884c\u67d0\u4e9b\u64cd\u4f5c...\n    return 0;\n}\n\nint algorithm(int n) {        // \u8f93\u5165\u6570\u636e\n    const int a = 0;          // \u6682\u5b58\u6570\u636e\uff08\u5e38\u91cf\uff09\n    int b = 0;                // \u6682\u5b58\u6570\u636e\uff08\u53d8\u91cf\uff09\n    Node* node = new Node(0); // \u6682\u5b58\u6570\u636e\uff08\u5bf9\u8c61\uff09\n    int c = func();           // \u6808\u5e27\u7a7a\u95f4\uff08\u8c03\u7528\u51fd\u6570\uff09\n    return a + b + c;         // \u8f93\u51fa\u6570\u636e\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_4_%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#_2","title":"\u63a8\u7b97\u65b9\u6cd5","text":"<p>\u6211\u4eec\u901a\u5e38\u53ea\u5173\u6ce8\u6700\u5dee\u7a7a\u95f4\u590d\u6742\u5ea6\u3002\u56e0\u4e3a\u5185\u5b58\u7a7a\u95f4\u662f\u4e00\u9879\u786c\u6027\u8981\u6c42\uff0c\u6211\u4eec\u5fc5\u987b\u786e\u4fdd\u5728\u6240\u6709\u8f93\u5165\u6570\u636e\u4e0b\u90fd\u6709\u8db3\u591f\u7684\u5185\u5b58\u7a7a\u95f4\u9884\u7559\uff1a</p> <ul> <li>\u4ee5\u6700\u5dee\u8f93\u5165\u6570\u636e\u4e3a\u51c6</li> <li>\u4ee5\u7b97\u6cd5\u8fd0\u884c\u4e2d\u7684\u5cf0\u503c\u5185\u5b58\u4e3a\u51c6</li> </ul> C#<pre><code>void Algorithm(int n) {\n    int a = 0;                   // O(1)\n    int[] b = new int[10000];    // O(1)\n    if (n &gt; 10) {\n        int[] nums = new int[n]; // O(n)\n    }\n}\n</code></pre> <p>\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u6700\u5dee\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n)\\)</p> <p>\u5728\u9012\u5f52\u51fd\u6570\u4e2d\uff0c\u9700\u8981\u6ce8\u610f\u7edf\u8ba1\u6808\u5e27\u7a7a\u95f4\uff1a</p> C#<pre><code>int Function() {\n    // \u6267\u884c\u67d0\u4e9b\u64cd\u4f5c\n    return 0;\n}\n/* \u5faa\u73af\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a O(1) */\nvoid Loop(int n) {\n    for (int i = 0; i &lt; n; i++) {\n        Function();\n    }\n}\n/* \u9012\u5f52\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a O(n) */\nint Recur(int n) {\n    if (n == 1) return 1;\n    return Recur(n - 1);\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_4_%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#_3","title":"\u5e38\u89c1\u7c7b\u578b","text":"<p>\u5e38\u89c1\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u7c7b\u578b</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_4_%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#o1","title":"\u5e38\u6570\u9636 \\(O(1)\\)","text":"C++<pre><code>/* \u51fd\u6570 */\nint Function() {\n    // \u6267\u884c\u67d0\u4e9b\u64cd\u4f5c\n    return 0;\n}\n\n/* \u5e38\u6570\u9636 */\nvoid Constant(int n) {\n    // \u5e38\u91cf\u3001\u53d8\u91cf\u3001\u5bf9\u8c61\u5360\u7528 O(1) \u7a7a\u95f4\n    int a = 0;\n    int b = 0;\n    int[] nums = new int[10000];\n    ListNode node = new(0);\n    // \u5faa\u73af\u4e2d\u7684\u53d8\u91cf\u5360\u7528 O(1) \u7a7a\u95f4\n    for (int i = 0; i &lt; n; i++) {\n        int c = 0;\n    }\n    // \u5faa\u73af\u4e2d\u7684\u51fd\u6570\u5360\u7528 O(1) \u7a7a\u95f4\n    for (int i = 0; i &lt; n; i++) {\n        Function();\n    }\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_4_%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#on","title":"\u7ebf\u6027\u9636 \\(O(n)\\)","text":"C++<pre><code>/* \u7ebf\u6027\u9636 */\nvoid Linear(int n) {\n    // \u957f\u5ea6\u4e3a n \u7684\u6570\u7ec4\u5360\u7528 O(n) \u7a7a\u95f4\n    int[] nums = new int[n];\n    // \u957f\u5ea6\u4e3a n \u7684\u5217\u8868\u5360\u7528 O(n) \u7a7a\u95f4\n    List&lt;ListNode&gt; nodes = [];\n    for (int i = 0; i &lt; n; i++) {\n        nodes.Add(new ListNode(i));\n    }\n    // \u957f\u5ea6\u4e3a n \u7684\u54c8\u5e0c\u8868\u5360\u7528 O(n) \u7a7a\u95f4\n    Dictionary&lt;int, string&gt; map = [];\n    for (int i = 0; i &lt; n; i++) {\n        map.Add(i, i.ToString());\n    }\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_4_%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#on2","title":"\u5e73\u65b9\u9636 \\(O(n^2)\\)","text":"C++<pre><code>/* \u5e73\u65b9\u9636 */\nvoid Quadratic(int n) {\n    // \u77e9\u9635\u5360\u7528 O(n^2) \u7a7a\u95f4\n    int[,] numMatrix = new int[n, n];\n    // \u4e8c\u7ef4\u5217\u8868\u5360\u7528 O(n^2) \u7a7a\u95f4\n    List&lt;List&lt;int&gt;&gt; numList = [];\n    for (int i = 0; i &lt; n; i++) {\n        List&lt;int&gt; tmp = [];\n        for (int j = 0; j &lt; n; j++) {\n            tmp.Add(0);\n        }\n        numList.Add(tmp);\n    }\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_4_%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#o2n","title":"\u6307\u6570\u9636 \\(O(2^n)\\)","text":"<p>\u6307\u6570\u9636\u5e38\u89c1\u4e8e\u4e8c\u53c9\u6811</p> C++<pre><code>/* \u6307\u6570\u9636\uff08\u5efa\u7acb\u6ee1\u4e8c\u53c9\u6811\uff09 */\nTreeNode? BuildTree(int n) {\n    if (n == 0) return null;\n    TreeNode root = new(0) {\n        left = BuildTree(n - 1),\n        right = BuildTree(n - 1)\n    };\n    return root;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_4_%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#olog-n","title":"\u5bf9\u6570\u9636 \\(O(log n)\\)","text":"<p>\u5bf9\u6570\u9636\u5e38\u89c1\u4e8e\u5206\u6cbb\u7b97\u6cd5\u3002\u4f8b\u5982\u5f52\u5e76\u6392\u5e8f\uff0c\u8f93\u5165\u957f\u5ea6\u4e3a n \u7684\u6570\u7ec4\uff0c\u6bcf\u8f6e\u9012\u5f52\u5c06\u6570\u7ec4\u4ece\u4e2d\u70b9\u5904\u5212\u5206\u4e3a\u4e24\u534a\uff0c\u5f62\u6210\u9ad8\u5ea6\u4e3a \\(log_{2}n\\) \u7684\u9012\u5f52\u6811\uff0c\u4f7f\u7528 \\(O(log_{2}n)\\) \u6808\u5e27\u7a7a\u95f4\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/02_%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/2_4_%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/#_4","title":"\u6743\u8861\u65f6\u95f4\u4e0e\u7a7a\u95f4","text":"<p>\u964d\u4f4e\u65f6\u95f4\u590d\u6742\u5ea6\u901a\u5e38\u9700\u8981\u4ee5\u63d0\u5347\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a\u4ee3\u4ef7\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002\u6211\u4eec\u5c06\u727a\u7272\u5185\u5b58\u7a7a\u95f4\u6765\u63d0\u5347\u7b97\u6cd5\u8fd0\u884c\u901f\u5ea6\u7684\u601d\u8def\u79f0\u4e3a \u201c\u4ee5\u7a7a\u95f4\u6362\u65f6\u95f4\u201d \uff1b\u53cd\u4e4b\uff0c\u5219\u79f0\u4e3a \u201c\u4ee5\u65f6\u95f4\u6362\u7a7a\u95f4\u201d \u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/03_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/3_1_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E5%88%86%E7%B1%BB/","title":"3.1 \u6570\u636e\u7ed3\u6784\u7684\u5206\u7c7b","text":"<p>\u5e38\u89c1\u7684\u6570\u636e\u7ed3\u6784\u5305\u62ec\uff1a\u6570\u7ec4\u3001\u94fe\u8868\u3001\u6808\u3001\u961f\u5217\u3001\u54c8\u5e0c\u8868\u3001\u6811\u3001\u5806\u3001\u56fe</p> <p>\u6570\u636e\u7ed3\u6784\u7684\u5206\u7c7b\uff0c\u6309\u7167\u903b\u8f91\u7ed3\u6784\u5206\uff1a</p> <ul> <li>\u7ebf\u6027</li> <li>\u975e\u7ebf\u6027</li> </ul> <p>\u6309\u7167\u7269\u7406\u7ed3\u6784\u5206\uff1a</p> <ul> <li>\u8fde\u7eed</li> <li>\u5206\u6563</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/03_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/3_1_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E5%88%86%E7%B1%BB/#_1","title":"\u7ebf\u6027\u548c\u975e\u7ebf\u6027","text":"<ul> <li>\u7ebf\u6027\u6570\u636e\u7ed3\u6784\uff1a\u5143\u7d20\u4e4b\u95f4\u662f\u4e00\u5bf9\u4e00\u7684\u987a\u5e8f\u5173\u7cfb\uff0c\u6bd4\u5982\u6570\u7ec4\u3001\u94fe\u8868\u3001\u6808\u3001\u961f\u5217\u3001\u54c8\u5e0c\u8868</li> <li>\u975e\u7ebf\u6027\u6570\u636e\u7ed3\u6784\uff1a\u5143\u7d20\u4e4b\u95f4\u662f\u4e00\u5bf9\u591a\u6216\u8005\u591a\u5bf9\u591a\u7684\u5173\u7cfb<ul> <li>\u6811\u5f62\u7ed3\u6784\uff08\u4e00\u5bf9\u591a\uff09\uff1a\u6811\u3001\u5806\u3001\u54c8\u5e0c\u8868</li> <li>\u7f51\u72b6\u7ed3\u6784\uff08\u591a\u5bf9\u591a\uff09\uff1a\u56fe</li> </ul> </li> </ul> <p>\u7ebf\u6027\u6570\u636e\u7ed3\u6784\u4e0e\u975e\u7ebf\u6027\u6570\u636e\u7ed3\u6784</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/03_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/3_1_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E5%88%86%E7%B1%BB/#_2","title":"\u8fde\u7eed\u4e0e\u5206\u6563","text":"<p>\u5f53\u7b97\u6cd5\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u6b63\u5728\u5904\u7406\u7684\u6570\u636e\u4e3b\u8981\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u3002\u7cfb\u7edf\u901a\u8fc7\u5185\u5b58\u5730\u5740\u6765\u8bbf\u95ee\u76ee\u6807\u4f4d\u7f6e\u7684\u6570\u636e\u3002</p> <p></p> <p>\u5185\u5b58\u6761\u3001\u5185\u5b58\u7a7a\u95f4\u3001\u5185\u5b58\u5730\u5740</p> <p>\u5728\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\u7684\u8bbe\u8ba1\u4e2d\uff0c\u5185\u5b58\u8d44\u6e90\u662f\u4e00\u4e2a\u91cd\u8981\u7684\u8003\u8651\u56e0\u7d20\u3002\u7b97\u6cd5\u6240\u5360\u7528\u7684\u5185\u5b58\u5cf0\u503c\u4e0d\u5e94\u8d85\u8fc7\u7cfb\u7edf\u5269\u4f59\u7a7a\u95f2\u5185\u5b58\uff1b\u5982\u679c\u7f3a\u5c11\u8fde\u7eed\u5927\u5757\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u90a3\u4e48\u6240\u9009\u7528\u7684\u6570\u636e\u7ed3\u6784\u5fc5\u987b\u80fd\u591f\u5b58\u50a8\u5728\u5206\u6563\u7684\u5185\u5b58\u7a7a\u95f4\u5185\u3002</p> <p></p> <p>\u8fde\u7eed\u7a7a\u95f4\u5b58\u50a8\u4e0e\u5206\u6563\u7a7a\u95f4\u5b58\u50a8</p> <p>\u503c\u5f97\u8bf4\u660e\u7684\u662f\uff0c\u6240\u6709\u6570\u636e\u7ed3\u6784\u90fd\u662f\u57fa\u4e8e\u6570\u7ec4\u3001\u94fe\u8868\u6216\u4e8c\u8005\u7684\u7ec4\u5408\u5b9e\u73b0\u7684\u3002\u4f8b\u5982\uff0c\u6808\u548c\u961f\u5217\u65e2\u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u5b9e\u73b0\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u94fe\u8868\u5b9e\u73b0\uff1b\u800c\u54c8\u5e0c\u8868\u7684\u5b9e\u73b0\u53ef\u80fd\u540c\u65f6\u5305\u542b\u6570\u7ec4\u548c\u94fe\u8868\u3002</p> <ul> <li>\u57fa\u4e8e\u6570\u7ec4\u53ef\u5b9e\u73b0\uff1a\u6808\u3001\u961f\u5217\u3001\u54c8\u5e0c\u8868\u3001\u6811\u3001\u5806\u3001\u56fe\u3001\u77e9\u9635\u3001\u5f20\u91cf\uff08\u7ef4\u5ea6 \\(\\ge3\\) \u7684\u6570\u7ec4\uff09\u7b49\u3002</li> <li>\u57fa\u4e8e\u94fe\u8868\u53ef\u5b9e\u73b0\uff1a\u6808\u3001\u961f\u5217\u3001\u54c8\u5e0c\u8868\u3001\u6811\u3001\u5806\u3001\u56fe\u7b49\u3002</li> </ul> <p>\u94fe\u8868\u5728\u521d\u59cb\u5316\u540e\uff0c\u4ecd\u53ef\u4ee5\u5728\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u5bf9\u5176\u957f\u5ea6\u8fdb\u884c\u8c03\u6574\uff0c\u56e0\u6b64\u4e5f\u79f0\u201c\u52a8\u6001\u6570\u636e\u7ed3\u6784\u201d\u3002\u6570\u7ec4\u5728\u521d\u59cb\u5316\u540e\u957f\u5ea6\u4e0d\u53ef\u53d8\uff0c\u56e0\u6b64\u4e5f\u79f0\u201c\u9759\u6001\u6570\u636e\u7ed3\u6784\u201d\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u6570\u7ec4\u53ef\u901a\u8fc7\u91cd\u65b0\u5206\u914d\u5185\u5b58\u5b9e\u73b0\u957f\u5ea6\u53d8\u5316\uff0c\u4ece\u800c\u5177\u5907\u4e00\u5b9a\u7684\u201c\u52a8\u6001\u6027\u201d\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/03_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/3_2_%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/","title":"3.2 \u57fa\u672c\u6570\u636e\u7c7b\u578b","text":"<p>\u57fa\u672c\u6570\u636e\u7c7b\u578b\u662f CPU \u53ef\u4ee5\u76f4\u63a5\u8fdb\u884c\u8fd0\u7b97\u7684\u7c7b\u578b\u3002\u57fa\u672c\u6570\u636e\u7c7b\u578b\u4ee5\u4e8c\u8fdb\u5236\u7684\u5f62\u5f0f\u5b58\u50a8\u5728\u8ba1\u7b97\u673a\u4e2d\u3002\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u5373\u4e3a 1 \u6bd4\u7279\u3002\u5728\u7edd\u5927\u591a\u6570\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c1 \u5b57\u8282\uff08byte\uff09\u7531 8 \u6bd4\u7279\uff08bit\uff09\u7ec4\u6210\u3002</p> <p>\u4ee5\u4e0b\u662f C# \u4e2d\u7684\u57fa\u672c\u6570\u636e\u7c7b\u578b</p> \u7c7b\u578b\u5206\u7c7b \u7b26\u53f7 \u5360\u7528\u7a7a\u95f4 \u6700\u5c0f\u503c \u6700\u5927\u503c \u9ed8\u8ba4\u503c \u6574\u6570 <code>sbyte</code> 1 \u5b57\u8282 \\(-2^7\\) \\(2^7 - 1\\) 0 \u6574\u6570 <code>byte</code> 1 \u5b57\u8282 \\(0\\) \\(2^8 - 1\\) 0 \u6574\u6570 <code>short</code> 2 \u5b57\u8282 \\(-2^{15}\\) \\(2^{15} - 1\\) 0 \u6574\u6570 <code>ushort</code> 2 \u5b57\u8282 \\(0\\) \\(2^{16} - 1\\) 0 \u6574\u6570 <code>int</code> 4 \u5b57\u8282 \\(-2^{31}\\) \\(2^{31} - 1\\) 0 \u6574\u6570 <code>uint</code> 4 \u5b57\u8282 \\(0\\) \\(2^{32} - 1\\) 0 \u6574\u6570 <code>long</code> 8 \u5b57\u8282 \\(-2^{63}\\) \\(2^{63} - 1\\) 0 \u6574\u6570 <code>ulong</code> 8 \u5b57\u8282 \\(0\\) \\(2^{64} - 1\\) 0 \u6d6e\u70b9\u6570 <code>float</code> 4 \u5b57\u8282 \\(\\approx -3.4 \\times 10^{38}\\) \\(\\approx 3.4 \\times 10^{38}\\) 0.0f \u6d6e\u70b9\u6570 <code>double</code> 8 \u5b57\u8282 \\(\\approx -1.8 \\times 10^{308}\\) \\(\\approx 1.8 \\times 10^{308}\\) 0.0d \u5b57\u7b26 <code>char</code> 2 \u5b57\u8282 <code>U+0000</code> <code>U+FFFF</code> <code>\\0</code> \u5e03\u5c14 <code>bool</code> 1 \u5b57\u8282 <code>false</code> <code>true</code> false <p>\u9700\u8981\u6ce8\u610f\uff1a</p> <ul> <li>\u5b57\u7b26 char \u7684\u5927\u5c0f\u5728 C \u548c C++ \u4e2d\u4e3a 1 \u5b57\u8282\uff0c\u5728\u5927\u591a\u6570\u7f16\u7a0b\u8bed\u8a00\u4e2d\u53d6\u51b3\u4e8e\u7279\u5b9a\u7684\u5b57\u7b26\u7f16\u7801\u65b9\u6cd5\u3002</li> <li>\u5373\u4f7f\u8868\u793a\u5e03\u5c14\u91cf\u4ec5\u9700 1 \u4f4d\uff080 \u6216 1\uff09\uff0c\u5b83\u5728\u5185\u5b58\u4e2d\u901a\u5e38\u4e5f\u5b58\u50a8\u4e3a 1 \u5b57\u8282\u3002\u8fd9\u662f\u56e0\u4e3a\u73b0\u4ee3\u8ba1\u7b97\u673a CPU \u901a\u5e38\u5c06 1 \u5b57\u8282\u4f5c\u4e3a\u6700\u5c0f\u5bfb\u5740\u5185\u5b58\u5355\u5143\u3002</li> </ul> <p>\u57fa\u672c\u6570\u636e\u7c7b\u578b\u63d0\u4f9b\u4e86\u6570\u636e\u7684 \u201c\u5185\u5bb9\u7c7b\u578b\u201d \uff0c\u800c\u6570\u636e\u7ed3\u6784\u63d0\u4f9b\u4e86\u6570\u636e\u7684 \u201c\u7ec4\u7ec7\u65b9\u5f0f\u201d</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/03_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/3_3_%E6%95%B0%E5%AD%97%E7%BC%96%E7%A0%81/","title":"3.3 \u6570\u5b57\u7f16\u7801","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/03_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/3_3_%E6%95%B0%E5%AD%97%E7%BC%96%E7%A0%81/#_1","title":"\u539f\u7801\u3001\u53cd\u7801\u548c\u8865\u7801","text":"<p>\u5728\u4e0a\u4e00\u8282\u7684\u8868\u683c\u4e2d\u6211\u4eec\u53d1\u73b0\uff0c\u6240\u6709\u6574\u6570\u7c7b\u578b\u80fd\u591f\u8868\u793a\u7684\u8d1f\u6570\u90fd\u6bd4\u6b63\u6570\u591a\u4e00\u4e2a\uff0c\u4f8b\u5982 byte \u7684\u53d6\u503c\u8303\u56f4\u662f \\([-128, 127]\\) \u3002\u8fd9\u4e2a\u73b0\u8c61\u6bd4\u8f83\u53cd\u76f4\u89c9\uff0c\u6211\u4eec\u9700\u8981\u5148\u4e86\u89e3\u539f\u7801\u3001\u53cd\u7801\u548c\u8865\u7801\uff1a</p> <ul> <li>\u539f\u7801\uff1a\u6211\u4eec\u5c06\u6570\u5b57\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u7684\u6700\u9ad8\u4f4d\u89c6\u4e3a\u7b26\u53f7\u4f4d\uff0c\u5176\u4e2d 0 \u8868\u793a\u6b63\u6570\uff0c 1 \u8868\u793a\u8d1f\u6570\uff0c\u5176\u4f59\u4f4d\u8868\u793a\u6570\u5b57\u7684\u503c\u3002</li> <li>\u53cd\u7801\uff1a\u6b63\u6570\u7684\u53cd\u7801\u4e0e\u5176\u539f\u7801\u76f8\u540c\uff0c\u8d1f\u6570\u7684\u53cd\u7801\u662f\u5bf9\u5176\u539f\u7801\u9664\u7b26\u53f7\u4f4d\u5916\u7684\u6240\u6709\u4f4d\u53d6\u53cd\u3002</li> <li>\u8865\u7801\uff1a\u6b63\u6570\u7684\u8865\u7801\u4e0e\u5176\u539f\u7801\u76f8\u540c\uff0c\u8d1f\u6570\u7684\u8865\u7801\u662f\u5728\u5176\u53cd\u7801\u7684\u57fa\u7840\u4e0a\u52a0 1 \u3002</li> </ul> <p></p> <p>\u539f\u7801\u3001\u53cd\u7801\u4e0e\u8865\u7801\u4e4b\u95f4\u7684\u76f8\u4e92\u8f6c\u6362</p> <p>\u5728\u8ba1\u7b97\u673a\u4e2d\uff0c\u6570\u5b57\u662f\u4ee5\u201c\u8865\u7801\u201d\u7684\u5f62\u5f0f\u5b58\u50a8\u7684\uff0c\u8fd9\u4e00\u70b9\u975e\u5e38\u91cd\u8981\uff0c\u4f46\u4e3a\u4ec0\u4e48\u4e0d\u7528\u539f\u7801\u5462\uff1f</p> <p>\u539f\u7801\u867d\u7136\u6700\u76f4\u89c2\uff0c\u4f46\u5b58\u5728\u4e00\u4e9b\u5c40\u9650\u6027\u3002\u4e00\u65b9\u9762\uff0c\u8d1f\u6570\u7684\u539f\u7801\u4e0d\u80fd\u76f4\u63a5\u7528\u4e8e\u8fd0\u7b97\u3002\u4f8b\u5982\u5728\u539f\u7801\u4e0b\u8ba1\u7b97 \\(1 + (-2)\\) \uff0c\u5f97\u5230\u7684\u7ed3\u679c\u662f \\(-3\\) \uff0c\u8fd9\u663e\u7136\u662f\u4e0d\u5bf9\u7684\u3002</p> \\[ \\begin{align} 1 + (-2) &amp;= 0000\\,0001 + 1000\\,0010 \\\\     &amp;= 1000\\,0011 \\\\     &amp;= -3 \\end{align} \\] <p>\u4e3a\u4e86\u89e3\u51b3\u6b64\u95ee\u9898\uff0c\u8ba1\u7b97\u673a\u5f15\u5165\u4e86\u53cd\u7801\uff1a</p> \\[ \\begin{align} 1 + (-2) &amp;= 0000\\,0001(\u539f\u7801) + 1000\\,0010(\u539f\u7801) \\\\     &amp;= 0000\\,0001(\u53cd\u7801) + 1111\\,1101(\u53cd\u7801) \\\\     &amp;= 1111\\,1110(\u53cd\u7801) \\\\     &amp;= 1000\\,0001(\u539f\u7801) \\\\     &amp;= -1 \\end{align} \\] <p>\u53e6\u4e00\u65b9\u9762\uff0c\u6570\u5b57\u96f6\u7684\u539f\u7801\u6709 \\(-0\\) \u548c \\(+0\\) \u4e24\u79cd\u8868\u793a\u65b9\u5f0f\u3002\u5982\u679c\u662f\u8fd9\u6837\uff0c\u8ba1\u7b97\u673a\u8981\u5904\u7406\u96f6\u76f8\u5173\u7684\u5224\u65ad\u9700\u8981\u540c\u65f6\u5904\u7406\u8fd9\u4e24\u4e2a\uff0c\u964d\u4f4e\u8fd0\u884c\u6548\u7387\u3002\u4e3a\u4e86\u7edf\u4e00\u6b63\u8d1f\u96f6\uff0c\u8ba1\u7b97\u673a\u5f15\u5165\u4e86\u8865\u7801\uff1a</p> \\[ \\begin{align} -0 &amp;= 1000\\,0000(\u539f\u7801) \\\\     &amp;= 1111\\,1111(\u53cd\u7801) \\\\     &amp;= 1\\,0000\\,0001(\u8865\u7801) \\end{align} \\] <p>\u5728\u8d1f\u96f6\u7684\u53cd\u7801\u57fa\u7840\u4e0a\u52a0 1 \u4f1a\u4ea7\u751f\u8fdb\u4f4d\uff0c\u4f46 byte \u7c7b\u578b\u7684\u957f\u5ea6\u53ea\u6709 8 \u4f4d\uff0c\u56e0\u6b64\u6ea2\u51fa\u5230\u7b2c 9 \u4f4d\u7684 1 \u4f1a\u88ab\u820d\u5f03\u3002\u56e0\u6b64\u5f97\u5230\u7684\u8865\u7801\u4e2d\uff0c\u6b63\u8d1f\u96f6\u90fd\u662f\u540c\u4e00\u4e2a\u503c\u4e86\u3002</p> <p>\u7136\u800c\uff0c\u8865\u7801 \\(1000\\,0000\\) \u662f\u4e00\u4e2a\u4f8b\u5916\uff0c\u5b83\u5e76\u6ca1\u6709\u5bf9\u5e94\u7684\u539f\u7801\u3002\u6839\u636e\u8f6c\u6362\u65b9\u6cd5\uff0c\u6211\u4eec\u5f97\u5230\u8be5\u8865\u7801\u7684\u539f\u7801\u4e3a \\(0000\\,0000\\) \u3002\u8fd9\u663e\u7136\u662f\u77db\u76fe\u7684\uff0c\u56e0\u4e3a\u8be5\u539f\u7801\u8868\u793a\u6570\u5b57 \\(0\\) \uff0c\u5b83\u7684\u8865\u7801\u5e94\u8be5\u662f\u81ea\u8eab\u3002\u8ba1\u7b97\u673a\u89c4\u5b9a\u8fd9\u4e2a\u7279\u6b8a\u7684\u8865\u7801 \\(1000\\,0000\\) \u4ee3\u8868 \\(-128\\) \u3002\u5b9e\u9645\u4e0a\uff0c\\((-1) + (-127)\\) \u5728\u8865\u7801\u4e0b\u7684\u8ba1\u7b97\u7ed3\u679c\u5c31\u662f \\((-128)\\) \u3002</p> \\[ \\begin{align} (-127) + (-1) &amp;= 1111\\,1111(\u539f\u7801) + 1000\\,0001(\u539f\u7801) \\\\     &amp;= 1000\\,0000(\u53cd\u7801) + 1111\\,1110(\u53cd\u7801) \\\\     &amp;= 1000\\,0001(\u8865\u7801) + 1111\\,1111(\u8865\u7801) \\\\     &amp;= 1000\\,0000(\u8865\u7801) \\\\     &amp;= -128 \\end{align} \\] <p>\u4f60\u53ef\u80fd\u5df2\u7ecf\u53d1\u73b0\u4e86\uff0c\u4e0a\u8ff0\u6240\u6709\u8ba1\u7b97\u90fd\u662f\u52a0\u6cd5\u8fd0\u7b97\u3002\u8fd9\u6697\u793a\u7740\u4e00\u4e2a\u91cd\u8981\u4e8b\u5b9e\uff1a\u8ba1\u7b97\u673a\u5185\u90e8\u7684\u786c\u4ef6\u7535\u8def\u4e3b\u8981\u662f\u57fa\u4e8e\u52a0\u6cd5\u8fd0\u7b97\u8bbe\u8ba1\u7684\u3002\u8fd9\u662f\u56e0\u4e3a\u52a0\u6cd5\u8fd0\u7b97\u76f8\u5bf9\u4e8e\u5176\u4ed6\u8fd0\u7b97\uff08\u6bd4\u5982\u4e58\u6cd5\u3001\u9664\u6cd5\u548c\u51cf\u6cd5\uff09\u6765\u8bf4\uff0c\u786c\u4ef6\u5b9e\u73b0\u8d77\u6765\u66f4\u7b80\u5355\uff0c\u66f4\u5bb9\u6613\u8fdb\u884c\u5e76\u884c\u5316\u5904\u7406\uff0c\u8fd0\u7b97\u901f\u5ea6\u66f4\u5feb\u3002</p> <p>\u901a\u8fc7\u5c06\u52a0\u6cd5\u4e0e\u4e00\u4e9b\u57fa\u672c\u903b\u8f91\u8fd0\u7b97\u7ed3\u5408\uff0c\u8ba1\u7b97\u673a\u80fd\u591f\u5b9e\u73b0\u5404\u79cd\u5176\u4ed6\u7684\u6570\u5b66\u8fd0\u7b97\u3002\u4f8b\u5982\uff0c\u8ba1\u7b97\u51cf\u6cd5 \\(a - b\\) \u53ef\u4ee5\u8f6c\u6362\u4e3a\u8ba1\u7b97\u52a0\u6cd5 \\(a + (-b)\\) \uff1b\u8ba1\u7b97\u4e58\u6cd5\u548c\u9664\u6cd5\u53ef\u4ee5\u8f6c\u6362\u4e3a\u8ba1\u7b97\u591a\u6b21\u52a0\u6cd5\u6216\u51cf\u6cd5\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/03_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/3_3_%E6%95%B0%E5%AD%97%E7%BC%96%E7%A0%81/#_2","title":"\u6d6e\u70b9\u6570\u7f16\u7801","text":"<p>IEEE 754 \u6807\u51c6\u4e0b\u7684 float \u7684\u8ba1\u7b97\u793a\u4f8b</p> <p>\u6211\u4eec\u8fd9\u91cc\u6240\u8bf4\u7684\u6d6e\u70b9\u6570\u4ee5 float \u4e3a\u51c6\uff0cdouble \u662f\u540c\u7406\u7684</p> <p>float \u76f8\u8f83\u4e8e int \u800c\u8a00\uff0c\u4e24\u8005\u90fd\u662f 32 \u4f4d\u7684\u957f\u5ea6\uff0c\u4f46\u662f float \u8868\u793a\u7684\u503c\u8303\u56f4\u8981\u5927\u5f97\u591a\uff0c\u4f46\u526f\u4f5c\u7528\u662f\u727a\u7272\u4e86\u7cbe\u5ea6\uff1a\u7531\u4e8e\u6307\u6570\u4f4d\u7684\u5b58\u5728\uff0c\u6d6e\u70b9\u6570 float \u7684\u6570\u503c\u8d8a\u5927\uff0c\u76f8\u90bb\u4e24\u4e2a\u6570\u5b57\u4e4b\u95f4\u7684\u5dee\u503c\u5c31\u4f1a\u8d8b\u5411\u8d8a\u5927\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_1_%E6%95%B0%E7%BB%84/","title":"4.1 \u6570\u7ec4","text":"<p>\u6570\u7ec4\uff08array\uff09\u662f\u4e00\u79cd\u7ebf\u6027\u6570\u636e\u7ed3\u6784\uff0c\u5176\u5c06\u76f8\u540c\u7c7b\u578b\u7684\u5143\u7d20\u5b58\u50a8\u5728\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4\u4e2d\u3002</p> <p></p> <p>\u6570\u7ec4\u5b9a\u4e49\u4e0e\u5b58\u50a8\u65b9\u5f0f</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_1_%E6%95%B0%E7%BB%84/#_1","title":"\u5e38\u7528\u64cd\u4f5c","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_1_%E6%95%B0%E7%BB%84/#1","title":"1. \u521d\u59cb\u5316","text":"C#<pre><code>/* \u521d\u59cb\u5316\u6570\u7ec4 */\nint[] arr = new int[5]; // [ 0, 0, 0, 0, 0 ]\nint[] nums = [1, 3, 2, 5, 4];\n</code></pre> <p>\u4e00\u822c\u6709\u4e24\u79cd\u521d\u59cb\u5316\u65b9\u5f0f\uff1a\u65e0\u521d\u59cb\u503c\u3001\u7ed9\u5b9a\u521d\u59cb\u503c\u3002\u5728\u672a\u6307\u5b9a\u521d\u59cb\u503c\u7684\u60c5\u51b5\u4e0b\uff0c\u5927\u591a\u6570\u7f16\u7a0b\u8bed\u8a00\u4f1a\u5c06\u6570\u7ec4\u5143\u7d20\u521d\u59cb\u5316\u4e3a \\(0\\) \u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_1_%E6%95%B0%E7%BB%84/#2","title":"2. \u8bbf\u95ee\u5143\u7d20","text":"<p>\u6570\u7ec4\u5143\u7d20\u88ab\u5b58\u50a8\u5728\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4\u4e2d\uff0c\u7ed9\u5b9a\u6570\u7ec4\u5185\u5b58\u5730\u5740\uff08\u9996\u5143\u7d20\u5185\u5b58\u5730\u5740\uff09\u548c\u67d0\u4e2a\u5143\u7d20\u7684\u7d22\u5f15\uff0c\u901a\u8fc7\u4e0b\u56fe\u7684\u8ba1\u7b97\u5c31\u53ef\u4ee5\u7b97\u51fa\u6307\u5b9a\u5143\u7d20\u7684\u5185\u5b58\u5730\u5740\uff1a</p> <p></p> <p>\u6570\u7ec4\u5143\u7d20\u7684\u5185\u5b58\u5730\u5740\u8ba1\u7b97</p> <p>\u6570\u7ec4\u9996\u4e2a\u5143\u7d20\u7684\u7d22\u5f15\u4e3a \\(0\\) \uff0c\u8fd9\u4f3c\u4e4e\u6709\u4e9b\u53cd\u76f4\u89c9\uff0c\u56e0\u4e3a\u4ece \\(1\\) \u5f00\u59cb\u8ba1\u6570\u4f1a\u66f4\u81ea\u7136\u3002\u4f46\u4ece\u5730\u5740\u8ba1\u7b97\u516c\u5f0f\u7684\u89d2\u5ea6\u770b\uff0c\u7d22\u5f15\u672c\u8d28\u4e0a\u662f\u5185\u5b58\u5730\u5740\u7684\u504f\u79fb\u91cf\u3002\u9996\u4e2a\u5143\u7d20\u7684\u5730\u5740\u504f\u79fb\u91cf\u662f \\(0\\) \uff0c\u56e0\u6b64\u5b83\u7684\u7d22\u5f15\u4e3a \\(0\\) \u662f\u5408\u7406\u7684\u3002</p> <p>\u5728\u6570\u7ec4\u4e2d\u8bbf\u95ee\u5143\u7d20\u975e\u5e38\u9ad8\u6548\uff0c\u6211\u4eec\u53ef\u4ee5\u5728 \\(O(1)\\) \u65f6\u95f4\u5185\u968f\u673a\u8bbf\u95ee\u6570\u7ec4\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u5143\u7d20</p> C#<pre><code>/* \u968f\u673a\u8bbf\u95ee\u5143\u7d20 */\nint RandomAccess(int[] nums) {\n    Random random = new();\n    // \u5728\u533a\u95f4 [0, nums.Length) \u4e2d\u968f\u673a\u62bd\u53d6\u4e00\u4e2a\u6570\u5b57\n    int randomIndex = random.Next(nums.Length);\n    // \u83b7\u53d6\u5e76\u8fd4\u56de\u968f\u673a\u5143\u7d20\n    int randomNum = nums[randomIndex];\n    return randomNum;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_1_%E6%95%B0%E7%BB%84/#3","title":"3. \u63d2\u5165\u5143\u7d20","text":"<p>\u5728\u6570\u7ec4\u4e2d\u95f4\u63d2\u5165\u4e00\u4e2a\u5143\u7d20\uff0c\u9700\u8981\u5c06\u8be5\u5143\u7d20\u4e4b\u540e\u7684\u6240\u6709\u5143\u7d20\u90fd\u5411\u540e\u79fb\u52a8\u4e00\u4f4d\uff0c\u518d\u628a\u5143\u7d20\u8d4b\u503c\u7ed9\u8be5\u7d22\u5f15\uff1a</p> <p></p> <p>\u6570\u7ec4\u63d2\u5165\u5143\u7d20\u793a\u4f8b</p> <p>\u7531\u4e8e\u6570\u7ec4\u7684\u957f\u5ea6\u662f\u56fa\u5b9a\u7684\uff0c\u56e0\u6b64\u63d2\u5165\u4e00\u4e2a\u5143\u7d20\u5fc5\u5b9a\u4f1a\u5bfc\u81f4\u6570\u7ec4\u5c3e\u90e8\u5143\u7d20 \u201c\u4e22\u5931\u201d \u3002</p> C#<pre><code>/* \u5728\u6570\u7ec4\u7684\u7d22\u5f15 index \u5904\u63d2\u5165\u5143\u7d20 num */\nvoid Insert(int[] nums, int num, int index) {\n    // \u628a\u7d22\u5f15 index \u4ee5\u53ca\u4e4b\u540e\u7684\u6240\u6709\u5143\u7d20\u5411\u540e\u79fb\u52a8\u4e00\u4f4d\n    for (int i = nums.Length - 1; i &gt; index; i--) {\n        nums[i] = nums[i - 1];\n    }\n    // \u5c06 num \u8d4b\u7ed9 index \u5904\u7684\u5143\u7d20\n    nums[index] = num;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_1_%E6%95%B0%E7%BB%84/#4","title":"4. \u5220\u9664\u5143\u7d20","text":"<p>\u82e5\u60f3\u5220\u9664\u7d22\u5f15 \\(i\\) \u5904\u7684\u5143\u7d20\uff0c\u5219\u9700\u8981\u628a\u7d22\u5f15 \\(i\\) \u4e4b\u540e\u7684\u5143\u7d20\u90fd\u5411\u524d\u79fb\u52a8\u4e00\u4f4d\uff1a</p> <p></p> <p>\u6570\u7ec4\u5220\u9664\u5143\u7d20\u793a\u4f8b</p> <p>\u5220\u9664\u5143\u7d20\u5b8c\u6210\u540e\uff0c\u539f\u5148\u672b\u5c3e\u7684\u5143\u7d20\u53d8\u5f97 \u201c\u65e0\u610f\u4e49\u201d \u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u65e0\u987b\u7279\u610f\u53bb\u4fee\u6539\u5b83</p> C#<pre><code>/* \u5220\u9664\u7d22\u5f15 index \u5904\u7684\u5143\u7d20 */\nvoid Remove(int[] nums, int index) {\n    // \u628a\u7d22\u5f15 index \u4e4b\u540e\u7684\u6240\u6709\u5143\u7d20\u5411\u524d\u79fb\u52a8\u4e00\u4f4d\n    for (int i = index; i &lt; nums.Length - 1; i++) {\n        nums[i] = nums[i + 1];\n    }\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_1_%E6%95%B0%E7%BB%84/#5","title":"5. \u904d\u5386\u6570\u7ec4","text":"C#<pre><code>/* \u904d\u5386\u6570\u7ec4 */\nvoid Traverse(int[] nums) {\n    int count = 0;\n    // \u901a\u8fc7\u7d22\u5f15\u904d\u5386\u6570\u7ec4\n    for (int i = 0; i &lt; nums.Length; i++) {\n        count += nums[i];\n    }\n    // \u76f4\u63a5\u904d\u5386\u6570\u7ec4\u5143\u7d20\n    foreach (int num in nums) {\n        count += num;\n    }\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_1_%E6%95%B0%E7%BB%84/#6","title":"6. \u67e5\u627e\u5143\u7d20","text":"<p>\u6570\u7ec4\u67e5\u627e\u5143\u7d20\u7684\u64cd\u4f5c\u662f \u201c\u7ebf\u6027\u67e5\u627e\u201d \uff1a</p> C#<pre><code>/* \u5728\u6570\u7ec4\u4e2d\u67e5\u627e\u6307\u5b9a\u5143\u7d20 */\nint Find(int[] nums, int target) {\n    for (int i = 0; i &lt; nums.Length; i++) {\n        if (nums[i] == target)\n            return i;\n    }\n    return -1;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_1_%E6%95%B0%E7%BB%84/#7","title":"7. \u6269\u5bb9\u6570\u7ec4","text":"<p>\u5728\u590d\u6742\u7684\u7cfb\u7edf\u73af\u5883\u4e2d\uff0c\u7a0b\u5e8f\u96be\u4ee5\u4fdd\u8bc1\u6570\u7ec4\u4e4b\u540e\u7684\u5185\u5b58\u7a7a\u95f4\u662f\u53ef\u7528\u7684\uff0c\u4ece\u800c\u65e0\u6cd5\u5b89\u5168\u5730\u6269\u5c55\u6570\u7ec4\u5bb9\u91cf\u3002\u56e0\u6b64\u5728\u5927\u591a\u6570\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c\u6570\u7ec4\u7684\u957f\u5ea6\u662f\u4e0d\u53ef\u53d8\u7684\u3002</p> <p>\u5982\u679c\u6211\u4eec\u5e0c\u671b\u6269\u5bb9\u6570\u7ec4\uff0c\u5219\u9700\u91cd\u65b0\u5efa\u7acb\u4e00\u4e2a\u66f4\u5927\u7684\u6570\u7ec4\uff0c\u7136\u540e\u628a\u539f\u6570\u7ec4\u5143\u7d20\u4f9d\u6b21\u590d\u5236\u5230\u65b0\u6570\u7ec4\u3002\u8fd9\u662f\u4e00\u4e2a \\(O(n)\\) \u7684\u64cd\u4f5c\uff0c\u5728\u6570\u7ec4\u5f88\u5927\u7684\u60c5\u51b5\u4e0b\u975e\u5e38\u8017\u65f6\u3002</p> C#<pre><code>/* \u6269\u5c55\u6570\u7ec4\u957f\u5ea6 */\nint[] Extend(int[] nums, int enlarge) {\n    // \u521d\u59cb\u5316\u4e00\u4e2a\u6269\u5c55\u957f\u5ea6\u540e\u7684\u6570\u7ec4\n    int[] res = new int[nums.Length + enlarge];\n    // \u5c06\u539f\u6570\u7ec4\u4e2d\u7684\u6240\u6709\u5143\u7d20\u590d\u5236\u5230\u65b0\u6570\u7ec4\n    for (int i = 0; i &lt; nums.Length; i++) {\n        res[i] = nums[i];\n    }\n    // \u8fd4\u56de\u6269\u5c55\u540e\u7684\u65b0\u6570\u7ec4\n    return res;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_1_%E6%95%B0%E7%BB%84/#_2","title":"\u6570\u7ec4\u5c0f\u7ed3","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_1_%E6%95%B0%E7%BB%84/#_3","title":"\u4f18\u7f3a\u70b9\u5206\u6790","text":"<p>\u4f18\u70b9\uff1a</p> <ul> <li>\u7a7a\u95f4\u6548\u7387\u9ad8\uff1a\u6570\u7ec4\u4e3a\u6570\u636e\u5206\u914d\u4e86\u8fde\u7eed\u7684\u5185\u5b58\u5757\uff0c\u65e0\u987b\u989d\u5916\u7684\u7ed3\u6784\u5f00\u9500\uff0c\u8fd9\u4e5f\u8ba9\u8bbf\u95ee\u3001\u904d\u5386\u3001\u67e5\u627e\u975e\u5e38\u5feb</li> <li>\u652f\u6301\u968f\u673a\u8bbf\u95ee\uff1a\u6570\u7ec4\u5141\u8bb8\u5728 \\(O(1)\\) \u65f6\u95f4\u5185\u8bbf\u95ee\u4efb\u4f55\u5143\u7d20</li> <li>\u7f13\u5b58\u5c40\u90e8\u6027\uff1a\u5f53\u8bbf\u95ee\u6570\u7ec4\u5143\u7d20\u65f6\uff0c\u8ba1\u7b97\u673a\u4e0d\u4ec5\u4f1a\u52a0\u8f7d\u5b83\uff0c\u8fd8\u4f1a\u7f13\u5b58\u5176\u5468\u56f4\u7684\u5176\u4ed6\u6570\u636e\uff0c\u4ece\u800c\u501f\u52a9\u9ad8\u901f\u7f13\u5b58\u6765\u63d0\u5347\u540e\u7eed\u64cd\u4f5c\u7684\u6267\u884c\u901f\u5ea6</li> </ul> <p>\u7f3a\u70b9\uff1a</p> <ul> <li>\u63d2\u5165\u3001\u5220\u9664\u6548\u7387\u4f4e\uff1a\u65f6\u95f4\u590d\u6742\u5ea6\u9ad8\uff08\\(O(n)\\)\uff09\uff0c\u9700\u8981\u79fb\u52a8\u5927\u91cf\u5143\u7d20</li> <li>\u957f\u5ea6\u4e0d\u53ef\u53d8\uff1a\u6570\u7ec4\u5728\u521d\u59cb\u5316\u540e\u957f\u5ea6\u5c31\u56fa\u5b9a\u4e86\uff0c\u6269\u5bb9\u6570\u7ec4\u9700\u8981\u5c06\u6240\u6709\u6570\u636e\u590d\u5236\u5230\u65b0\u6570\u7ec4\uff0c\u5f00\u9500\u5f88\u5927</li> <li>\u7a7a\u95f4\u6d6a\u8d39\uff1a\u5982\u679c\u6570\u7ec4\u5206\u914d\u7684\u5927\u5c0f\u8d85\u8fc7\u5b9e\u9645\u6240\u9700\uff0c\u90a3\u4e48\u591a\u4f59\u7684\u7a7a\u95f4\u5c31\u88ab\u6d6a\u8d39\u4e86</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_1_%E6%95%B0%E7%BB%84/#_4","title":"\u5178\u578b\u5e94\u7528","text":"<ul> <li>\u968f\u673a\u8bbf\u95ee\uff1a\u5982\u679c\u6211\u4eec\u60f3\u968f\u673a\u62bd\u53d6\u4e00\u4e9b\u6837\u672c\uff0c\u90a3\u4e48\u53ef\u4ee5\u7528\u6570\u7ec4\u5b58\u50a8\uff0c\u5e76\u751f\u6210\u4e00\u4e2a\u968f\u673a\u5e8f\u5217\uff0c\u6839\u636e\u7d22\u5f15\u5b9e\u73b0\u968f\u673a\u62bd\u6837\u3002</li> <li>\u6392\u5e8f\u548c\u641c\u7d22\uff1a\u6570\u7ec4\u662f\u6392\u5e8f\u548c\u641c\u7d22\u7b97\u6cd5\u6700\u5e38\u7528\u7684\u6570\u636e\u7ed3\u6784\u3002\u5feb\u901f\u6392\u5e8f\u3001\u5f52\u5e76\u6392\u5e8f\u3001\u4e8c\u5206\u67e5\u627e\u7b49\u90fd\u4e3b\u8981\u5728\u6570\u7ec4\u4e0a\u8fdb\u884c\u3002</li> <li>\u67e5\u627e\u8868\uff1a\u5f53\u9700\u8981\u5feb\u901f\u67e5\u627e\u4e00\u4e2a\u5143\u7d20\u6216\u5176\u5bf9\u5e94\u5173\u7cfb\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u4f5c\u4e3a\u67e5\u627e\u8868\u3002\u5047\u5982\u6211\u4eec\u60f3\u5b9e\u73b0\u5b57\u7b26\u5230 ASCII \u7801\u7684\u6620\u5c04\uff0c\u5219\u53ef\u4ee5\u5c06\u5b57\u7b26\u7684 ASCII \u7801\u503c\u4f5c\u4e3a\u7d22\u5f15\uff0c\u5bf9\u5e94\u7684\u5143\u7d20\u5b58\u653e\u5728\u6570\u7ec4\u4e2d\u7684\u5bf9\u5e94\u4f4d\u7f6e\u3002</li> <li>\u673a\u5668\u5b66\u4e60\uff1a\u795e\u7ecf\u7f51\u7edc\u4e2d\u5927\u91cf\u4f7f\u7528\u4e86\u5411\u91cf\u3001\u77e9\u9635\u3001\u5f20\u91cf\u4e4b\u95f4\u7684\u7ebf\u6027\u4ee3\u6570\u8fd0\u7b97\uff0c\u8fd9\u4e9b\u6570\u636e\u90fd\u662f\u4ee5\u6570\u7ec4\u7684\u5f62\u5f0f\u6784\u5efa\u7684\u3002\u6570\u7ec4\u662f\u795e\u7ecf\u7f51\u7edc\u7f16\u7a0b\u4e2d\u6700\u5e38\u4f7f\u7528\u7684\u6570\u636e\u7ed3\u6784\u3002</li> <li>\u6570\u636e\u7ed3\u6784\u5b9e\u73b0\uff1a\u6570\u7ec4\u53ef\u4ee5\u7528\u4e8e\u5b9e\u73b0\u6808\u3001\u961f\u5217\u3001\u54c8\u5e0c\u8868\u3001\u5806\u3001\u56fe\u7b49\u6570\u636e\u7ed3\u6784\u3002\u4f8b\u5982\uff0c\u56fe\u7684\u90bb\u63a5\u77e9\u9635\u8868\u793a\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_2_%E9%93%BE%E8%A1%A8/","title":"4.2 \u94fe\u8868","text":"<p>\u5b58\u50a8\u6570\u7ec4\u7684\u5185\u5b58\u7a7a\u95f4\u5fc5\u987b\u662f\u8fde\u7eed\u7684\uff0c\u800c\u5f53\u6570\u7ec4\u975e\u5e38\u5927\u65f6\uff0c\u5185\u5b58\u53ef\u80fd\u65e0\u6cd5\u63d0\u4f9b\u5982\u6b64\u5927\u7684\u8fde\u7eed\u7a7a\u95f4\u3002\u6b64\u65f6\u94fe\u8868\u7684\u7075\u6d3b\u6027\u4f18\u52bf\u5c31\u4f53\u73b0\u51fa\u6765\u4e86\u3002</p> <p>\u548c\u6570\u7ec4\u4e00\u6837\uff0c\u94fe\u8868\uff08linked list\uff09\u662f\u4e00\u79cd\u7ebf\u6027\u6570\u636e\u7ed3\u6784\uff0c\u5176\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u4e00\u4e2a\u8282\u70b9\u5bf9\u8c61\uff0c\u5404\u4e2a\u8282\u70b9\u901a\u8fc7 \u201c\u5f15\u7528\u201d \u76f8\u8fde\u63a5\u3002\u5f15\u7528\u8bb0\u5f55\u4e86\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u5185\u5b58\u5730\u5740\uff0c\u901a\u8fc7\u5b83\u53ef\u4ee5\u4ece\u5f53\u524d\u8282\u70b9\u8bbf\u95ee\u5230\u4e0b\u4e00\u4e2a\u8282\u70b9\u3002</p> <p>\u94fe\u8868\u7684\u8bbe\u8ba1\u4f7f\u5f97\u5404\u4e2a\u8282\u70b9\u53ef\u4ee5\u5206\u6563\u5b58\u50a8\u5728\u5185\u5b58\u5404\u5904\uff0c\u5b83\u4eec\u7684\u5185\u5b58\u5730\u5740\u65e0\u987b\u8fde\u7eed\u3002</p> <p></p> <p>\u94fe\u8868\u5b9a\u4e49\u4e0e\u5b58\u50a8\u65b9\u5f0f</p> <p>\u6bcf\u4e2a\u8282\u70b9\u90fd\u5305\u542b\u4e24\u9879\u6570\u636e\uff1a\u8282\u70b9\u7684 \u201c\u503c\u201d \u548c\u6307\u5411\u4e0b\u4e00\u8282\u70b9\u7684 \u201c\u5f15\u7528\u201d</p> <ul> <li>\u94fe\u8868\u7684\u9996\u4e2a\u8282\u70b9\u88ab\u79f0\u4e3a \u201c\u5934\u8282\u70b9\u201d \uff0c\u6700\u540e\u4e00\u4e2a\u8282\u70b9\u88ab\u79f0\u4e3a \u201c\u5c3e\u8282\u70b9\u201d</li> <li>\u5c3e\u8282\u70b9\u6307\u5411\u7684\u662f \u201c\u7a7a\u201d \uff0c\u5b83\u5728 Java\u3001C++ \u548c Python \u4e2d\u5206\u522b\u88ab\u8bb0\u4e3a null\u3001nullptr \u548c None</li> <li>\u5728 C\u3001C++\u3001Go \u548c Rust \u7b49\u652f\u6301\u6307\u9488\u7684\u8bed\u8a00\u4e2d\uff0c\u4e0a\u8ff0 \u201c\u5f15\u7528\u201d \u5e94\u88ab\u66ff\u6362\u4e3a \u201c\u6307\u9488\u201d</li> </ul> <p>\u94fe\u8868\u8282\u70b9 ListNode \u9664\u4e86\u5305\u542b\u503c\uff0c\u8fd8\u9700\u989d\u5916\u4fdd\u5b58\u4e00\u4e2a\u5f15\u7528\uff08\u6307\u9488\uff09\u3002\u56e0\u6b64\u5728\u76f8\u540c\u6570\u636e\u91cf\u4e0b\uff0c\u94fe\u8868\u6bd4\u6570\u7ec4\u5360\u7528\u66f4\u591a\u7684\u5185\u5b58\u7a7a\u95f4\uff1a</p> C#<pre><code>/* \u94fe\u8868\u8282\u70b9\u7c7b */\nclass ListNode(int x) {  //\u6784\u9020\u51fd\u6570\n    int val = x;         // \u8282\u70b9\u503c\n    ListNode? next;      // \u6307\u5411\u4e0b\u4e00\u8282\u70b9\u7684\u5f15\u7528\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_2_%E9%93%BE%E8%A1%A8/#_1","title":"\u5e38\u7528\u64cd\u4f5c","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_2_%E9%93%BE%E8%A1%A8/#1","title":"1. \u521d\u59cb\u5316","text":"<p>\u5efa\u7acb\u94fe\u8868\u5206\u4e3a\u4e24\u6b65\uff0c\u7b2c\u4e00\u6b65\u662f\u521d\u59cb\u5316\u5404\u4e2a\u8282\u70b9\u5bf9\u8c61\uff0c\u7b2c\u4e8c\u6b65\u662f\u6784\u5efa\u8282\u70b9\u4e4b\u95f4\u7684\u5f15\u7528\u5173\u7cfb</p> C#<pre><code>/* \u521d\u59cb\u5316\u94fe\u8868 1 -&gt; 3 -&gt; 2 -&gt; 5 -&gt; 4 */\n// \u521d\u59cb\u5316\u5404\u4e2a\u8282\u70b9\nListNode n0 = new(1);\nListNode n1 = new(3);\nListNode n2 = new(2);\nListNode n3 = new(5);\nListNode n4 = new(4);\n// \u6784\u5efa\u8282\u70b9\u4e4b\u95f4\u7684\u5f15\u7528\nn0.next = n1;\nn1.next = n2;\nn2.next = n3;\nn3.next = n4;\n</code></pre> <p>\u6211\u4eec\u901a\u5e38\u5c06\u5934\u8282\u70b9\u5f53\u4f5c\u94fe\u8868\u7684\u4ee3\u79f0\uff0c\u6bd4\u5982\u4ee5\u4e0a\u4ee3\u7801\u4e2d\u7684\u94fe\u8868\u53ef\u8bb0\u4f5c\u94fe\u8868 n0 \u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_2_%E9%93%BE%E8%A1%A8/#2","title":"2. \u63d2\u5165\u8282\u70b9","text":"<p>\u5728\u94fe\u8868\u4e2d\u63d2\u5165\u8282\u70b9\u975e\u5e38\u5bb9\u6613, \u53ea\u9700\u6539\u53d8\u4e24\u4e2a\u8282\u70b9\u5f15\u7528\uff08\u6307\u9488\uff09\u5373\u53ef\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(1)\\)\uff0c\u76f8\u6bd4\u6570\u7ec4\u66f4\u9ad8\u6548\uff08\u7279\u522b\u662f\u5927\u91cf\u6570\u636e\u7684\u60c5\u51b5\u4e0b\uff09</p> <p></p> <p>\u94fe\u8868\u63d2\u5165\u8282\u70b9\u793a\u4f8b</p> C#<pre><code>/* \u5728\u94fe\u8868\u7684\u8282\u70b9 n0 \u4e4b\u540e\u63d2\u5165\u8282\u70b9 P */\nvoid Insert(ListNode n0, ListNode P) {\n    ListNode? n1 = n0.next;\n    P.next = n1;\n    n0.next = P;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_2_%E9%93%BE%E8%A1%A8/#3","title":"3. \u5220\u9664\u8282\u70b9","text":"<p>\u5220\u9664\u8282\u70b9\u4e5f\u975e\u5e38\u65b9\u4fbf\uff0c\u53ea\u9700\u6539\u53d8\u4e00\u4e2a\u8282\u70b9\u7684\u5f15\u7528\uff08\u6307\u9488\uff09\u5373\u53ef\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u5c3d\u7ba1\u5728\u5220\u9664\u64cd\u4f5c\u5b8c\u6210\u540e\u8282\u70b9 P \u4ecd\u7136\u6307\u5411 n1 \uff0c\u4f46\u5b9e\u9645\u4e0a\u904d\u5386\u6b64\u94fe\u8868\u5df2\u7ecf\u65e0\u6cd5\u8bbf\u95ee\u5230 P \uff0c\u8fd9\u610f\u5473\u7740 P \u5df2\u7ecf\u4e0d\u518d\u5c5e\u4e8e\u8be5\u94fe\u8868\u4e86\u3002</p> <p></p> <p>\u94fe\u8868\u5220\u9664\u8282\u70b9</p> C#<pre><code>/* \u5220\u9664\u94fe\u8868\u7684\u8282\u70b9 n0 \u4e4b\u540e\u7684\u9996\u4e2a\u8282\u70b9 */\nvoid Remove(ListNode n0) {\n    if (n0.next == null)\n        return;\n    // n0 -&gt; P -&gt; n1\n    ListNode P = n0.next;\n    ListNode? n1 = P.next;\n    n0.next = n1;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_2_%E9%93%BE%E8%A1%A8/#4","title":"4. \u8bbf\u95ee\u8282\u70b9","text":"<p>\u5728\u94fe\u8868\u4e2d\u8bbf\u95ee\u8282\u70b9\u7684\u6548\u7387\u8f83\u4f4e\u3002\u9700\u8981\u4ece\u5934\u8282\u70b9\u51fa\u53d1\uff0c\u9010\u4e2a\u5411\u540e\u904d\u5386\uff0c\u76f4\u81f3\u627e\u5230\u76ee\u6807\u8282\u70b9\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n)\\) \uff0c\u800c\u6570\u7ec4\u662f \\(O(1)\\)</p> C#<pre><code>/* \u8bbf\u95ee\u94fe\u8868\u4e2d\u7d22\u5f15\u4e3a index \u7684\u8282\u70b9 */\nListNode? Access(ListNode? head, int index) {\n    for (int i = 0; i &lt; index; i++) {\n        if (head == null)\n            return null;\n        head = head.next;\n    }\n    return head;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_2_%E9%93%BE%E8%A1%A8/#5","title":"5. \u67e5\u627e\u8282\u70b9","text":"<p>\u540c\u6837\u4e5f\u662f\u7ebf\u6027\u67e5\u627e\uff1a</p> C#<pre><code>/* \u5728\u94fe\u8868\u4e2d\u67e5\u627e\u503c\u4e3a target \u7684\u9996\u4e2a\u8282\u70b9 */\nint Find(ListNode? head, int target) {\n    int index = 0;\n    while (head != null) {\n        if (head.val == target)\n            return index;\n        head = head.next;\n        index++;\n    }\n    return -1;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_2_%E9%93%BE%E8%A1%A8/#vs","title":"\u6570\u7ec4 vs. \u94fe\u8868","text":"\u6570\u7ec4 \u94fe\u8868 \u5b58\u50a8\u65b9\u5f0f \u8fde\u7eed\u5185\u5b58\u7a7a\u95f4 \u5206\u6563\u5185\u5b58\u7a7a\u95f4 \u5bb9\u91cf\u6269\u5c55 \u957f\u5ea6\u4e0d\u53ef\u53d8 \u53ef\u7075\u6d3b\u6269\u5c55 \u5185\u5b58\u6548\u7387 \u5143\u7d20\u5360\u7528\u5185\u5b58\u5c11\u3001\u4f46\u53ef\u80fd\u6d6a\u8d39\u7a7a\u95f4 \u5143\u7d20\u5360\u7528\u5185\u5b58\u591a \u8bbf\u95ee\u5143\u7d20 \\(O(1)\\) \\(O(n)\\) \u6dfb\u52a0\u5143\u7d20 \\(O(n)\\) \\(O(1)\\) \u5220\u9664\u5143\u7d20 \\(O(n)\\) \\(O(1)\\)"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_2_%E9%93%BE%E8%A1%A8/#_2","title":"\u5e38\u89c1\u94fe\u8868\u7c7b\u578b","text":"<ul> <li>\u5355\u5411\u94fe\u8868\uff1a\u5373\u524d\u9762\u4ecb\u7ecd\u7684\u666e\u901a\u94fe\u8868\u3002\u5355\u5411\u94fe\u8868\u7684\u8282\u70b9\u5305\u542b\u503c\u548c\u6307\u5411\u4e0b\u4e00\u8282\u70b9\u7684\u5f15\u7528\u4e24\u9879\u6570\u636e\u3002\u6211\u4eec\u5c06\u9996\u4e2a\u8282\u70b9\u79f0\u4e3a\u5934\u8282\u70b9\uff0c\u5c06\u6700\u540e\u4e00\u4e2a\u8282\u70b9\u79f0\u4e3a\u5c3e\u8282\u70b9\uff0c\u5c3e\u8282\u70b9\u6307\u5411\u7a7a None \u3002</li> <li>\u73af\u5f62\u94fe\u8868\uff1a\u5982\u679c\u6211\u4eec\u4ee4\u5355\u5411\u94fe\u8868\u7684\u5c3e\u8282\u70b9\u6307\u5411\u5934\u8282\u70b9\uff08\u9996\u5c3e\u76f8\u63a5\uff09\uff0c\u5219\u5f97\u5230\u4e00\u4e2a\u73af\u5f62\u94fe\u8868\u3002\u5728\u73af\u5f62\u94fe\u8868\u4e2d\uff0c\u4efb\u610f\u8282\u70b9\u90fd\u53ef\u4ee5\u89c6\u4f5c\u5934\u8282\u70b9\u3002</li> <li>\u53cc\u5411\u94fe\u8868\uff1a\u4e0e\u5355\u5411\u94fe\u8868\u76f8\u6bd4\uff0c\u53cc\u5411\u94fe\u8868\u8bb0\u5f55\u4e86\u4e24\u4e2a\u65b9\u5411\u7684\u5f15\u7528\u3002\u53cc\u5411\u94fe\u8868\u7684\u8282\u70b9\u5b9a\u4e49\u540c\u65f6\u5305\u542b\u6307\u5411\u540e\u7ee7\u8282\u70b9\uff08\u4e0b\u4e00\u4e2a\u8282\u70b9\uff09\u548c\u524d\u9a71\u8282\u70b9\uff08\u4e0a\u4e00\u4e2a\u8282\u70b9\uff09\u7684\u5f15\u7528\uff08\u6307\u9488\uff09\u3002\u76f8\u8f83\u4e8e\u5355\u5411\u94fe\u8868\uff0c\u53cc\u5411\u94fe\u8868\u66f4\u5177\u7075\u6d3b\u6027\uff0c\u53ef\u4ee5\u671d\u4e24\u4e2a\u65b9\u5411\u904d\u5386\u94fe\u8868\uff0c\u4f46\u76f8\u5e94\u5730\u4e5f\u9700\u8981\u5360\u7528\u66f4\u591a\u7684\u5185\u5b58\u7a7a\u95f4\u3002</li> </ul> C#<pre><code>/* \u53cc\u5411\u94fe\u8868\u8282\u70b9\u7c7b */\nclass ListNode(int x) {  // \u6784\u9020\u51fd\u6570\n    int val = x;    // \u8282\u70b9\u503c\n    ListNode next;  // \u6307\u5411\u540e\u7ee7\u8282\u70b9\u7684\u5f15\u7528\n    ListNode prev;  // \u6307\u5411\u524d\u9a71\u8282\u70b9\u7684\u5f15\u7528\n}\n</code></pre> <p>\u5e38\u89c1\u94fe\u8868\u79cd\u7c7b</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_2_%E9%93%BE%E8%A1%A8/#_3","title":"\u5178\u578b\u5e94\u7528","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_2_%E9%93%BE%E8%A1%A8/#_4","title":"\u5355\u5411\u94fe\u8868","text":"<ul> <li>\u6808\u4e0e\u961f\u5217\uff1a\u5f53\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u90fd\u5728\u94fe\u8868\u7684\u4e00\u7aef\u8fdb\u884c\u65f6\uff0c\u5b83\u8868\u73b0\u7684\u7279\u6027\u4e3a\u5148\u8fdb\u540e\u51fa\uff0c\u5bf9\u5e94\u6808\uff1b\u5f53\u63d2\u5165\u64cd\u4f5c\u5728\u94fe\u8868\u7684\u4e00\u7aef\u8fdb\u884c\uff0c\u5220\u9664\u64cd\u4f5c\u5728\u94fe\u8868\u7684\u53e6\u4e00\u7aef\u8fdb\u884c\uff0c\u5b83\u8868\u73b0\u7684\u7279\u6027\u4e3a\u5148\u8fdb\u5148\u51fa\uff0c\u5bf9\u5e94\u961f\u5217\u3002</li> <li>\u54c8\u5e0c\u8868\uff1a\u94fe\u5f0f\u5730\u5740\u662f\u89e3\u51b3\u54c8\u5e0c\u51b2\u7a81\u7684\u4e3b\u6d41\u65b9\u6848\u4e4b\u4e00\uff0c\u5728\u8be5\u65b9\u6848\u4e2d\uff0c\u6240\u6709\u51b2\u7a81\u7684\u5143\u7d20\u90fd\u4f1a\u88ab\u653e\u5230\u4e00\u4e2a\u94fe\u8868\u4e2d\u3002</li> <li>\u56fe\uff1a\u90bb\u63a5\u8868\u662f\u8868\u793a\u56fe\u7684\u4e00\u79cd\u5e38\u7528\u65b9\u5f0f\uff0c\u5176\u4e2d\u56fe\u7684\u6bcf\u4e2a\u9876\u70b9\u90fd\u4e0e\u4e00\u4e2a\u94fe\u8868\u76f8\u5173\u8054\uff0c\u94fe\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u4ee3\u8868\u4e0e\u8be5\u9876\u70b9\u76f8\u8fde\u7684\u5176\u4ed6\u9876\u70b9\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_2_%E9%93%BE%E8%A1%A8/#_5","title":"\u73af\u5f62\u94fe\u8868","text":"<p>\u5e38\u7528\u4e8e\u9700\u8981\u5468\u671f\u6027\u64cd\u4f5c\u7684\u573a\u666f\uff0c\u6bd4\u5982\u64cd\u4f5c\u7cfb\u7edf\u7684\u8d44\u6e90\u8c03\u5ea6\u3002</p> <ul> <li>\u65f6\u95f4\u7247\u8f6e\u8f6c\u8c03\u5ea6\u7b97\u6cd5\uff1a\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u65f6\u95f4\u7247\u8f6e\u8f6c\u8c03\u5ea6\u7b97\u6cd5\u662f\u4e00\u79cd\u5e38\u89c1\u7684 CPU \u8c03\u5ea6\u7b97\u6cd5\uff0c\u5b83\u9700\u8981\u5bf9\u4e00\u7ec4\u8fdb\u7a0b\u8fdb\u884c\u5faa\u73af\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u88ab\u8d4b\u4e88\u4e00\u4e2a\u65f6\u95f4\u7247\uff0c\u5f53\u65f6\u95f4\u7247\u7528\u5b8c\u65f6\uff0cCPU \u5c06\u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u8fdb\u7a0b\u3002\u8fd9\u79cd\u5faa\u73af\u64cd\u4f5c\u53ef\u4ee5\u901a\u8fc7\u73af\u5f62\u94fe\u8868\u6765\u5b9e\u73b0\u3002</li> <li>\u6570\u636e\u7f13\u51b2\u533a\uff1a\u5728\u67d0\u4e9b\u6570\u636e\u7f13\u51b2\u533a\u7684\u5b9e\u73b0\u4e2d\uff0c\u4e5f\u53ef\u80fd\u4f1a\u4f7f\u7528\u73af\u5f62\u94fe\u8868\u3002\u6bd4\u5982\u5728\u97f3\u9891\u3001\u89c6\u9891\u64ad\u653e\u5668\u4e2d\uff0c\u6570\u636e\u6d41\u53ef\u80fd\u4f1a\u88ab\u5206\u6210\u591a\u4e2a\u7f13\u51b2\u5757\u5e76\u653e\u5165\u4e00\u4e2a\u73af\u5f62\u94fe\u8868\uff0c\u4ee5\u4fbf\u5b9e\u73b0\u65e0\u7f1d\u64ad\u653e\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_2_%E9%93%BE%E8%A1%A8/#_6","title":"\u53cc\u5411\u94fe\u8868","text":"<p>\u5e38\u7528\u4e8e\u9700\u8981\u5feb\u901f\u67e5\u627e\u524d\u4e00\u4e2a\u548c\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u573a\u666f\uff1a</p> <ul> <li>\u9ad8\u7ea7\u6570\u636e\u7ed3\u6784\uff1a\u6bd4\u5982\u5728\u7ea2\u9ed1\u6811\u3001B \u6811\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u8bbf\u95ee\u8282\u70b9\u7684\u7236\u8282\u70b9\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7\u5728\u8282\u70b9\u4e2d\u4fdd\u5b58\u4e00\u4e2a\u6307\u5411\u7236\u8282\u70b9\u7684\u5f15\u7528\u6765\u5b9e\u73b0\uff0c\u7c7b\u4f3c\u4e8e\u53cc\u5411\u94fe\u8868\u3002</li> <li>\u6d4f\u89c8\u5668\u5386\u53f2\uff1a\u5728\u7f51\u9875\u6d4f\u89c8\u5668\u4e2d\uff0c\u5f53\u7528\u6237\u70b9\u51fb\u524d\u8fdb\u6216\u540e\u9000\u6309\u94ae\u65f6\uff0c\u6d4f\u89c8\u5668\u9700\u8981\u77e5\u9053\u7528\u6237\u8bbf\u95ee\u8fc7\u7684\u524d\u4e00\u4e2a\u548c\u540e\u4e00\u4e2a\u7f51\u9875\u3002\u53cc\u5411\u94fe\u8868\u7684\u7279\u6027\u4f7f\u5f97\u8fd9\u79cd\u64cd\u4f5c\u53d8\u5f97\u7b80\u5355\u3002</li> <li>LRU \u7b97\u6cd5\uff1a\u5728\u7f13\u5b58\u6dd8\u6c70\uff08LRU\uff09\u7b97\u6cd5\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u5feb\u901f\u627e\u5230\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u6570\u636e\uff0c\u4ee5\u53ca\u652f\u6301\u5feb\u901f\u6dfb\u52a0\u548c\u5220\u9664\u8282\u70b9\u3002\u8fd9\u65f6\u5019\u4f7f\u7528\u53cc\u5411\u94fe\u8868\u5c31\u975e\u5e38\u5408\u9002\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_3_%E5%88%97%E8%A1%A8/","title":"4.3 \u5217\u8868","text":"<p>\u5217\u8868\uff08list\uff09\u662f\u4e00\u4e2a\u62bd\u8c61\u7684\u6570\u636e\u7ed3\u6784\u6982\u5ff5\uff0c\u5b83\u8868\u793a\u5143\u7d20\u7684\u6709\u5e8f\u96c6\u5408\uff0c\u652f\u6301\u5143\u7d20\u8bbf\u95ee\u3001\u4fee\u6539\u3001\u6dfb\u52a0\u3001\u5220\u9664\u548c\u904d\u5386\u7b49\u64cd\u4f5c\uff0c\u65e0\u987b\u4f7f\u7528\u8005\u8003\u8651\u5bb9\u91cf\u9650\u5236\u7684\u95ee\u9898\u3002\u5217\u8868\u53ef\u4ee5\u57fa\u4e8e\u94fe\u8868\u6216\u6570\u7ec4\u5b9e\u73b0\u3002</p> <ul> <li>\u94fe\u8868\u5929\u7136\u53ef\u4ee5\u770b\u4f5c\u4e00\u4e2a\u5217\u8868\uff0c\u5176\u652f\u6301\u5143\u7d20\u589e\u5220\u67e5\u6539\u64cd\u4f5c\uff0c\u5e76\u4e14\u53ef\u4ee5\u7075\u6d3b\u52a8\u6001\u6269\u5bb9\u3002</li> <li>\u6570\u7ec4\u4e5f\u652f\u6301\u5143\u7d20\u589e\u5220\u67e5\u6539\uff0c\u4f46\u7531\u4e8e\u5176\u957f\u5ea6\u4e0d\u53ef\u53d8\uff0c\u56e0\u6b64\u53ea\u80fd\u770b\u4f5c\u4e00\u4e2a\u5177\u6709\u957f\u5ea6\u9650\u5236\u7684\u5217\u8868\u3002</li> </ul> <p>\u5f53\u4f7f\u7528\u6570\u7ec4\u5b9e\u73b0\u5217\u8868\u65f6\uff0c\u957f\u5ea6\u4e0d\u53ef\u53d8\u7684\u6027\u8d28\u4f1a\u5bfc\u81f4\u5217\u8868\u7684\u5b9e\u7528\u6027\u964d\u4f4e\u3002\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u901a\u5e38\u65e0\u6cd5\u4e8b\u5148\u786e\u5b9a\u9700\u8981\u5b58\u50a8\u591a\u5c11\u6570\u636e\uff0c\u4ece\u800c\u96be\u4ee5\u9009\u62e9\u5408\u9002\u7684\u5217\u8868\u957f\u5ea6\u3002\u82e5\u957f\u5ea6\u8fc7\u5c0f\uff0c\u5219\u5f88\u53ef\u80fd\u65e0\u6cd5\u6ee1\u8db3\u4f7f\u7528\u9700\u6c42\uff1b\u82e5\u957f\u5ea6\u8fc7\u5927\uff0c\u5219\u4f1a\u9020\u6210\u5185\u5b58\u7a7a\u95f4\u6d6a\u8d39\u3002</p> <p>\u4e3a\u89e3\u51b3\u6b64\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u52a8\u6001\u6570\u7ec4\uff08dynamic array\uff09\u6765\u5b9e\u73b0\u5217\u8868\u3002\u5b83\u7ee7\u627f\u4e86\u6570\u7ec4\u7684\u5404\u9879\u4f18\u70b9\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u8fdb\u884c\u52a8\u6001\u6269\u5bb9\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u8bb8\u591a\u7f16\u7a0b\u8bed\u8a00\u4e2d\u7684\u6807\u51c6\u5e93\u63d0\u4f9b\u7684\u5217\u8868\u662f\u57fa\u4e8e\u52a8\u6001\u6570\u7ec4\u5b9e\u73b0\u7684\uff0c\u6bd4\u5982 C# \u7684 List \u548c C++ \u7684 vector \u7b49\u3002\u6211\u4eec\u4e0b\u9762\u8ba8\u8bba\u7684 \u201c\u5217\u8868\u201d \u8bf7\u89c6\u4e3a \u201c\u52a8\u6001\u6570\u7ec4\u201d \u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_3_%E5%88%97%E8%A1%A8/#_1","title":"\u5e38\u7528\u64cd\u4f5c","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_3_%E5%88%97%E8%A1%A8/#1","title":"1. \u521d\u59cb\u5316","text":"C#<pre><code>/* \u521d\u59cb\u5316\u5217\u8868 */\n// \u65e0\u521d\u59cb\u503c\nList&lt;int&gt; nums1 = [];\n// \u6709\u521d\u59cb\u503c\nint[] numbers = [1, 3, 2, 5, 4];\nList&lt;int&gt; nums = [.. numbers];\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_3_%E5%88%97%E8%A1%A8/#2","title":"2. \u8bbf\u95ee\u5143\u7d20","text":"<p>\u5217\u8868\u672c\u8d28\u4e0a\u662f\u6570\u7ec4\uff0c\u56e0\u6b64\u53ef\u4ee5\u5728 \\(O(1)\\) \u65f6\u95f4\u5185\u8bbf\u95ee\u548c\u66f4\u65b0\u5143\u7d20\uff0c\u6548\u7387\u5f88\u9ad8\u3002</p> C#<pre><code>/* \u8bbf\u95ee\u5143\u7d20 */\nint num = nums[1];  // \u8bbf\u95ee\u7d22\u5f15 1 \u5904\u7684\u5143\u7d20\n\n/* \u66f4\u65b0\u5143\u7d20 */\nnums[1] = 0;  // \u5c06\u7d22\u5f15 1 \u5904\u7684\u5143\u7d20\u66f4\u65b0\u4e3a 0\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_3_%E5%88%97%E8%A1%A8/#3","title":"3. \u63d2\u5165\u4e0e\u5220\u9664\u5143\u7d20","text":"<p>\u672c\u8d28\u4e0a\u548c\u6570\u7ec4\u76f8\u540c\uff0c\u53ea\u662f\u5c01\u88c5\u4e86\u63a5\u53e3\uff1a</p> C#<pre><code>/* \u6e05\u7a7a\u5217\u8868 */\nnums.Clear();\n\n/* \u5728\u5c3e\u90e8\u6dfb\u52a0\u5143\u7d20 */\nnums.Add(1);\nnums.Add(3);\nnums.Add(2);\nnums.Add(5);\nnums.Add(4);\n\n/* \u5728\u4e2d\u95f4\u63d2\u5165\u5143\u7d20 */\nnums.Insert(3, 6);  // \u5728\u7d22\u5f15 3 \u5904\u63d2\u5165\u6570\u5b57 6\n\n/* \u5220\u9664\u5143\u7d20 */\nnums.RemoveAt(3);  // \u5220\u9664\u7d22\u5f15 3 \u5904\u7684\u5143\u7d20\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_3_%E5%88%97%E8%A1%A8/#4","title":"4. \u904d\u5386\u5217\u8868","text":"C#<pre><code>/* \u901a\u8fc7\u7d22\u5f15\u904d\u5386\u5217\u8868 */\nint count = 0;\nfor (int i = 0; i &lt; nums.Count; i++) {\n    count += nums[i];\n}\n\n/* \u76f4\u63a5\u904d\u5386\u5217\u8868\u5143\u7d20 */\ncount = 0;\nforeach (int num in nums) {\n    count += num;\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_3_%E5%88%97%E8%A1%A8/#5","title":"5. \u62fc\u63a5\u5217\u8868","text":"C#<pre><code>/* \u62fc\u63a5\u4e24\u4e2a\u5217\u8868 */\nList&lt;int&gt; nums1 = [6, 8, 7, 10, 9];\nnums.AddRange(nums1);  // \u5c06\u5217\u8868 nums1 \u62fc\u63a5\u5230 nums \u4e4b\u540e\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_3_%E5%88%97%E8%A1%A8/#6","title":"6. \u6392\u5e8f\u5217\u8868","text":"<p>\u5b8c\u6210\u5217\u8868\u6392\u5e8f\u540e\uff0c\u6211\u4eec\u4fbf\u53ef\u4ee5\u4f7f\u7528\u5728\u6570\u7ec4\u7c7b\u7b97\u6cd5\u9898\u4e2d\u7ecf\u5e38\u8003\u67e5\u7684 \u201c\u4e8c\u5206\u67e5\u627e\u201d \u548c \u201c\u53cc\u6307\u9488\u201d \u7b97\u6cd5\u3002</p> C#<pre><code>/* \u6392\u5e8f\u5217\u8868 */\nnums.Sort(); // \u6392\u5e8f\u540e\uff0c\u5217\u8868\u5143\u7d20\u4ece\u5c0f\u5230\u5927\u6392\u5217\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_3_%E5%88%97%E8%A1%A8/#_2","title":"\u5217\u8868\u7684\u5b9e\u73b0","text":"<p>\u6211\u4eec\u6765\u7528 C# \u5b9e\u73b0\u4e00\u4e2a\u5efa\u8bae\u5217\u8868\uff0c\u6709\u4e09\u4e2a\u91cd\u70b9\u8bbe\u8ba1\uff1a</p> <ul> <li>\u521d\u59cb\u5bb9\u91cf\uff1a\u9009\u53d6\u4e00\u4e2a\u5408\u7406\u7684\u6570\u7ec4\u521d\u59cb\u5bb9\u91cf\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u9009\u62e9 10 \u4f5c\u4e3a\u521d\u59cb\u5bb9\u91cf\u3002</li> <li>\u6570\u91cf\u8bb0\u5f55\uff1a\u58f0\u660e\u4e00\u4e2a\u53d8\u91cf size \uff0c\u7528\u4e8e\u8bb0\u5f55\u5217\u8868\u5f53\u524d\u5143\u7d20\u6570\u91cf\uff0c\u5e76\u968f\u7740\u5143\u7d20\u63d2\u5165\u548c\u5220\u9664\u5b9e\u65f6\u66f4\u65b0\u3002\u6839\u636e\u6b64\u53d8\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4f4d\u5217\u8868\u5c3e\u90e8\uff0c\u4ee5\u53ca\u5224\u65ad\u662f\u5426\u9700\u8981\u6269\u5bb9\u3002</li> <li>\u6269\u5bb9\u673a\u5236\uff1a\u82e5\u63d2\u5165\u5143\u7d20\u65f6\u5217\u8868\u5bb9\u91cf\u5df2\u6ee1\uff0c\u5219\u9700\u8981\u8fdb\u884c\u6269\u5bb9\u3002\u5148\u6839\u636e\u6269\u5bb9\u500d\u6570\u521b\u5efa\u4e00\u4e2a\u66f4\u5927\u7684\u6570\u7ec4\uff0c\u518d\u5c06\u5f53\u524d\u6570\u7ec4\u7684\u6240\u6709\u5143\u7d20\u4f9d\u6b21\u79fb\u52a8\u81f3\u65b0\u6570\u7ec4\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u89c4\u5b9a\u6bcf\u6b21\u5c06\u6570\u7ec4\u6269\u5bb9\u81f3\u4e4b\u524d\u7684 2 \u500d\u3002</li> </ul> C#<pre><code>/* \u5217\u8868\u7c7b */\nclass MyList {\n    private int[] arr;           // \u6570\u7ec4\uff08\u5b58\u50a8\u5217\u8868\u5143\u7d20\uff09\n    private int arrCapacity = 10;    // \u5217\u8868\u5bb9\u91cf\n    private int arrSize = 0;         // \u5217\u8868\u957f\u5ea6\uff08\u5f53\u524d\u5143\u7d20\u6570\u91cf\uff09\n    private readonly int extendRatio = 2;  // \u6bcf\u6b21\u5217\u8868\u6269\u5bb9\u7684\u500d\u6570\n\n    /* \u6784\u9020\u65b9\u6cd5 */\n    public MyList() {\n        arr = new int[arrCapacity];\n    }\n\n    /* \u83b7\u53d6\u5217\u8868\u957f\u5ea6\uff08\u5f53\u524d\u5143\u7d20\u6570\u91cf\uff09*/\n    public int Size() {\n        return arrSize;\n    }\n\n    /* \u83b7\u53d6\u5217\u8868\u5bb9\u91cf */\n    public int Capacity() {\n        return arrCapacity;\n    }\n\n    /* \u8bbf\u95ee\u5143\u7d20 */\n    public int Get(int index) {\n        // \u7d22\u5f15\u5982\u679c\u8d8a\u754c\uff0c\u5219\u629b\u51fa\u5f02\u5e38\uff0c\u4e0b\u540c\n        if (index &lt; 0 || index &gt;= arrSize)\n            throw new IndexOutOfRangeException(\"\u7d22\u5f15\u8d8a\u754c\");\n        return arr[index];\n    }\n\n    /* \u66f4\u65b0\u5143\u7d20 */\n    public void Set(int index, int num) {\n        if (index &lt; 0 || index &gt;= arrSize)\n            throw new IndexOutOfRangeException(\"\u7d22\u5f15\u8d8a\u754c\");\n        arr[index] = num;\n    }\n\n    /* \u5728\u5c3e\u90e8\u6dfb\u52a0\u5143\u7d20 */\n    public void Add(int num) {\n        // \u5143\u7d20\u6570\u91cf\u8d85\u51fa\u5bb9\u91cf\u65f6\uff0c\u89e6\u53d1\u6269\u5bb9\u673a\u5236\n        if (arrSize == arrCapacity)\n            ExtendCapacity();\n        arr[arrSize] = num;\n        // \u66f4\u65b0\u5143\u7d20\u6570\u91cf\n        arrSize++;\n    }\n\n    /* \u5728\u4e2d\u95f4\u63d2\u5165\u5143\u7d20 */\n    public void Insert(int index, int num) {\n        if (index &lt; 0 || index &gt;= arrSize)\n            throw new IndexOutOfRangeException(\"\u7d22\u5f15\u8d8a\u754c\");\n        // \u5143\u7d20\u6570\u91cf\u8d85\u51fa\u5bb9\u91cf\u65f6\uff0c\u89e6\u53d1\u6269\u5bb9\u673a\u5236\n        if (arrSize == arrCapacity)\n            ExtendCapacity();\n        // \u5c06\u7d22\u5f15 index \u4ee5\u53ca\u4e4b\u540e\u7684\u5143\u7d20\u90fd\u5411\u540e\u79fb\u52a8\u4e00\u4f4d\n        for (int j = arrSize - 1; j &gt;= index; j--) {\n            arr[j + 1] = arr[j];\n        }\n        arr[index] = num;\n        // \u66f4\u65b0\u5143\u7d20\u6570\u91cf\n        arrSize++;\n    }\n\n    /* \u5220\u9664\u5143\u7d20 */\n    public int Remove(int index) {\n        if (index &lt; 0 || index &gt;= arrSize)\n            throw new IndexOutOfRangeException(\"\u7d22\u5f15\u8d8a\u754c\");\n        int num = arr[index];\n        // \u5c06\u5c06\u7d22\u5f15 index \u4e4b\u540e\u7684\u5143\u7d20\u90fd\u5411\u524d\u79fb\u52a8\u4e00\u4f4d\n        for (int j = index; j &lt; arrSize - 1; j++) {\n            arr[j] = arr[j + 1];\n        }\n        // \u66f4\u65b0\u5143\u7d20\u6570\u91cf\n        arrSize--;\n        // \u8fd4\u56de\u88ab\u5220\u9664\u7684\u5143\u7d20\n        return num;\n    }\n\n    /* \u5217\u8868\u6269\u5bb9 */\n    public void ExtendCapacity() {\n        // \u65b0\u5efa\u4e00\u4e2a\u957f\u5ea6\u4e3a arrCapacity * extendRatio \u7684\u6570\u7ec4\uff0c\u5e76\u5c06\u539f\u6570\u7ec4\u590d\u5236\u5230\u65b0\u6570\u7ec4\n        Array.Resize(ref arr, arrCapacity * extendRatio);\n        // \u66f4\u65b0\u5217\u8868\u5bb9\u91cf\n        arrCapacity = arr.Length;\n    }\n\n    /* \u5c06\u5217\u8868\u8f6c\u6362\u4e3a\u6570\u7ec4 */\n    public int[] ToArray() {\n        // \u4ec5\u8f6c\u6362\u6709\u6548\u957f\u5ea6\u8303\u56f4\u5185\u7684\u5217\u8868\u5143\u7d20\n        int[] arr = new int[arrSize];\n        for (int i = 0; i &lt; arrSize; i++) {\n            arr[i] = Get(i);\n        }\n        return arr;\n    }\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_4_%E5%86%85%E5%AD%98%E4%B8%8E%E7%BC%93%E5%AD%98/","title":"4.4 \u5185\u5b58\u4e0e\u7f13\u5b58","text":"<p>\u6211\u4eec\u5728\u672c\u7ae0\u8ba8\u8bba\u7684\u6570\u7ec4\u548c\u94fe\u8868\uff0c\u5b83\u4eec\u5206\u522b\u4ee3\u8868\u4ee3\u8868\u4e86 \u201c\u8fde\u7eed\u5b58\u50a8\u201d \u548c \u201c\u5206\u6563\u5b58\u50a8\u201d \u4e24\u79cd\u7269\u7406\u7ed3\u6784\uff0c\u7269\u7406\u7ed3\u6784\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u51b3\u5b9a\u4e86\u7a0b\u5e8f\u5bf9\u5185\u5b58\u548c\u7f13\u5b58\u7684\u4f7f\u7528\u6548\u7387\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_4_%E5%86%85%E5%AD%98%E4%B8%8E%E7%BC%93%E5%AD%98/#_1","title":"\u8ba1\u7b97\u673a\u5b58\u50a8\u8bbe\u5907","text":"<p>\u8ba1\u7b97\u673a\u4e2d\u5305\u62ec\u4e09\u79cd\u7c7b\u578b\u7684\u5b58\u50a8\u8bbe\u5907\uff1a\u786c\u76d8\uff08hard disk\uff09\u3001\u5185\u5b58\uff08random-access memory, RAM\uff09\u3001\u7f13\u5b58\uff08cache memory\uff09</p> \u786c\u76d8 \u5185\u5b58 \u7f13\u5b58 \u7528\u9014 \u957f\u671f\u5b58\u50a8\u6570\u636e\uff0c\u5305\u62ec\u64cd\u4f5c\u7cfb\u7edf\u3001\u7a0b\u5e8f\u3001\u6587\u4ef6\u7b49 \u4e34\u65f6\u5b58\u50a8\u5f53\u524d\u8fd0\u884c\u7684\u7a0b\u5e8f\u548c\u6b63\u5728\u5904\u7406\u7684\u6570\u636e \u6613\u5931\u6027 \u65ad\u7535\u540e\u6570\u636e\u4e0d\u4f1a\u4e22\u5931 \u65ad\u7535\u540e\u6570\u636e\u4f1a\u4e22\u5931 \u5bb9\u91cf \u8f83\u5927\uff0cTB \u7ea7\u522b \u8f83\u5c0f\uff0cGB \u7ea7\u522b \u901f\u5ea6 \u8f83\u6162\uff0c\u51e0\u767e\u5230\u51e0\u5343 MB/s \u8f83\u5feb\uff0c\u51e0\u5341 GB/s \u4ef7\u683c\uff08\u4eba\u6c11\u5e01\uff09 \u8f83\u4fbf\u5b9c\uff0c\u51e0\u6bdb\u5230\u51e0\u5143 / GB \u8f83\u8d35\uff0c\u51e0\u5341\u5230\u51e0\u767e\u5143 / GB <p>\u8fd9\u79cd\u591a\u5c42\u7ea7\u7684\u8bbe\u8ba1\u5e76\u975e\u5076\u7136\uff0c\u800c\u662f\u8ba1\u7b97\u673a\u79d1\u5b66\u5bb6\u548c\u5de5\u7a0b\u5e08\u4eec\u7ecf\u8fc7\u6df1\u601d\u719f\u8651\u7684\u7ed3\u679c\uff1a</p> <ul> <li>\u786c\u76d8\u96be\u4ee5\u88ab\u5185\u5b58\u53d6\u4ee3\u3002\u9996\u5148\uff0c\u5185\u5b58\u4e2d\u7684\u6570\u636e\u5728\u65ad\u7535\u540e\u4f1a\u4e22\u5931\uff0c\u56e0\u6b64\u5b83\u4e0d\u9002\u5408\u957f\u671f\u5b58\u50a8\u6570\u636e\uff1b\u5176\u6b21\uff0c\u5185\u5b58\u7684\u6210\u672c\u662f\u786c\u76d8\u7684\u51e0\u5341\u500d\uff0c\u8fd9\u4f7f\u5f97\u5b83\u96be\u4ee5\u5728\u6d88\u8d39\u8005\u5e02\u573a\u666e\u53ca\u3002</li> <li>\u7f13\u5b58\u7684\u5927\u5bb9\u91cf\u548c\u9ad8\u901f\u5ea6\u96be\u4ee5\u517c\u5f97\u3002\u968f\u7740 L1\u3001L2\u3001L3 \u7f13\u5b58\u7684\u5bb9\u91cf\u9010\u6b65\u589e\u5927\uff0c\u5176\u7269\u7406\u5c3a\u5bf8\u4f1a\u53d8\u5927\uff0c\u4e0e CPU \u6838\u5fc3\u4e4b\u95f4\u7684\u7269\u7406\u8ddd\u79bb\u4f1a\u53d8\u8fdc\uff0c\u4ece\u800c\u5bfc\u81f4\u6570\u636e\u4f20\u8f93\u65f6\u95f4\u589e\u52a0\uff0c\u5143\u7d20\u8bbf\u95ee\u5ef6\u8fdf\u53d8\u9ad8\u3002\u5728\u5f53\u524d\u6280\u672f\u4e0b\uff0c\u591a\u5c42\u7ea7\u7684\u7f13\u5b58\u7ed3\u6784\u662f\u5bb9\u91cf\u3001\u901f\u5ea6\u548c\u6210\u672c\u4e4b\u95f4\u7684\u6700\u4f73\u5e73\u8861\u70b9\u3002</li> </ul> <p></p> <p>\u8ba1\u7b97\u673a\u5b58\u50a8\u7cfb\u7edf</p> <p>\u603b\u7684\u6765\u8bf4\uff0c\u786c\u76d8\u7528\u4e8e\u957f\u671f\u5b58\u50a8\u5927\u91cf\u6570\u636e\uff0c\u5185\u5b58\u7528\u4e8e\u4e34\u65f6\u5b58\u50a8\u7a0b\u5e8f\u8fd0\u884c\u4e2d\u6b63\u5728\u5904\u7406\u7684\u6570\u636e\uff0c\u800c\u7f13\u5b58\u5219\u7528\u4e8e\u5b58\u50a8\u7ecf\u5e38\u8bbf\u95ee\u7684\u6570\u636e\u548c\u6307\u4ee4\uff0c\u4ee5\u63d0\u9ad8\u7a0b\u5e8f\u8fd0\u884c\u6548\u7387\u3002\u4e09\u8005\u5171\u540c\u534f\u4f5c\uff0c\u786e\u4fdd\u8ba1\u7b97\u673a\u7cfb\u7edf\u9ad8\u6548\u8fd0\u884c\u3002</p> <p>\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u6570\u636e\u4f1a\u4ece\u786c\u76d8\u4e2d\u88ab\u8bfb\u53d6\u5230\u5185\u5b58\u4e2d\uff0c\u4f9b CPU \u8ba1\u7b97\u4f7f\u7528\u3002\u7f13\u5b58\u53ef\u4ee5\u770b\u4f5c CPU \u7684\u4e00\u90e8\u5206\uff0c\u5b83\u901a\u8fc7\u667a\u80fd\u5730\u4ece\u5185\u5b58\u52a0\u8f7d\u6570\u636e\uff0c\u7ed9 CPU \u63d0\u4f9b\u9ad8\u901f\u7684\u6570\u636e\u8bfb\u53d6\uff0c\u4ece\u800c\u663e\u8457\u63d0\u5347\u7a0b\u5e8f\u7684\u6267\u884c\u6548\u7387\uff0c\u51cf\u5c11\u5bf9\u8f83\u6162\u7684\u5185\u5b58\u7684\u4f9d\u8d56\u3002</p> <p></p> <p>\u786c\u76d8\u3001\u5185\u5b58\u548c\u7f13\u5b58\u4e4b\u95f4\u7684\u6570\u636e\u6d41\u901a</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_4_%E5%86%85%E5%AD%98%E4%B8%8E%E7%BC%93%E5%AD%98/#_2","title":"\u6570\u636e\u7ed3\u6784\u7684\u5185\u5b58\u6548\u7387","text":"<p>\u5728\u5185\u5b58\u7a7a\u95f4\u5229\u7528\u65b9\u9762\uff0c\u6570\u7ec4\u548c\u94fe\u8868\u5404\u81ea\u5177\u6709\u4f18\u52bf\u548c\u5c40\u9650\u6027\u3002</p> <p>\u4e00\u65b9\u9762\uff0c\u5185\u5b58\u662f\u6709\u9650\u7684\uff0c\u4e14\u540c\u4e00\u5757\u5185\u5b58\u4e0d\u80fd\u88ab\u591a\u4e2a\u7a0b\u5e8f\u5171\u4eab\uff0c\u56e0\u6b64\u6211\u4eec\u5e0c\u671b\u6570\u636e\u7ed3\u6784\u80fd\u591f\u5c3d\u53ef\u80fd\u9ad8\u6548\u5730\u5229\u7528\u7a7a\u95f4\u3002\u6570\u7ec4\u7684\u5143\u7d20\u7d27\u5bc6\u6392\u5217\uff0c\u4e0d\u9700\u8981\u989d\u5916\u7684\u7a7a\u95f4\u6765\u5b58\u50a8\u94fe\u8868\u8282\u70b9\u95f4\u7684\u5f15\u7528\uff08\u6307\u9488\uff09\uff0c\u56e0\u6b64\u7a7a\u95f4\u6548\u7387\u66f4\u9ad8\u3002\u7136\u800c\uff0c\u6570\u7ec4\u9700\u8981\u4e00\u6b21\u6027\u5206\u914d\u8db3\u591f\u7684\u8fde\u7eed\u5185\u5b58\u7a7a\u95f4\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u5185\u5b58\u6d6a\u8d39\uff0c\u6570\u7ec4\u6269\u5bb9\u4e5f\u9700\u8981\u989d\u5916\u7684\u65f6\u95f4\u548c\u7a7a\u95f4\u6210\u672c\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u94fe\u8868\u4ee5 \u201c\u8282\u70b9\u201d \u4e3a\u5355\u4f4d\u8fdb\u884c\u52a8\u6001\u5185\u5b58\u5206\u914d\u548c\u56de\u6536\uff0c\u63d0\u4f9b\u4e86\u66f4\u5927\u7684\u7075\u6d3b\u6027\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u968f\u7740\u53cd\u590d\u7533\u8bf7\u4e0e\u91ca\u653e\u5185\u5b58\uff0c\u7a7a\u95f2\u5185\u5b58\u7684\u788e\u7247\u5316\u7a0b\u5ea6\u4f1a\u8d8a\u6765\u8d8a\u9ad8\uff0c\u4ece\u800c\u5bfc\u81f4\u5185\u5b58\u7684\u5229\u7528\u6548\u7387\u964d\u4f4e\u3002\u6570\u7ec4\u7531\u4e8e\u5176\u8fde\u7eed\u7684\u5b58\u50a8\u65b9\u5f0f\uff0c\u76f8\u5bf9\u4e0d\u5bb9\u6613\u5bfc\u81f4\u5185\u5b58\u788e\u7247\u5316\u3002\u76f8\u53cd\uff0c\u94fe\u8868\u7684\u5143\u7d20\u662f\u5206\u6563\u5b58\u50a8\u7684\uff0c\u5728\u9891\u7e41\u7684\u63d2\u5165\u4e0e\u5220\u9664\u64cd\u4f5c\u4e2d\uff0c\u66f4\u5bb9\u6613\u5bfc\u81f4\u5185\u5b58\u788e\u7247\u5316\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_4_%E5%86%85%E5%AD%98%E4%B8%8E%E7%BC%93%E5%AD%98/#_3","title":"\u6570\u636e\u7ed3\u6784\u7684\u7f13\u5b58\u6548\u7387","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_4_%E5%86%85%E5%AD%98%E4%B8%8E%E7%BC%93%E5%AD%98/#cache-miss","title":"Cache Miss","text":"<p>\u7f13\u5b58\u867d\u7136\u5728\u7a7a\u95f4\u5bb9\u91cf\u4e0a\u8fdc\u5c0f\u4e8e\u5185\u5b58\uff0c\u4f46\u5b83\u6bd4\u5185\u5b58\u5feb\u5f97\u591a\uff0c\u5728\u7a0b\u5e8f\u6267\u884c\u901f\u5ea6\u4e0a\u8d77\u7740\u81f3\u5173\u91cd\u8981\u7684\u4f5c\u7528\u3002\u7531\u4e8e\u7f13\u5b58\u7684\u5bb9\u91cf\u6709\u9650\uff0c\u53ea\u80fd\u5b58\u50a8\u4e00\u5c0f\u90e8\u5206\u9891\u7e41\u8bbf\u95ee\u7684\u6570\u636e\uff0c\u56e0\u6b64\u5f53 CPU \u5c1d\u8bd5\u8bbf\u95ee\u7684\u6570\u636e\u4e0d\u5728\u7f13\u5b58\u4e2d\u65f6\uff0c\u5c31\u4f1a\u53d1\u751f\u7f13\u5b58\u672a\u547d\u4e2d\uff08cache miss\uff09\uff0c\u6b64\u65f6 CPU \u4e0d\u5f97\u4e0d\u4ece\u901f\u5ea6\u8f83\u6162\u7684\u5185\u5b58\u4e2d\u52a0\u8f7d\u6240\u9700\u6570\u636e\u3002</p> <p>\u663e\u7136\uff0c\u201c\u7f13\u5b58\u672a\u547d\u4e2d\u201d \u8d8a\u5c11\uff0cCPU \u8bfb\u5199\u6570\u636e\u7684\u6548\u7387\u5c31\u8d8a\u9ad8\uff0c\u7a0b\u5e8f\u6027\u80fd\u4e5f\u5c31\u8d8a\u597d\u3002\u6211\u4eec\u5c06 CPU \u4ece\u7f13\u5b58\u4e2d\u6210\u529f\u83b7\u53d6\u6570\u636e\u7684\u6bd4\u4f8b\u79f0\u4e3a\u7f13\u5b58\u547d\u4e2d\u7387\uff08cache hit rate\uff09\uff0c\u8fd9\u4e2a\u6307\u6807\u901a\u5e38\u7528\u6765\u8861\u91cf\u7f13\u5b58\u6548\u7387\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_4_%E5%86%85%E5%AD%98%E4%B8%8E%E7%BC%93%E5%AD%98/#_4","title":"\u7f13\u5b58\u7684\u673a\u5236","text":"<p>\u4e3a\u4e86\u5c3d\u53ef\u80fd\u8fbe\u5230\u66f4\u9ad8\u7684\u6548\u7387\uff0c\u7f13\u5b58\u4f1a\u91c7\u53d6\u4ee5\u4e0b\u6570\u636e\u52a0\u8f7d\u673a\u5236\u3002</p> <ul> <li>\u7f13\u5b58\u884c\uff1a\u7f13\u5b58\u4e0d\u662f\u5355\u4e2a\u5b57\u8282\u5730\u5b58\u50a8\u4e0e\u52a0\u8f7d\u6570\u636e\uff0c\u800c\u662f\u4ee5\u7f13\u5b58\u884c\u4e3a\u5355\u4f4d\u3002\u76f8\u6bd4\u4e8e\u5355\u4e2a\u5b57\u8282\u7684\u4f20\u8f93\uff0c\u7f13\u5b58\u884c\u7684\u4f20\u8f93\u5f62\u5f0f\u66f4\u52a0\u9ad8\u6548\u3002</li> <li>\u9884\u53d6\u673a\u5236\uff1a\u5904\u7406\u5668\u4f1a\u5c1d\u8bd5\u9884\u6d4b\u6570\u636e\u8bbf\u95ee\u6a21\u5f0f\uff08\u4f8b\u5982\u987a\u5e8f\u8bbf\u95ee\u3001\u56fa\u5b9a\u6b65\u957f\u8df3\u8dc3\u8bbf\u95ee\u7b49\uff09\uff0c\u5e76\u6839\u636e\u7279\u5b9a\u6a21\u5f0f\u5c06\u6570\u636e\u52a0\u8f7d\u81f3\u7f13\u5b58\u4e4b\u4e2d\uff0c\u4ece\u800c\u63d0\u5347\u547d\u4e2d\u7387\u3002</li> <li>\u7a7a\u95f4\u5c40\u90e8\u6027\uff1a\u5982\u679c\u4e00\u4e2a\u6570\u636e\u88ab\u8bbf\u95ee\uff0c\u90a3\u4e48\u5b83\u9644\u8fd1\u7684\u6570\u636e\u53ef\u80fd\u8fd1\u671f\u4e5f\u4f1a\u88ab\u8bbf\u95ee\u3002\u56e0\u6b64\uff0c\u7f13\u5b58\u5728\u52a0\u8f7d\u67d0\u4e00\u6570\u636e\u65f6\uff0c\u4e5f\u4f1a\u52a0\u8f7d\u5176\u9644\u8fd1\u7684\u6570\u636e\uff0c\u4ee5\u63d0\u9ad8\u547d\u4e2d\u7387\u3002</li> <li>\u65f6\u95f4\u5c40\u90e8\u6027\uff1a\u5982\u679c\u4e00\u4e2a\u6570\u636e\u88ab\u8bbf\u95ee\uff0c\u90a3\u4e48\u5b83\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u5f88\u53ef\u80fd\u518d\u6b21\u88ab\u8bbf\u95ee\u3002\u7f13\u5b58\u5229\u7528\u8fd9\u4e00\u539f\u7406\uff0c\u901a\u8fc7\u4fdd\u7559\u6700\u8fd1\u8bbf\u95ee\u8fc7\u7684\u6570\u636e\u6765\u63d0\u9ad8\u547d\u4e2d\u7387\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_4_%E5%86%85%E5%AD%98%E4%B8%8E%E7%BC%93%E5%AD%98/#_5","title":"\u7f13\u5b58\u5c42\u9762\u5bf9\u6bd4\u6570\u7ec4\u548c\u94fe\u8868","text":"<p>\u6570\u7ec4\u548c\u94fe\u8868\u5bf9\u7f13\u5b58\u7684\u5229\u7528\u6548\u7387\u662f\u4e0d\u540c\u7684\uff0c\u4e3b\u8981\u4f53\u73b0\u5728\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u3002</p> <ul> <li>\u5360\u7528\u7a7a\u95f4\uff1a\u94fe\u8868\u5143\u7d20\u6bd4\u6570\u7ec4\u5143\u7d20\u5360\u7528\u7a7a\u95f4\u66f4\u591a\uff0c\u5bfc\u81f4\u7f13\u5b58\u4e2d\u5bb9\u7eb3\u7684\u6709\u6548\u6570\u636e\u91cf\u66f4\u5c11\u3002</li> <li>\u7f13\u5b58\u884c\uff1a\u94fe\u8868\u6570\u636e\u5206\u6563\u5728\u5185\u5b58\u5404\u5904\uff0c\u800c\u7f13\u5b58\u662f\u201c\u6309\u884c\u52a0\u8f7d\u201d\u7684\uff0c\u56e0\u6b64\u52a0\u8f7d\u5230\u65e0\u6548\u6570\u636e\u7684\u6bd4\u4f8b\u66f4\u9ad8\u3002</li> <li>\u9884\u53d6\u673a\u5236\uff1a\u6570\u7ec4\u6bd4\u94fe\u8868\u7684\u6570\u636e\u8bbf\u95ee\u6a21\u5f0f\u66f4\u5177\u201c\u53ef\u9884\u6d4b\u6027\u201d\uff0c\u5373\u7cfb\u7edf\u66f4\u5bb9\u6613\u731c\u51fa\u5373\u5c06\u88ab\u52a0\u8f7d\u7684\u6570\u636e\u3002</li> <li>\u7a7a\u95f4\u5c40\u90e8\u6027\uff1a\u6570\u7ec4\u88ab\u5b58\u50a8\u5728\u96c6\u4e2d\u7684\u5185\u5b58\u7a7a\u95f4\u4e2d\uff0c\u56e0\u6b64\u88ab\u52a0\u8f7d\u6570\u636e\u9644\u8fd1\u7684\u6570\u636e\u66f4\u6709\u53ef\u80fd\u5373\u5c06\u88ab\u8bbf\u95ee\u3002</li> </ul> <p>\u603b\u4f53\u800c\u8a00\uff0c\u6570\u7ec4\u5177\u6709\u66f4\u9ad8\u7684\u7f13\u5b58\u547d\u4e2d\u7387\uff0c\u56e0\u6b64\u5b83\u5728\u64cd\u4f5c\u6548\u7387\u4e0a\u901a\u5e38\u4f18\u4e8e\u94fe\u8868\u3002\u8fd9\u4f7f\u5f97\u5728\u89e3\u51b3\u7b97\u6cd5\u95ee\u9898\u65f6\uff0c\u57fa\u4e8e\u6570\u7ec4\u5b9e\u73b0\u7684\u6570\u636e\u7ed3\u6784\u5f80\u5f80\u66f4\u53d7\u6b22\u8fce\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u9ad8\u7f13\u5b58\u6548\u7387\u5e76\u4e0d\u610f\u5473\u7740\u6570\u7ec4\u5728\u6240\u6709\u60c5\u51b5\u4e0b\u90fd\u4f18\u4e8e\u94fe\u8868\u3002\u5b9e\u9645\u5e94\u7528\u4e2d\u9009\u62e9\u54ea\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u5e94\u6839\u636e\u5177\u4f53\u9700\u6c42\u6765\u51b3\u5b9a\u3002\u4f8b\u5982\uff0c\u6570\u7ec4\u548c\u94fe\u8868\u90fd\u53ef\u4ee5\u5b9e\u73b0 \u201c\u6808\u201d \u6570\u636e\u7ed3\u6784\uff0c\u4f46\u5b83\u4eec\u9002\u7528\u4e8e\u4e0d\u540c\u573a\u666f\u3002</p> <ul> <li>\u5728\u505a\u7b97\u6cd5\u9898\u65f6\uff0c\u6211\u4eec\u4f1a\u503e\u5411\u4e8e\u9009\u62e9\u57fa\u4e8e\u6570\u7ec4\u5b9e\u73b0\u7684\u6808\uff0c\u56e0\u4e3a\u5b83\u63d0\u4f9b\u4e86\u66f4\u9ad8\u7684\u64cd\u4f5c\u6548\u7387\u548c\u968f\u673a\u8bbf\u95ee\u7684\u80fd\u529b\uff0c\u4ee3\u4ef7\u4ec5\u662f\u9700\u8981\u9884\u5148\u4e3a\u6570\u7ec4\u5206\u914d\u4e00\u5b9a\u7684\u5185\u5b58\u7a7a\u95f4\u3002</li> <li>\u5982\u679c\u6570\u636e\u91cf\u975e\u5e38\u5927\u3001\u52a8\u6001\u6027\u5f88\u9ad8\u3001\u6808\u7684\u9884\u671f\u5927\u5c0f\u96be\u4ee5\u4f30\u8ba1\uff0c\u90a3\u4e48\u57fa\u4e8e\u94fe\u8868\u5b9e\u73b0\u7684\u6808\u66f4\u52a0\u5408\u9002\u3002\u94fe\u8868\u80fd\u591f\u5c06\u5927\u91cf\u6570\u636e\u5206\u6563\u5b58\u50a8\u4e8e\u5185\u5b58\u7684\u4e0d\u540c\u90e8\u5206\uff0c\u5e76\u4e14\u907f\u514d\u4e86\u6570\u7ec4\u6269\u5bb9\u4ea7\u751f\u7684\u989d\u5916\u5f00\u9500\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_5_%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/","title":"4.5 \u76f8\u5173\u95ee\u9898","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_5_%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/#or","title":"\u6570\u7ec4\u5206\u914d\u5728\u6808 or \u5806\uff1f","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u4e0d\u540c\u8bed\u8a00\u6709\u4e0d\u540c\u7684\u7ed3\u679c\u3002</p> <p>\u5bf9\u4e8e C++ \u6765\u8bf4\uff0c\u9759\u6001\u6570\u7ec4\uff08\u7f16\u8bd1\u65f6\u786e\u5b9a\u5927\u5c0f\uff09\u548c std:array \u5206\u914d\u5728\u6808\u4e0a\uff0c\u52a8\u6001\u6570\u7ec4\uff08new[]\uff09\u548c std::vector \u5206\u914d\u5728\u5806\u4e0a\u3002</p> <p>\u5bf9\u4e8e C# \u6765\u8bf4\uff0c\u90fd\u662f\u5206\u914d\u5728\u5806\u4e0a\uff0c\u4f46\u662f\u63d0\u4f9b\u4e86\u5173\u952e\u5b57 stackalloc \u5728\u6808\u4e0a\u5206\u914d\uff1a</p> C#<pre><code>Span&lt;int&gt; stackSpan = stackalloc int[100];\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_5_%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/#_1","title":"\u6570\u7ec4\u5b58\u50a8\u5728\u6808\u4e0a\u548c\u5b58\u50a8\u5728\u5806\u4e0a\uff0c\u5bf9\u65f6\u95f4\u6548\u7387\u548c\u7a7a\u95f4\u6548\u7387\u662f\u5426\u6709\u5f71\u54cd\uff1f","text":"<p>\u5b58\u50a8\u5728\u6808\u4e0a\u548c\u5806\u4e0a\u7684\u6570\u7ec4\u90fd\u88ab\u5b58\u50a8\u5728\u8fde\u7eed\u5185\u5b58\u7a7a\u95f4\u5185\uff0c\u6570\u636e\u64cd\u4f5c\u6548\u7387\u57fa\u672c\u4e00\u81f4\u3002\u7136\u800c\uff0c\u6808\u548c\u5806\u5177\u6709\u5404\u81ea\u7684\u7279\u70b9\uff0c\u4ece\u800c\u5bfc\u81f4\u4ee5\u4e0b\u4e0d\u540c\u70b9\u3002</p> <ul> <li>\u5206\u914d\u548c\u91ca\u653e\u6548\u7387\uff1a\u6808\u662f\u4e00\u5757\u8f83\u5c0f\u7684\u5185\u5b58\uff0c\u5206\u914d\u7531\u7f16\u8bd1\u5668\u81ea\u52a8\u5b8c\u6210\uff1b\u800c\u5806\u5185\u5b58\u76f8\u5bf9\u66f4\u5927\uff0c\u53ef\u4ee5\u5728\u4ee3\u7801\u4e2d\u52a8\u6001\u5206\u914d\uff0c\u66f4\u5bb9\u6613\u788e\u7247\u5316\u3002\u56e0\u6b64\uff0c\u5806\u4e0a\u7684\u5206\u914d\u548c\u91ca\u653e\u64cd\u4f5c\u901a\u5e38\u6bd4\u6808\u4e0a\u7684\u6162\u3002</li> <li>\u5927\u5c0f\u9650\u5236\uff1a\u6808\u5185\u5b58\u76f8\u5bf9\u8f83\u5c0f\uff0c\u5806\u7684\u5927\u5c0f\u4e00\u822c\u53d7\u9650\u4e8e\u53ef\u7528\u5185\u5b58\u3002\u56e0\u6b64\u5806\u66f4\u52a0\u9002\u5408\u5b58\u50a8\u5927\u578b\u6570\u7ec4\u3002</li> <li>\u7075\u6d3b\u6027\uff1a\u6808\u4e0a\u7684\u6570\u7ec4\u7684\u5927\u5c0f\u9700\u8981\u5728\u7f16\u8bd1\u65f6\u786e\u5b9a\uff0c\u800c\u5806\u4e0a\u7684\u6570\u7ec4\u7684\u5927\u5c0f\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u786e\u5b9a\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_5_%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/#_2","title":"\u4e3a\u4ec0\u4e48\u6570\u7ec4\u8981\u6c42\u76f8\u540c\u7c7b\u578b\u7684\u5143\u7d20\uff0c\u800c\u5728\u94fe\u8868\u4e2d\u5374\u6ca1\u6709\u5f3a\u8c03\u76f8\u540c\u7c7b\u578b\u5462\uff1f","text":"<p>\u94fe\u8868\u7531\u8282\u70b9\u7ec4\u6210\uff0c\u901a\u8fc7\u6307\u9488\u8fde\u63a5\uff0c\u6240\u4ee5\u5404\u4e2a\u8282\u70b9\u53ef\u4ee5\u5b58\u50a8\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u3002</p> <p>\u800c\u6570\u7ec4\u5fc5\u987b\u662f\u76f8\u540c\u7c7b\u578b\uff0c\u8fd9\u6837\u624d\u80fd\u901a\u8fc7\u8ba1\u7b97\u504f\u79fb\u91cf\u6765\u83b7\u53d6\u5bf9\u5e94\u5143\u7d20\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u6570\u7ec4\u540c\u65f6\u5305\u542b int \u548c long \u4e24\u79cd\u7c7b\u578b\uff0c\u5355\u4e2a\u5143\u7d20\u5206\u522b\u5360\u7528 4 \u5b57\u8282\u548c 8 \u5b57\u8282 \uff0c\u6b64\u65f6\u5c31\u4e0d\u80fd\u7528\u516c\u5f0f\u8ba1\u7b97\u504f\u79fb\u91cf\u4e86\uff0c\u56e0\u4e3a\u6570\u7ec4\u4e2d\u5305\u542b\u4e86\u4e24\u79cd \u201c\u5143\u7d20\u957f\u5ea6\u201d \u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_5_%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/#o1","title":"\u5728\u5217\u8868\u672b\u5c3e\u6dfb\u52a0\u5143\u7d20\u662f\u5426\u65f6\u65f6\u523b\u523b\u90fd\u4e3a \\(O(1)\\) \uff1f","text":"<p>\u5982\u679c\u6dfb\u52a0\u5143\u7d20\u65f6\u8d85\u51fa\u5217\u8868\u957f\u5ea6\uff0c\u5219\u9700\u8981\u5148\u6269\u5bb9\u5217\u8868\u518d\u6dfb\u52a0\u3002\u7cfb\u7edf\u4f1a\u7533\u8bf7\u4e00\u5757\u65b0\u7684\u5185\u5b58\uff0c\u5e76\u5c06\u539f\u5217\u8868\u7684\u6240\u6709\u5143\u7d20\u642c\u8fd0\u8fc7\u53bb\uff0c\u8fd9\u65f6\u5019\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u4f1a\u662f \\(O(n)\\) \u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/04_%E6%95%B0%E7%BB%84%E4%B8%8E%E9%93%BE%E8%A1%A8/4_5_%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/#_3","title":"\u5217\u8868\u7684\u5185\u5b58\u6d6a\u8d39\u5982\u4f55\u907f\u514d\uff1f","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u9884\u5148\u786e\u5b9a\u5217\u8868\u7684\u6700\u5927\u957f\u5ea6\u6765\u5728\u521d\u59cb\u5316\u65f6\u7ed9\u5217\u8868\u5206\u914d\u4e00\u4e2a\u56fa\u5b9a\u957f\u5ea6\u7684\u7a7a\u95f4\u5e76\u4e14\u786e\u4fdd\u5728\u751f\u547d\u5468\u671f\u5185\u4e0d\u4f1a\u6269\u5bb9\uff0c\u8fd9\u6837\u53ef\u4ee5\u5c3d\u91cf\u51cf\u5c11\u5185\u5b58\u7a7a\u95f4\u7684\u6d6a\u8d39\uff0c\u540c\u65f6\u4e5f\u907f\u514d\u4e86\u6269\u5bb9\u5e26\u6765\u7684\u65f6\u95f4\u548c\u7a7a\u95f4\u7684\u5f00\u9500\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_1_%E6%A0%88/","title":"5.1 \u6808","text":"<p>\u6808\u662f\u4e00\u79cd\u5148\u8fdb\u540e\u51fa\u7684\u7ebf\u6027\u6570\u636e\u7ed3\u6784</p> <p></p> <p>\u6808\u7684\u5148\u5165\u540e\u51fa\u89c4\u5219</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_1_%E6%A0%88/#_1","title":"\u5e38\u7528\u64cd\u4f5c","text":"\u65b9\u6cd5 \u63cf\u8ff0 \u65f6\u95f4\u590d\u6742\u5ea6 push() \u5143\u7d20\u5165\u6808\uff08\u6dfb\u52a0\u81f3\u6808\u9876\uff09 \\(O(1)\\) pop() \u6808\u9876\u5143\u7d20\u51fa\u6808 \\(O(1)\\) peek() \u8bbf\u95ee\u6808\u9876\u5143\u7d20 \\(O(1)\\) C#<pre><code>/* \u521d\u59cb\u5316\u6808 */\nStack&lt;int&gt; stack = new();\n\n/* \u5143\u7d20\u5165\u6808 */\nstack.Push(1);\nstack.Push(3);\nstack.Push(2);\nstack.Push(5);\nstack.Push(4);\n\n/* \u8bbf\u95ee\u6808\u9876\u5143\u7d20 */\nint peek = stack.Peek();\n\n/* \u5143\u7d20\u51fa\u6808 */\nint pop = stack.Pop();\n\n/* \u83b7\u53d6\u6808\u7684\u957f\u5ea6 */\nint size = stack.Count;\n\n/* \u5224\u65ad\u662f\u5426\u4e3a\u7a7a */\nbool isEmpty = stack.Count == 0;\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_1_%E6%A0%88/#_2","title":"\u6808\u7684\u5b9e\u73b0","text":"<p>\u6808\u53ef\u4ee5\u89c6\u4e3a\u4e00\u79cd\u53d7\u9650\u5236\u7684\u6570\u7ec4\u6216\u94fe\u8868</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_1_%E6%A0%88/#_3","title":"\u57fa\u4e8e\u94fe\u8868\u7684\u5b9e\u73b0","text":"<p>\u5c06\u94fe\u8868\u7684\u5934\u8282\u70b9\u89c6\u4e3a\u6808\u9876\uff0c\u5c3e\u8282\u70b9\u89c6\u4e3a\u6808\u5e95\u3002\u5bf9\u4e8e\u5165\u6808\u64cd\u4f5c\uff0c\u6211\u4eec\u53ea\u9700\u5c06\u5143\u7d20\u63d2\u5165\u94fe\u8868\u5934\u90e8\uff0c\u8fd9\u79cd\u8282\u70b9\u63d2\u5165\u65b9\u6cd5\u88ab\u79f0\u4e3a\u201c\u5934\u63d2\u6cd5\u201d\u3002\u800c\u5bf9\u4e8e\u51fa\u6808\u64cd\u4f5c\uff0c\u53ea\u9700\u5c06\u5934\u8282\u70b9\u4ece\u94fe\u8868\u4e2d\u5220\u9664\u5373\u53ef\u3002</p> step 1step 2step 3 <p></p> <p></p> <p></p> C#<pre><code>/* \u57fa\u4e8e\u94fe\u8868\u5b9e\u73b0\u7684\u6808 */\nclass LinkedListStack {\n    ListNode? stackPeek;  // \u5c06\u5934\u8282\u70b9\u4f5c\u4e3a\u6808\u9876\n    int stkSize = 0;   // \u6808\u7684\u957f\u5ea6\n\n    public LinkedListStack() {\n        stackPeek = null;\n    }\n\n    /* \u83b7\u53d6\u6808\u7684\u957f\u5ea6 */\n    public int Size() {\n        return stkSize;\n    }\n\n    /* \u5224\u65ad\u6808\u662f\u5426\u4e3a\u7a7a */\n    public bool IsEmpty() {\n        return Size() == 0;\n    }\n\n    /* \u5165\u6808 */\n    public void Push(int num) {\n        ListNode node = new(num) {\n            next = stackPeek\n        };\n        stackPeek = node;\n        stkSize++;\n    }\n\n    /* \u51fa\u6808 */\n    public int Pop() {\n        int num = Peek();\n        stackPeek = stackPeek!.next;\n        stkSize--;\n        return num;\n    }\n\n    /* \u8bbf\u95ee\u6808\u9876\u5143\u7d20 */\n    public int Peek() {\n        if (IsEmpty())\n            throw new Exception();\n        return stackPeek!.val;\n    }\n\n    /* \u5c06 List \u8f6c\u5316\u4e3a Array \u5e76\u8fd4\u56de */\n    public int[] ToArray() {\n        if (stackPeek == null)\n            return [];\n\n        ListNode? node = stackPeek;\n        int[] res = new int[Size()];\n        for (int i = res.Length - 1; i &gt;= 0; i--) {\n            res[i] = node!.val;\n            node = node.next;\n        }\n        return res;\n    }\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_1_%E6%A0%88/#_4","title":"\u57fa\u4e8e\u6570\u7ec4\u7684\u5b9e\u73b0","text":"<p>\u4f7f\u7528\u6570\u7ec4\u5b9e\u73b0\u6808\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u6570\u7ec4\u7684\u5c3e\u90e8\u4f5c\u4e3a\u6808\u9876\u3002\u5165\u6808\u4e0e\u51fa\u6808\u64cd\u4f5c\u5206\u522b\u5bf9\u5e94\u5728\u6570\u7ec4\u5c3e\u90e8\u6dfb\u52a0\u5143\u7d20\u4e0e\u5220\u9664\u5143\u7d20\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u90fd\u4e3a \\(O(1)\\) \u3002</p> step 1step 2step 3 <p></p> <p></p> <p></p> <p>\u7531\u4e8e\u5165\u6808\u7684\u5143\u7d20\u53ef\u80fd\u4f1a\u6e90\u6e90\u4e0d\u65ad\u5730\u589e\u52a0\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u52a8\u6001\u6570\u7ec4\uff0c\u8fd9\u6837\u5c31\u65e0\u987b\u81ea\u884c\u5904\u7406\u6570\u7ec4\u6269\u5bb9\u95ee\u9898\u3002</p> C#<pre><code>/* \u57fa\u4e8e\u6570\u7ec4\u5b9e\u73b0\u7684\u6808 */\nclass ArrayStack {\n    List&lt;int&gt; stack;\n    public ArrayStack() {\n        // \u521d\u59cb\u5316\u5217\u8868\uff08\u52a8\u6001\u6570\u7ec4\uff09\n        stack = [];\n    }\n\n    /* \u83b7\u53d6\u6808\u7684\u957f\u5ea6 */\n    public int Size() {\n        return stack.Count;\n    }\n\n    /* \u5224\u65ad\u6808\u662f\u5426\u4e3a\u7a7a */\n    public bool IsEmpty() {\n        return Size() == 0;\n    }\n\n    /* \u5165\u6808 */\n    public void Push(int num) {\n        stack.Add(num);\n    }\n\n    /* \u51fa\u6808 */\n    public int Pop() {\n        if (IsEmpty())\n            throw new Exception();\n        var val = Peek();\n        stack.RemoveAt(Size() - 1);\n        return val;\n    }\n\n    /* \u8bbf\u95ee\u6808\u9876\u5143\u7d20 */\n    public int Peek() {\n        if (IsEmpty())\n            throw new Exception();\n        return stack[Size() - 1];\n    }\n\n    /* \u5c06 List \u8f6c\u5316\u4e3a Array \u5e76\u8fd4\u56de */\n    public int[] ToArray() {\n        return [.. stack];\n    }\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_1_%E6%A0%88/#_5","title":"\u4e24\u79cd\u5b9e\u73b0\u7684\u5bf9\u6bd4","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_1_%E6%A0%88/#_6","title":"\u65f6\u95f4\u6548\u7387","text":"<ul> <li>\u57fa\u4e8e\u6570\u7ec4\u5b9e\u73b0\u7684\u6808\uff0c\u7531\u4e8e\u8fde\u7eed\u5185\u5b58\u6240\u4ee5\u5177\u6709\u5f88\u597d\u7684\u7f13\u5b58\u672c\u5730\u6027\uff0c\u6548\u7387\u8f83\u9ad8\u3002\u4f46\u5728\u89e6\u53d1\u6269\u5bb9\u65f6\u6548\u7387\u4f1a\u964d\u4f4e\uff0c\u4f46\u7531\u4e8e\u6269\u5bb9\u662f\u4f4e\u9891\u64cd\u4f5c\uff0c\u56e0\u6b64\u5e73\u5747\u6548\u7387\u66f4\u9ad8\u3002</li> <li>\u57fa\u4e8e\u94fe\u8868\u5b9e\u73b0\u7684\u6808\uff0c\u4e0d\u5b58\u5728\u6269\u5bb9\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u63d0\u4f9b\u66f4\u52a0\u7a33\u5b9a\u7684\u6548\u7387\u8868\u73b0\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_1_%E6%A0%88/#_7","title":"\u7a7a\u95f4\u6548\u7387","text":"<ul> <li>\u57fa\u4e8e\u6570\u7ec4\u5b9e\u73b0\u7684\u6808\uff0c\u53ef\u80fd\u4f1a\u9020\u6210\u6269\u5bb9\uff0c\u56e0\u6b64\u53ef\u80fd\u9020\u6210\u4e00\u5b9a\u7a0b\u5ea6\u7684\u7a7a\u95f4\u6d6a\u8d39</li> <li>\u57fa\u4e8e\u94fe\u8868\u5b9e\u73b0\u7684\u6808\uff0c\u9700\u8981\u989d\u5916\u5b58\u50a8\u6307\u9488\uff0c\u6240\u4ee5\u5355\u4e2a\u8282\u70b9\u5360\u7528\u7684\u7a7a\u95f4\u66f4\u5927\u4e9b</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_1_%E6%A0%88/#_8","title":"\u603b\u7ed3","text":"<p>\u4e24\u79cd\u5b9e\u73b0\u7686\u6709\u5229\u6709\u5f0a\uff0c\u5177\u4f53\u60c5\u51b5\u9700\u8981\u5177\u4f53\u5206\u6790\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_1_%E6%A0%88/#_9","title":"\u5178\u578b\u5e94\u7528","text":"<ul> <li>\u6d4f\u89c8\u5668\u4e2d\u7684\u540e\u9000\u4e0e\u524d\u8fdb\u3001\u8f6f\u4ef6\u4e2d\u7684\u64a4\u9500\u4e0e\u53cd\u64a4\u9500\u3002\u6bcf\u5f53\u6211\u4eec\u6253\u5f00\u65b0\u7684\u7f51\u9875\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u5bf9\u4e0a\u4e00\u4e2a\u7f51\u9875\u6267\u884c\u5165\u6808\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u540e\u9000\u64cd\u4f5c\u56de\u5230\u4e0a\u4e00\u4e2a\u7f51\u9875\u3002\u540e\u9000\u64cd\u4f5c\u5b9e\u9645\u4e0a\u662f\u5728\u6267\u884c\u51fa\u6808\u3002\u5982\u679c\u8981\u540c\u65f6\u652f\u6301\u540e\u9000\u548c\u524d\u8fdb\uff0c\u90a3\u4e48\u9700\u8981\u4e24\u4e2a\u6808\u6765\u914d\u5408\u5b9e\u73b0\u3002</li> <li>\u7a0b\u5e8f\u5185\u5b58\u7ba1\u7406\u3002\u6bcf\u6b21\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u7cfb\u7edf\u90fd\u4f1a\u5728\u6808\u9876\u6dfb\u52a0\u4e00\u4e2a\u6808\u5e27\uff0c\u7528\u4e8e\u8bb0\u5f55\u51fd\u6570\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002\u5728\u9012\u5f52\u51fd\u6570\u4e2d\uff0c\u5411\u4e0b\u9012\u63a8\u9636\u6bb5\u4f1a\u4e0d\u65ad\u6267\u884c\u5165\u6808\u64cd\u4f5c\uff0c\u800c\u5411\u4e0a\u56de\u6eaf\u9636\u6bb5\u5219\u4f1a\u4e0d\u65ad\u6267\u884c\u51fa\u6808\u64cd\u4f5c\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_2_%E9%98%9F%E5%88%97/","title":"5.2 \u961f\u5217","text":"<p>\u961f\u5217\u662f\u4e00\u79cd\u5148\u8fdb\u5148\u51fa\u7684\u7ebf\u6027\u6570\u636e\u7ed3\u6784</p> <p></p> <p>\u961f\u5217\u7684\u5148\u5165\u5148\u51fa\u89c4\u5219</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_2_%E9%98%9F%E5%88%97/#_1","title":"\u5e38\u7528\u64cd\u4f5c","text":"\u65b9\u6cd5 \u63cf\u8ff0 \u65f6\u95f4\u590d\u6742\u5ea6 push() \u5143\u7d20\u5165\u961f\uff0c\u5373\u5c06\u5143\u7d20\u6dfb\u52a0\u81f3\u961f\u5c3e \\(O(1)\\) pop() \u961f\u9996\u5143\u7d20\u51fa\u961f \\(O(1)\\) peek() \u8bbf\u95ee\u961f\u9996\u5143\u7d20 \\(O(1)\\) C#<pre><code>/* \u521d\u59cb\u5316\u961f\u5217 */\nQueue&lt;int&gt; queue = new();\n\n/* \u5143\u7d20\u5165\u961f */\nqueue.Enqueue(1);\nqueue.Enqueue(3);\nqueue.Enqueue(2);\nqueue.Enqueue(5);\nqueue.Enqueue(4);\n\n/* \u8bbf\u95ee\u961f\u9996\u5143\u7d20 */\nint peek = queue.Peek();\n\n/* \u5143\u7d20\u51fa\u961f */\nint pop = queue.Dequeue();\n\n/* \u83b7\u53d6\u961f\u5217\u7684\u957f\u5ea6 */\nint size = queue.Count;\n\n/* \u5224\u65ad\u961f\u5217\u662f\u5426\u4e3a\u7a7a */\nbool isEmpty = queue.Count == 0;\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_2_%E9%98%9F%E5%88%97/#_2","title":"\u961f\u5217\u5b9e\u73b0","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_2_%E9%98%9F%E5%88%97/#_3","title":"\u57fa\u4e8e\u94fe\u8868\u7684\u5b9e\u73b0","text":"<p>\u53ef\u4ee5\u5c06\u94fe\u8868\u7684\u201c\u5934\u8282\u70b9\u201d\u548c\u201c\u5c3e\u8282\u70b9\u201d\u5206\u522b\u89c6\u4e3a\u201c\u961f\u9996\u201d\u548c\u201c\u961f\u5c3e\u201d\uff0c\u89c4\u5b9a\u961f\u5c3e\u4ec5\u53ef\u6dfb\u52a0\u8282\u70b9\uff0c\u961f\u9996\u4ec5\u53ef\u5220\u9664\u8282\u70b9\u3002</p> step 1step 2step 3 <p></p> <p></p> <p></p> C#<pre><code>/* \u57fa\u4e8e\u94fe\u8868\u5b9e\u73b0\u7684\u961f\u5217 */\nclass LinkedListQueue {\n    ListNode? front, rear;  // \u5934\u8282\u70b9 front \uff0c\u5c3e\u8282\u70b9 rear\n    int queSize = 0;\n\n    public LinkedListQueue() {\n        front = null;\n        rear = null;\n    }\n\n    /* \u83b7\u53d6\u961f\u5217\u7684\u957f\u5ea6 */\n    public int Size() {\n        return queSize;\n    }\n\n    /* \u5224\u65ad\u961f\u5217\u662f\u5426\u4e3a\u7a7a */\n    public bool IsEmpty() {\n        return Size() == 0;\n    }\n\n    /* \u5165\u961f */\n    public void Push(int num) {\n        // \u5728\u5c3e\u8282\u70b9\u540e\u6dfb\u52a0 num\n        ListNode node = new(num);\n        // \u5982\u679c\u961f\u5217\u4e3a\u7a7a\uff0c\u5219\u4ee4\u5934\u3001\u5c3e\u8282\u70b9\u90fd\u6307\u5411\u8be5\u8282\u70b9\n        if (front == null) {\n            front = node;\n            rear = node;\n            // \u5982\u679c\u961f\u5217\u4e0d\u4e3a\u7a7a\uff0c\u5219\u5c06\u8be5\u8282\u70b9\u6dfb\u52a0\u5230\u5c3e\u8282\u70b9\u540e\n        } else if (rear != null) {\n            rear.next = node;\n            rear = node;\n        }\n        queSize++;\n    }\n\n    /* \u51fa\u961f */\n    public int Pop() {\n        int num = Peek();\n        // \u5220\u9664\u5934\u8282\u70b9\n        front = front?.next;\n        queSize--;\n        return num;\n    }\n\n    /* \u8bbf\u95ee\u961f\u9996\u5143\u7d20 */\n    public int Peek() {\n        if (IsEmpty())\n            throw new Exception();\n        return front!.val;\n    }\n\n    /* \u5c06\u94fe\u8868\u8f6c\u5316\u4e3a Array \u5e76\u8fd4\u56de */\n    public int[] ToArray() {\n        if (front == null)\n            return [];\n\n        ListNode? node = front;\n        int[] res = new int[Size()];\n        for (int i = 0; i &lt; res.Length; i++) {\n            res[i] = node!.val;\n            node = node.next;\n        }\n        return res;\n    }\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_2_%E9%98%9F%E5%88%97/#_4","title":"\u57fa\u4e8e\u6570\u7ec4\u7684\u5b9e\u73b0","text":"<p>\u7528\u6570\u7ec4\u5b9e\u73b0\u6709\u4e00\u4e2a\u6838\u5fc3\u95ee\u9898\uff0c\u5220\u9664\u961f\u9996\u5143\u7d20\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n)\\) \uff0c\u6548\u7387\u6bd4\u8f83\u4f4e\uff0c\u4f46\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u6cd5\u5de7\u5999\u5730\u89c4\u907f\uff1a</p> <p>\u4f7f\u7528\u4e00\u4e2a\u53d8\u91cf front \u6307\u5411\u961f\u9996\u5143\u7d20\u7684\u7d22\u5f15\uff0c\u5e76\u7ef4\u62a4\u4e00\u4e2a\u53d8\u91cf size \u7528\u4e8e\u8bb0\u5f55\u961f\u5217\u957f\u5ea6\u3002\u5b9a\u4e49 rear = front + size \uff0c\u8fd9\u4e2a\u516c\u5f0f\u8ba1\u7b97\u51fa\u7684 rear \u6307\u5411\u961f\u5c3e\u5143\u7d20\u4e4b\u540e\u7684\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\u3002</p> <p>\u57fa\u4e8e\u6b64\u8bbe\u8ba1\uff0c\u6570\u7ec4\u4e2d\u5305\u542b\u5143\u7d20\u7684\u6709\u6548\u533a\u95f4\u4e3a [front, rear - 1] \uff1a</p> <ul> <li>\u5165\u961f\u64cd\u4f5c\uff1a\u5c06\u8f93\u5165\u5143\u7d20\u8d4b\u503c\u7ed9 rear \u7d22\u5f15\u5904\uff0c\u5e76\u5c06 size \u589e\u52a0 1 \u3002</li> <li>\u51fa\u961f\u64cd\u4f5c\uff1a\u53ea\u9700\u5c06 front \u589e\u52a0 1 \uff0c\u5e76\u5c06 size \u51cf\u5c11 1 \u3002</li> </ul> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u5165\u961f\u548c\u51fa\u961f\u64cd\u4f5c\u90fd\u53ea\u9700\u8fdb\u884c\u4e00\u6b21\u64cd\u4f5c\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u5747\u4e3a \\(O(1)\\) \u3002</p> step 1step 2step 3 <p></p> <p></p> <p></p> <p>\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u4e00\u4e2a\u95ee\u9898\uff1a\u5728\u4e0d\u65ad\u8fdb\u884c\u5165\u961f\u548c\u51fa\u961f\u7684\u8fc7\u7a0b\u4e2d\uff0cfront \u548c rear \u90fd\u5728\u5411\u53f3\u79fb\u52a8\uff0c\u5f53\u5b83\u4eec\u5230\u8fbe\u6570\u7ec4\u5c3e\u90e8\u65f6\u5c31\u65e0\u6cd5\u7ee7\u7eed\u79fb\u52a8\u4e86\u3002\u4e3a\u4e86\u89e3\u51b3\u6b64\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u6570\u7ec4\u89c6\u4e3a\u9996\u5c3e\u76f8\u63a5\u7684\u201c\u73af\u5f62\u6570\u7ec4\u201d\u3002</p> <p>\u5bf9\u4e8e\u73af\u5f62\u6570\u7ec4\uff0c\u6211\u4eec\u9700\u8981\u8ba9 front \u6216 rear \u5728\u8d8a\u8fc7\u6570\u7ec4\u5c3e\u90e8\u65f6\uff0c\u76f4\u63a5\u56de\u5230\u6570\u7ec4\u5934\u90e8\u7ee7\u7eed\u904d\u5386\u3002\u8fd9\u79cd\u5468\u671f\u6027\u89c4\u5f8b\u53ef\u4ee5\u901a\u8fc7\u201c\u53d6\u4f59\u64cd\u4f5c\u201d\u6765\u5b9e\u73b0\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a</p> C#<pre><code>/* \u57fa\u4e8e\u73af\u5f62\u6570\u7ec4\u5b9e\u73b0\u7684\u961f\u5217 */\nclass ArrayQueue {\n    int[] nums;  // \u7528\u4e8e\u5b58\u50a8\u961f\u5217\u5143\u7d20\u7684\u6570\u7ec4\n    int front;   // \u961f\u9996\u6307\u9488\uff0c\u6307\u5411\u961f\u9996\u5143\u7d20\n    int queSize; // \u961f\u5217\u957f\u5ea6\n\n    public ArrayQueue(int capacity) {\n        nums = new int[capacity];\n        front = queSize = 0;\n    }\n\n    /* \u83b7\u53d6\u961f\u5217\u7684\u5bb9\u91cf */\n    int Capacity() {\n        return nums.Length;\n    }\n\n    /* \u83b7\u53d6\u961f\u5217\u7684\u957f\u5ea6 */\n    public int Size() {\n        return queSize;\n    }\n\n    /* \u5224\u65ad\u961f\u5217\u662f\u5426\u4e3a\u7a7a */\n    public bool IsEmpty() {\n        return queSize == 0;\n    }\n\n    /* \u5165\u961f */\n    public void Push(int num) {\n        if (queSize == Capacity()) {\n            Console.WriteLine(\"\u961f\u5217\u5df2\u6ee1\");\n            return;\n        }\n        // \u8ba1\u7b97\u961f\u5c3e\u6307\u9488\uff0c\u6307\u5411\u961f\u5c3e\u7d22\u5f15 + 1\n        // \u901a\u8fc7\u53d6\u4f59\u64cd\u4f5c\u5b9e\u73b0 rear \u8d8a\u8fc7\u6570\u7ec4\u5c3e\u90e8\u540e\u56de\u5230\u5934\u90e8\n        int rear = (front + queSize) % Capacity();\n        // \u5c06 num \u6dfb\u52a0\u81f3\u961f\u5c3e\n        nums[rear] = num;\n        queSize++;\n    }\n\n    /* \u51fa\u961f */\n    public int Pop() {\n        int num = Peek();\n        // \u961f\u9996\u6307\u9488\u5411\u540e\u79fb\u52a8\u4e00\u4f4d\uff0c\u82e5\u8d8a\u8fc7\u5c3e\u90e8\uff0c\u5219\u8fd4\u56de\u5230\u6570\u7ec4\u5934\u90e8\n        front = (front + 1) % Capacity();\n        queSize--;\n        return num;\n    }\n\n    /* \u8bbf\u95ee\u961f\u9996\u5143\u7d20 */\n    public int Peek() {\n        if (IsEmpty())\n            throw new Exception();\n        return nums[front];\n    }\n\n    /* \u8fd4\u56de\u6570\u7ec4 */\n    public int[] ToArray() {\n        // \u4ec5\u8f6c\u6362\u6709\u6548\u957f\u5ea6\u8303\u56f4\u5185\u7684\u5217\u8868\u5143\u7d20\n        int[] res = new int[queSize];\n        for (int i = 0, j = front; i &lt; queSize; i++, j++) {\n            res[i] = nums[j % this.Capacity()];\n        }\n        return res;\n    }\n}\n</code></pre> <p>\u4ee5\u4e0a\u5b9e\u73b0\u7684\u961f\u5217\u4ecd\u7136\u5177\u6709\u5c40\u9650\u6027\uff1a\u5176\u957f\u5ea6\u4e0d\u53ef\u53d8\u3002\u7136\u800c\uff0c\u8fd9\u4e2a\u95ee\u9898\u4e0d\u96be\u89e3\u51b3\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u6570\u7ec4\u66ff\u6362\u4e3a\u52a8\u6001\u6570\u7ec4\uff0c\u4ece\u800c\u5f15\u5165\u6269\u5bb9\u673a\u5236\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_2_%E9%98%9F%E5%88%97/#_5","title":"\u5178\u578b\u5e94\u7528","text":"<ul> <li>\u6dd8\u5b9d\u8ba2\u5355\u3002\u8d2d\u7269\u8005\u4e0b\u5355\u540e\uff0c\u8ba2\u5355\u5c06\u52a0\u5165\u961f\u5217\u4e2d\uff0c\u7cfb\u7edf\u968f\u540e\u4f1a\u6839\u636e\u987a\u5e8f\u5904\u7406\u961f\u5217\u4e2d\u7684\u8ba2\u5355\u3002\u5728\u53cc\u5341\u4e00\u671f\u95f4\uff0c\u77ed\u65f6\u95f4\u5185\u4f1a\u4ea7\u751f\u6d77\u91cf\u8ba2\u5355\uff0c\u9ad8\u5e76\u53d1\u6210\u4e3a\u5de5\u7a0b\u5e08\u4eec\u9700\u8981\u91cd\u70b9\u653b\u514b\u7684\u95ee\u9898\u3002</li> <li>\u5404\u7c7b\u5f85\u529e\u4e8b\u9879\u3002\u4efb\u4f55\u9700\u8981\u5b9e\u73b0 \u201c\u5148\u6765\u540e\u5230\u201d \u529f\u80fd\u7684\u573a\u666f\uff0c\u4f8b\u5982\u6253\u5370\u673a\u7684\u4efb\u52a1\u961f\u5217\u3001\u9910\u5385\u7684\u51fa\u9910\u961f\u5217\u7b49\uff0c\u961f\u5217\u5728\u8fd9\u4e9b\u573a\u666f\u4e2d\u53ef\u4ee5\u6709\u6548\u5730\u7ef4\u62a4\u5904\u7406\u987a\u5e8f\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_3_%E5%8F%8C%E5%90%91%E9%98%9F%E5%88%97/","title":"5.3 \u53cc\u5411\u961f\u5217","text":"<p>\u53cc\u5411\u961f\u5217\u5728\u961f\u5217\u7684\u57fa\u7840\u4e0a\uff0c\u5141\u8bb8\u5728\u5934\u90e8\u548c\u5c3e\u90e8\u6267\u884c\u5143\u7d20\u7684\u6dfb\u52a0\u6216\u5220\u9664\u64cd\u4f5c\u3002</p> <p></p> <p>\u53cc\u5411\u961f\u5217\u7684\u64cd\u4f5c</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_3_%E5%8F%8C%E5%90%91%E9%98%9F%E5%88%97/#_1","title":"\u5e38\u7528\u64cd\u4f5c","text":"\u65b9\u6cd5 \u63cf\u8ff0 \u65f6\u95f4\u590d\u6742\u5ea6 push_first() \u5c06\u5143\u7d20\u6dfb\u52a0\u81f3\u961f\u9996 \\(O(1)\\) push_last() \u5c06\u5143\u7d20\u6dfb\u52a0\u81f3\u961f\u5c3e \\(O(1)\\) pop_first() \u5220\u9664\u961f\u9996\u5143\u7d20 \\(O(1)\\) pop_last() \u5220\u9664\u961f\u5c3e\u5143\u7d20 \\(O(1)\\) peek_first() \u8bbf\u95ee\u961f\u9996\u5143\u7d20 \\(O(1)\\) peek_last() \u8bbf\u95ee\u961f\u5c3e\u5143\u7d20 \\(O(1)\\) C#<pre><code>/* \u521d\u59cb\u5316\u53cc\u5411\u961f\u5217 */\n// \u5728 C# \u4e2d\uff0c\u5c06\u94fe\u8868 LinkedList \u770b\u4f5c\u53cc\u5411\u961f\u5217\u6765\u4f7f\u7528\nLinkedList&lt;int&gt; deque = new();\n\n/* \u5143\u7d20\u5165\u961f */\ndeque.AddLast(2);   // \u6dfb\u52a0\u81f3\u961f\u5c3e\ndeque.AddLast(5);\ndeque.AddLast(4);\ndeque.AddFirst(3);  // \u6dfb\u52a0\u81f3\u961f\u9996\ndeque.AddFirst(1);\n\n/* \u8bbf\u95ee\u5143\u7d20 */\nint peekFirst = deque.First.Value;  // \u961f\u9996\u5143\u7d20\nint peekLast = deque.Last.Value;    // \u961f\u5c3e\u5143\u7d20\n\n/* \u5143\u7d20\u51fa\u961f */\ndeque.RemoveFirst();  // \u961f\u9996\u5143\u7d20\u51fa\u961f\ndeque.RemoveLast();   // \u961f\u5c3e\u5143\u7d20\u51fa\u961f\n\n/* \u83b7\u53d6\u53cc\u5411\u961f\u5217\u7684\u957f\u5ea6 */\nint size = deque.Count;\n\n/* \u5224\u65ad\u53cc\u5411\u961f\u5217\u662f\u5426\u4e3a\u7a7a */\nbool isEmpty = deque.Count == 0;\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_3_%E5%8F%8C%E5%90%91%E9%98%9F%E5%88%97/#_2","title":"\u53cc\u5411\u961f\u5217\u7684\u5b9e\u73b0","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_3_%E5%8F%8C%E5%90%91%E9%98%9F%E5%88%97/#_3","title":"\u57fa\u4e8e\u53cc\u5411\u94fe\u8868\u7684\u5b9e\u73b0","text":"LinkedListDequepush_lastpush_firstpop_lastpop_first C#<pre><code>/* \u53cc\u5411\u94fe\u8868\u8282\u70b9 */\nclass ListNode(int val) {\n    public int val = val;       // \u8282\u70b9\u503c\n    public ListNode? next = null; // \u540e\u7ee7\u8282\u70b9\u5f15\u7528\n    public ListNode? prev = null; // \u524d\u9a71\u8282\u70b9\u5f15\u7528\n}\n\n/* \u57fa\u4e8e\u53cc\u5411\u94fe\u8868\u5b9e\u73b0\u7684\u53cc\u5411\u961f\u5217 */\nclass LinkedListDeque {\n    ListNode? front, rear; // \u5934\u8282\u70b9 front, \u5c3e\u8282\u70b9 rear\n    int queSize = 0;      // \u53cc\u5411\u961f\u5217\u7684\u957f\u5ea6\n\n    public LinkedListDeque() {\n        front = null;\n        rear = null;\n    }\n\n    /* \u83b7\u53d6\u53cc\u5411\u961f\u5217\u7684\u957f\u5ea6 */\n    public int Size() {\n        return queSize;\n    }\n\n    /* \u5224\u65ad\u53cc\u5411\u961f\u5217\u662f\u5426\u4e3a\u7a7a */\n    public bool IsEmpty() {\n        return Size() == 0;\n    }\n\n    /* \u5165\u961f\u64cd\u4f5c */\n    void Push(int num, bool isFront) {\n        ListNode node = new(num);\n        // \u82e5\u94fe\u8868\u4e3a\u7a7a\uff0c\u5219\u4ee4 front \u548c rear \u90fd\u6307\u5411 node\n        if (IsEmpty()) {\n            front = node;\n            rear = node;\n        }\n        // \u961f\u9996\u5165\u961f\u64cd\u4f5c\n        else if (isFront) {\n            // \u5c06 node \u6dfb\u52a0\u81f3\u94fe\u8868\u5934\u90e8\n            front!.prev = node;\n            node.next = front;\n            front = node; // \u66f4\u65b0\u5934\u8282\u70b9\n        }\n        // \u961f\u5c3e\u5165\u961f\u64cd\u4f5c\n        else {\n            // \u5c06 node \u6dfb\u52a0\u81f3\u94fe\u8868\u5c3e\u90e8\n            rear!.next = node;\n            node.prev = rear;\n            rear = node;  // \u66f4\u65b0\u5c3e\u8282\u70b9\n        }\n\n        queSize++; // \u66f4\u65b0\u961f\u5217\u957f\u5ea6\n    }\n\n    /* \u961f\u9996\u5165\u961f */\n    public void PushFirst(int num) {\n        Push(num, true);\n    }\n\n    /* \u961f\u5c3e\u5165\u961f */\n    public void PushLast(int num) {\n        Push(num, false);\n    }\n\n    /* \u51fa\u961f\u64cd\u4f5c */\n    int? Pop(bool isFront) {\n        if (IsEmpty())\n            throw new Exception();\n        int? val;\n        // \u961f\u9996\u51fa\u961f\u64cd\u4f5c\n        if (isFront) {\n            val = front?.val; // \u6682\u5b58\u5934\u8282\u70b9\u503c\n            // \u5220\u9664\u5934\u8282\u70b9\n            ListNode? fNext = front?.next;\n            if (fNext != null) {\n                fNext.prev = null;\n                front!.next = null;\n            }\n            front = fNext;   // \u66f4\u65b0\u5934\u8282\u70b9\n        }\n        // \u961f\u5c3e\u51fa\u961f\u64cd\u4f5c\n        else {\n            val = rear?.val;  // \u6682\u5b58\u5c3e\u8282\u70b9\u503c\n            // \u5220\u9664\u5c3e\u8282\u70b9\n            ListNode? rPrev = rear?.prev;\n            if (rPrev != null) {\n                rPrev.next = null;\n                rear!.prev = null;\n            }\n            rear = rPrev;    // \u66f4\u65b0\u5c3e\u8282\u70b9\n        }\n\n        queSize--; // \u66f4\u65b0\u961f\u5217\u957f\u5ea6\n        return val;\n    }\n\n    /* \u961f\u9996\u51fa\u961f */\n    public int? PopFirst() {\n        return Pop(true);\n    }\n\n    /* \u961f\u5c3e\u51fa\u961f */\n    public int? PopLast() {\n        return Pop(false);\n    }\n\n    /* \u8bbf\u95ee\u961f\u9996\u5143\u7d20 */\n    public int? PeekFirst() {\n        if (IsEmpty())\n            throw new Exception();\n        return front?.val;\n    }\n\n    /* \u8bbf\u95ee\u961f\u5c3e\u5143\u7d20 */\n    public int? PeekLast() {\n        if (IsEmpty())\n            throw new Exception();\n        return rear?.val;\n    }\n\n    /* \u8fd4\u56de\u6570\u7ec4\u7528\u4e8e\u6253\u5370 */\n    public int?[] ToArray() {\n        ListNode? node = front;\n        int?[] res = new int?[Size()];\n        for (int i = 0; i &lt; res.Length; i++) {\n            res[i] = node?.val;\n            node = node?.next;\n        }\n\n        return res;\n    }\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_3_%E5%8F%8C%E5%90%91%E9%98%9F%E5%88%97/#_4","title":"\u57fa\u4e8e\u6570\u7ec4\u7684\u5b9e\u73b0","text":"<p>\u4e0e\u57fa\u4e8e\u6570\u7ec4\u5b9e\u73b0\u961f\u5217\u7c7b\u4f3c\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u73af\u5f62\u6570\u7ec4\u6765\u5b9e\u73b0\u53cc\u5411\u961f\u5217\u3002</p> ArrayDequepush_lastpush_firstpop_lastpop_first <p></p> <p></p> <p></p> <p></p> <p></p> <p>\u5728\u961f\u5217\u7684\u5b9e\u73b0\u57fa\u7840\u4e0a\uff0c\u4ec5\u9700\u589e\u52a0\u201c\u961f\u9996\u5165\u961f\u201d\u548c\u201c\u961f\u5c3e\u51fa\u961f\u201d\u7684\u65b9\u6cd5\uff1a</p> C#<pre><code>/* \u57fa\u4e8e\u73af\u5f62\u6570\u7ec4\u5b9e\u73b0\u7684\u53cc\u5411\u961f\u5217 */\nclass ArrayDeque {\n    int[] nums;  // \u7528\u4e8e\u5b58\u50a8\u53cc\u5411\u961f\u5217\u5143\u7d20\u7684\u6570\u7ec4\n    int front;   // \u961f\u9996\u6307\u9488\uff0c\u6307\u5411\u961f\u9996\u5143\u7d20\n    int queSize; // \u53cc\u5411\u961f\u5217\u957f\u5ea6\n\n    /* \u6784\u9020\u65b9\u6cd5 */\n    public ArrayDeque(int capacity) {\n        nums = new int[capacity];\n        front = queSize = 0;\n    }\n\n    /* \u83b7\u53d6\u53cc\u5411\u961f\u5217\u7684\u5bb9\u91cf */\n    int Capacity() {\n        return nums.Length;\n    }\n\n    /* \u83b7\u53d6\u53cc\u5411\u961f\u5217\u7684\u957f\u5ea6 */\n    public int Size() {\n        return queSize;\n    }\n\n    /* \u5224\u65ad\u53cc\u5411\u961f\u5217\u662f\u5426\u4e3a\u7a7a */\n    public bool IsEmpty() {\n        return queSize == 0;\n    }\n\n    /* \u8ba1\u7b97\u73af\u5f62\u6570\u7ec4\u7d22\u5f15 */\n    int Index(int i) {\n        // \u901a\u8fc7\u53d6\u4f59\u64cd\u4f5c\u5b9e\u73b0\u6570\u7ec4\u9996\u5c3e\u76f8\u8fde\n        // \u5f53 i \u8d8a\u8fc7\u6570\u7ec4\u5c3e\u90e8\u540e\uff0c\u56de\u5230\u5934\u90e8\n        // \u5f53 i \u8d8a\u8fc7\u6570\u7ec4\u5934\u90e8\u540e\uff0c\u56de\u5230\u5c3e\u90e8\n        return (i + Capacity()) % Capacity();\n    }\n\n    /* \u961f\u9996\u5165\u961f */\n    public void PushFirst(int num) {\n        if (queSize == Capacity()) {\n            Console.WriteLine(\"\u53cc\u5411\u961f\u5217\u5df2\u6ee1\");\n            return;\n        }\n        // \u961f\u9996\u6307\u9488\u5411\u5de6\u79fb\u52a8\u4e00\u4f4d\n        // \u901a\u8fc7\u53d6\u4f59\u64cd\u4f5c\u5b9e\u73b0 front \u8d8a\u8fc7\u6570\u7ec4\u5934\u90e8\u540e\u56de\u5230\u5c3e\u90e8\n        front = Index(front - 1);\n        // \u5c06 num \u6dfb\u52a0\u81f3\u961f\u9996\n        nums[front] = num;\n        queSize++;\n    }\n\n    /* \u961f\u5c3e\u5165\u961f */\n    public void PushLast(int num) {\n        if (queSize == Capacity()) {\n            Console.WriteLine(\"\u53cc\u5411\u961f\u5217\u5df2\u6ee1\");\n            return;\n        }\n        // \u8ba1\u7b97\u961f\u5c3e\u6307\u9488\uff0c\u6307\u5411\u961f\u5c3e\u7d22\u5f15 + 1\n        int rear = Index(front + queSize);\n        // \u5c06 num \u6dfb\u52a0\u81f3\u961f\u5c3e\n        nums[rear] = num;\n        queSize++;\n    }\n\n    /* \u961f\u9996\u51fa\u961f */\n    public int PopFirst() {\n        int num = PeekFirst();\n        // \u961f\u9996\u6307\u9488\u5411\u540e\u79fb\u52a8\u4e00\u4f4d\n        front = Index(front + 1);\n        queSize--;\n        return num;\n    }\n\n    /* \u961f\u5c3e\u51fa\u961f */\n    public int PopLast() {\n        int num = PeekLast();\n        queSize--;\n        return num;\n    }\n\n    /* \u8bbf\u95ee\u961f\u9996\u5143\u7d20 */\n    public int PeekFirst() {\n        if (IsEmpty()) {\n            throw new InvalidOperationException();\n        }\n        return nums[front];\n    }\n\n    /* \u8bbf\u95ee\u961f\u5c3e\u5143\u7d20 */\n    public int PeekLast() {\n        if (IsEmpty()) {\n            throw new InvalidOperationException();\n        }\n        // \u8ba1\u7b97\u5c3e\u5143\u7d20\u7d22\u5f15\n        int last = Index(front + queSize - 1);\n        return nums[last];\n    }\n\n    /* \u8fd4\u56de\u6570\u7ec4\u7528\u4e8e\u6253\u5370 */\n    public int[] ToArray() {\n        // \u4ec5\u8f6c\u6362\u6709\u6548\u957f\u5ea6\u8303\u56f4\u5185\u7684\u5217\u8868\u5143\u7d20\n        int[] res = new int[queSize];\n        for (int i = 0, j = front; i &lt; queSize; i++, j++) {\n            res[i] = nums[Index(j)];\n        }\n        return res;\n    }\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_3_%E5%8F%8C%E5%90%91%E9%98%9F%E5%88%97/#_5","title":"\u5178\u578b\u5e94\u7528","text":"<p>\u53cc\u5411\u961f\u5217\u517c\u5177\u6808\u4e0e\u961f\u5217\u7684\u903b\u8f91\uff0c\u56e0\u6b64\u5b83\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e24\u8005\u7684\u6240\u6709\u5e94\u7528\u573a\u666f\uff0c\u540c\u65f6\u63d0\u4f9b\u66f4\u9ad8\u7684\u81ea\u7531\u5ea6\u3002</p> <p>\u6211\u4eec\u77e5\u9053\uff0c\u8f6f\u4ef6\u7684\u201c\u64a4\u9500\u201d\u529f\u80fd\u901a\u5e38\u4f7f\u7528\u6808\u6765\u5b9e\u73b0\uff1a\u7cfb\u7edf\u5c06\u6bcf\u6b21\u66f4\u6539\u64cd\u4f5c push \u5230\u6808\u4e2d\uff0c\u7136\u540e\u901a\u8fc7 pop \u5b9e\u73b0\u64a4\u9500\u3002\u7136\u800c\uff0c\u8003\u8651\u5230\u7cfb\u7edf\u8d44\u6e90\u7684\u9650\u5236\uff0c\u8f6f\u4ef6\u901a\u5e38\u4f1a\u9650\u5236\u64a4\u9500\u7684\u6b65\u6570\uff08\u4f8b\u5982\u4ec5\u5141\u8bb8\u4fdd\u5b58 \\(50\\) \u6b65\uff09\u3002\u5f53\u6808\u7684\u957f\u5ea6\u8d85\u8fc7 \\(50\\) \u65f6\uff0c\u8f6f\u4ef6\u9700\u8981\u5728\u6808\u5e95\uff08\u961f\u9996\uff09\u6267\u884c\u5220\u9664\u64cd\u4f5c\u3002\u4f46\u6808\u65e0\u6cd5\u5b9e\u73b0\u8be5\u529f\u80fd\uff0c\u6b64\u65f6\u5c31\u9700\u8981\u4f7f\u7528\u53cc\u5411\u961f\u5217\u6765\u66ff\u4ee3\u6808\u3002\u8bf7\u6ce8\u610f\uff0c \u201c\u64a4\u9500\u201d \u7684\u6838\u5fc3\u903b\u8f91\u4ecd\u7136\u9075\u5faa\u6808\u7684\u5148\u5165\u540e\u51fa\u539f\u5219\uff0c\u53ea\u662f\u53cc\u5411\u961f\u5217\u80fd\u591f\u66f4\u52a0\u7075\u6d3b\u5730\u5b9e\u73b0\u4e00\u4e9b\u989d\u5916\u903b\u8f91\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_4_%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/","title":"5.4 \u76f8\u5173\u95ee\u9898","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_4_%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/#_1","title":"\u5728\u51fa\u6808\u540e\uff0c\u662f\u5426\u9700\u8981\u91ca\u653e\u51fa\u6808\u8282\u70b9\u7684\u5185\u5b58\uff1f","text":"<p>\u5982\u679c\u540e\u7eed\u4ecd\u9700\u8981\u4f7f\u7528\u5f39\u51fa\u8282\u70b9\uff0c\u5219\u4e0d\u9700\u8981\u91ca\u653e\u5185\u5b58\u3002\u82e5\u4e4b\u540e\u4e0d\u9700\u8981\u7528\u5230\uff0cC# \u548c Python \u7b49\u8bed\u8a00\u62e5\u6709\u81ea\u52a8\u5783\u573e\u56de\u6536\u673a\u5236\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u624b\u52a8\u91ca\u653e\u5185\u5b58\uff1b\u5728 C \u548c C++ \u4e2d\u9700\u8981\u624b\u52a8\u91ca\u653e\u5185\u5b58\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/05_%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/5_4_%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/#undoredo","title":"\u64a4\u9500\uff08undo\uff09\u548c\u53cd\u64a4\u9500\uff08redo\uff09\u5177\u4f53\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f","text":"<p>\u4f7f\u7528\u4e24\u4e2a\u6808\uff0c\u6808 A \u7528\u4e8e\u64a4\u9500\uff0c\u6808 B \u7528\u4e8e\u53cd\u64a4\u9500\u3002</p> <ul> <li>\u6bcf\u5f53\u7528\u6237\u6267\u884c\u4e00\u4e2a\u64cd\u4f5c\uff0c\u5c06\u8fd9\u4e2a\u64cd\u4f5c\u538b\u5165\u6808 A \uff0c\u5e76\u6e05\u7a7a\u6808 B \u3002</li> <li>\u5f53\u7528\u6237\u6267\u884c \u201c\u64a4\u9500\u201d \u65f6\uff0c\u4ece\u6808 A \u4e2d\u5f39\u51fa\u6700\u8fd1\u7684\u64cd\u4f5c\uff0c\u5e76\u5c06\u5176\u538b\u5165\u6808 B \u3002</li> <li>\u5f53\u7528\u6237\u6267\u884c \u201c\u53cd\u64a4\u9500\u201d \u65f6\uff0c\u4ece\u6808 B \u4e2d\u5f39\u51fa\u6700\u8fd1\u7684\u64cd\u4f5c\uff0c\u5e76\u5c06\u5176\u538b\u5165\u6808 A \u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_1_%E5%93%88%E5%B8%8C%E8%A1%A8/","title":"6.1 \u54c8\u5e0c\u8868","text":""},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_1_%E5%93%88%E5%B8%8C%E8%A1%A8/#_1","title":"\u6982\u89c8","text":"<p>\u54c8\u5e0c\u8868\u662f\u901a\u8fc7\u5efa\u7acb\u952e\u503c\u5bf9\u6620\u5c04\u5173\u7cfb\u6765\u5b9e\u73b0\u9ad8\u6548\u67e5\u8be2\u7684\u6570\u636e\u7ed3\u6784\u3002</p> <p>\u54c8\u5e0c\u8868\u7684\u6838\u5fc3\u662f\u5efa\u7acb\u548c\u7ef4\u62a4\u952e\u503c\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u90a3\u4e48\u5b83\u662f\u5982\u4f55\u505a\u5230\u7684\u5462\uff1f\u6211\u4eec\u77e5\u9053\u6570\u7ec4\u901a\u8fc7\u4e0b\u6807\u8bbf\u95ee\u5143\u7d20\u7684\u6548\u7387\u662f\u6781\u5feb\u7684\uff0c\u6570\u7ec4\u5176\u5b9e\u4e5f\u53ef\u4ee5\u628a\u4e0b\u6807\u770b\u4f5c key \u540c\u65f6\u628a\u5143\u7d20\u503c\u770b\u4f5c value \u3002\u8bd5\u60f3\u4e00\u4e0b\uff0c\u5047\u5982\u6211\u4eec\u6709\u4e24\u4e2a\u952e\u503c\u5bf9 (key:1 value:2) \u548c (key:100000000 value:3) \uff0c\u90a3\u4e48\u8981\u901a\u8fc7\u6570\u7ec4\u6765\u5b58\u50a8\u8fd9\u4e2a\u6620\u5c04\u5173\u7cfb\u9700\u8981\u4e00\u4e2a\u957f\u5ea6\u4e3a 100000000 \u7684\u6570\u7ec4\uff0c\u5374\u4ec5\u4ec5\u53ea\u5b58\u4e86\u4e24\u4e2a\u952e\u503c\u5bf9\u3002</p> <p>\u6240\u4ee5\u952e\u503c\u5bf9\u7684\u6620\u5c04\u5173\u7cfb\u53ef\u4ee5\u8f6c\u5316\u4e3a\u53e6\u5916\u4e00\u4e2a\u95ee\u9898\uff1a\u5982\u4f55\u5c06\u4e00\u4e2a\u8f83\u5927\u7684\u8f93\u5165\u7a7a\u95f4\u5982\u4f55\u6620\u5c04\u5230\u4e00\u4e2a\u8f83\u5c0f\u7684\u8f93\u51fa\u7a7a\u95f4\uff1f</p> <p>\u8fd9\u4e2a\u95ee\u9898\u7684\u89e3\u51b3\u601d\u8def\u662f\uff1a</p> <ul> <li>\u628a\u6570\u7ec4\u7684\u5927\u5c0f\u548c\u8f93\u51fa\u7a7a\u95f4\u5bf9\u9f50\uff0c\u786e\u4fdd\u6570\u7ec4\u80fd\u591f\u5bb9\u7eb3\u8f93\u51fa\u7a7a\u95f4\u7684\u5168\u90e8\u503c\u3002\u4f46\u4e5f\u4e0d\u80fd\u592a\u5927\uff0c\u9020\u6210\u7a7a\u95f4\u6d6a\u8d39\u3002</li> <li>\u628a\u952e\u8f6c\u6362\u4e3a\u53e6\u5916\u4e00\u4e2a\u6570\u5b57\u503c\uff0c\u786e\u4fdd\u8fd9\u4e2a\u503c\u5728\u6570\u7ec4\u7684\u957f\u5ea6\u5185\u3002</li> </ul> <p>\u4ee5\u4e0a\u5c31\u662f\u89e3\u51b3\u952e\u503c\u5bf9\u6620\u5c04\u5173\u7cfb\u7684\u601d\u8def\uff0c\u54c8\u5e0c\u8868\u7684\u8bbe\u8ba1\u5927\u81f4\u5982\u6b64\u3002</p> <p></p> <p>\u54c8\u5e0c\u8868\u7684\u62bd\u8c61\u8868\u793a</p> <p>\u5728\u54c8\u5e0c\u8868\u4e2d\u8fdb\u884c\u589e\u5220\u67e5\u6539\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u90fd\u662f \\(O(1)\\) \uff0c\u975e\u5e38\u9ad8\u6548\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_1_%E5%93%88%E5%B8%8C%E8%A1%A8/#_2","title":"\u54c8\u5e0c\u8868\u7b80\u5355\u5b9e\u73b0","text":"<p>\u6211\u4eec\u8003\u8651\u6700\u7b80\u5355\u7684\u60c5\u51b5\uff0c\u4ec5\u7528\u4e00\u4e2a\u6570\u7ec4\u6765\u5b9e\u73b0\u54c8\u5e0c\u8868\u3002\u5728\u54c8\u5e0c\u8868\u4e2d\uff0c\u6211\u4eec\u5c06\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u7a7a\u4f4d\u79f0\u4e3a\u6876\uff08bucket\uff09\uff0c\u6bcf\u4e2a\u6876\u53ef\u5b58\u50a8\u4e00\u4e2a\u952e\u503c\u5bf9\u3002\u56e0\u6b64\uff0c\u67e5\u8be2\u64cd\u4f5c\u5c31\u662f\u627e\u5230 key \u5bf9\u5e94\u7684\u6876\uff0c\u5e76\u5728\u6876\u4e2d\u83b7\u53d6 value \u3002</p> <p>\u548c\u4e0a\u9762\u63d0\u5230\u7684\u601d\u8def\u4e00\u6837\uff0c\u53ea\u4e0d\u8fc7\u6211\u4eec\u6362\u6210\u4e86\u66f4\u5177\u4f53\u7684\u65b9\u6848\uff1a</p> <ul> <li>\u8f93\u5165\u4e00\u4e2a key \u503c</li> <li>\u901a\u8fc7\u67d0\u79cd\u54c8\u5e0c\u7b97\u6cd5 hash() \u8ba1\u7b97\u5f97\u5230\u54c8\u5e0c\u503c</li> <li>\u5c06\u54c8\u5e0c\u503c\u5bf9\u6876\u6570\u91cf\uff08\u6570\u7ec4\u957f\u5ea6\uff09capacity \u53d6\u6a21\uff0c\u4ece\u800c\u83b7\u53d6\u8be5 key \u5bf9\u5e94\u7684\u6570\u7ec4\u7d22\u5f15 index \u3002</li> </ul> C#<pre><code>var index = hash(key) % capacity\n</code></pre> <p>\u4e0b\u56fe\u4e2d\u54c8\u5e0c\u51fd\u6570\u662f <code>key % 100</code> \uff0c\u5373\u53d6\u6700\u540e\u4e24\u4f4d\u6570\uff1a</p> <p></p> <p>\u54c8\u5e0c\u51fd\u6570\u5de5\u4f5c\u539f\u7406</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_1_%E5%93%88%E5%B8%8C%E8%A1%A8/#_3","title":"\u54c8\u5e0c\u51b2\u7a81\u4e0e\u6269\u5bb9","text":"<p>\u5f53\u6211\u4eec\u628a\u8f83\u5927\u7684\u8f93\u5165\u7a7a\u95f4\u7ea6\u675f\u6620\u5c04\u4e3a\u8f83\u5c0f\u7684\u8f93\u51fa\u7a7a\u95f4\u65f6\uff0c\u7406\u8bba\u4e0a\u4e00\u5b9a\u5b58\u5728 \u201c\u591a\u4e2a\u8f93\u5165\u5bf9\u5e94\u76f8\u540c\u8f93\u51fa\u201d \u7684\u60c5\u51b5\u3002\u8fd9\u79cd\u60c5\u51b5\u6211\u4eec\u79f0\u4e3a\u54c8\u5e0c\u51b2\u7a81</p> <p></p> <p>\u54c8\u5e0c\u51b2\u7a81\u793a\u4f8b</p> <p>\u5bb9\u6613\u60f3\u5230\uff0c\u54c8\u5e0c\u8868\u5bb9\u91cf\u8d8a\u5927\uff0c\u591a\u4e2a key \u88ab\u5206\u914d\u5230\u540c\u4e00\u4e2a\u6876\u4e2d\u7684\u6982\u7387\u5c31\u8d8a\u4f4e\uff0c\u51b2\u7a81\u5c31\u8d8a\u5c11\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6269\u5bb9\u54c8\u5e0c\u8868\u6765\u51cf\u5c11\u54c8\u5e0c\u51b2\u7a81\u3002</p> <p></p> <p>\u54c8\u5e0c\u8868\u6269\u5bb9</p> <p>\u7c7b\u4f3c\u4e8e\u6570\u7ec4\u6269\u5bb9\uff0c\u54c8\u5e0c\u8868\u6269\u5bb9\u9700\u5c06\u6240\u6709\u952e\u503c\u5bf9\u4ece\u539f\u54c8\u5e0c\u8868\u8fc1\u79fb\u81f3\u65b0\u54c8\u5e0c\u8868\uff0c\u975e\u5e38\u8017\u65f6\uff1b\u5e76\u4e14\u7531\u4e8e\u54c8\u5e0c\u8868\u5bb9\u91cf capacity \u6539\u53d8\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u54c8\u5e0c\u51fd\u6570\u6765\u91cd\u65b0\u8ba1\u7b97\u6240\u6709\u952e\u503c\u5bf9\u7684\u5b58\u50a8\u4f4d\u7f6e\uff0c\u8fd9\u8fdb\u4e00\u6b65\u589e\u52a0\u4e86\u6269\u5bb9\u8fc7\u7a0b\u7684\u8ba1\u7b97\u5f00\u9500\u3002\u4e3a\u6b64\uff0c\u7f16\u7a0b\u8bed\u8a00\u901a\u5e38\u4f1a\u9884\u7559\u8db3\u591f\u5927\u7684\u54c8\u5e0c\u8868\u5bb9\u91cf\uff0c\u9632\u6b62\u9891\u7e41\u6269\u5bb9\u3002</p> <p>\u8d1f\u8f7d\u56e0\u5b50\uff08load factor\uff09\u662f\u54c8\u5e0c\u8868\u7684\u4e00\u4e2a\u91cd\u8981\u6982\u5ff5\uff0c\u5176\u5b9a\u4e49\u4e3a\u54c8\u5e0c\u8868\u7684\u5143\u7d20\u6570\u91cf\u9664\u4ee5\u6876\u6570\u91cf\uff0c\u7528\u4e8e\u8861\u91cf\u54c8\u5e0c\u51b2\u7a81\u7684\u4e25\u91cd\u7a0b\u5ea6\uff0c\u4e5f\u5e38\u4f5c\u4e3a\u54c8\u5e0c\u8868\u6269\u5bb9\u7684\u89e6\u53d1\u6761\u4ef6\u3002\u4f8b\u5982\u5728 Java \u4e2d\uff0c\u5f53\u8d1f\u8f7d\u56e0\u5b50\u8d85\u8fc7 0.75 \u65f6\uff0c\u7cfb\u7edf\u4f1a\u5c06\u54c8\u5e0c\u8868\u6269\u5bb9\u81f3\u539f\u5148\u7684 2 \u500d\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_2_%E5%93%88%E5%B8%8C%E5%86%B2%E7%AA%81/","title":"6.2 \u54c8\u5e0c\u51b2\u7a81","text":"<p>\u54c8\u5e0c\u51b2\u7a81\u5728\u7406\u8bba\u4e0a\u662f\u65e0\u6cd5\u5b8c\u5168\u907f\u514d\u7684\uff0c\u6211\u4eec\u53ea\u80fd\u901a\u8fc7\u4e00\u4e9b\u529e\u6cd5\u6765\u5c3d\u53ef\u80fd\u907f\u514d\u6216\u8005\u8bf4\u5728\u53d1\u751f\u51b2\u7a81\u65f6\u8c03\u6574\u4ee5\u786e\u4fdd\u54c8\u5e0c\u8868\u6b63\u5e38\u5de5\u4f5c\u3002\u6bd4\u5982\u4e0a\u4e00\u8282\u63d0\u5230\u7684\u8fdb\u884c\u54c8\u5e0c\u8868\u6269\u5bb9\u76f4\u5230\u51b2\u7a81\u6d88\u5931\u4e3a\u6b62\uff0c\u8fd9\u79cd\u529e\u6cd5\u7b80\u5355\u7c97\u66b4\u4e14\u6709\u6548\uff0c\u4f46\u6548\u7387\u592a\u4f4e\uff0c\u56e0\u4e3a\u54c8\u5e0c\u8868\u6269\u5bb9\u9700\u8981\u8fdb\u884c\u5927\u91cf\u7684\u6570\u636e\u642c\u8fd0\u4e0e\u54c8\u5e0c\u503c\u8ba1\u7b97\u3002\u4e3a\u4e86\u63d0\u5347\u6548\u7387\uff0c\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u4ee5\u4e0b\u7b56\u7565\uff1a</p> <ul> <li>\u6539\u826f\u54c8\u5e0c\u8868\u6570\u636e\u7ed3\u6784\uff0c\u4f7f\u5f97\u54c8\u5e0c\u8868\u53ef\u4ee5\u5728\u51fa\u73b0\u54c8\u5e0c\u51b2\u7a81\u65f6\u6b63\u5e38\u5de5\u4f5c\u3002</li> <li>\u4ec5\u5728\u5fc5\u8981\u65f6\uff0c\u5373\u5f53\u54c8\u5e0c\u51b2\u7a81\u6bd4\u8f83\u4e25\u91cd\u65f6\uff0c\u624d\u6267\u884c\u6269\u5bb9\u64cd\u4f5c\u3002</li> </ul> <p>\u54c8\u5e0c\u8868\u7684\u7ed3\u6784\u6539\u826f\u65b9\u6cd5\u4e3b\u8981\u5305\u62ec \u201c\u94fe\u5f0f\u5730\u5740\u201d \u548c \u201c\u5f00\u653e\u5bfb\u5740\u201d \u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_2_%E5%93%88%E5%B8%8C%E5%86%B2%E7%AA%81/#_1","title":"\u94fe\u5f0f\u5730\u5740","text":"<p>\u5728\u539f\u59cb\u54c8\u5e0c\u8868\u4e2d\uff0c\u6bcf\u4e2a\u6876\u4ec5\u80fd\u5b58\u50a8\u4e00\u4e2a\u952e\u503c\u5bf9\u3002\u94fe\u5f0f\u5730\u5740\uff08separate chaining\uff09\u5c06\u5355\u4e2a\u5143\u7d20\u8f6c\u6362\u4e3a\u94fe\u8868\uff0c\u5c06\u952e\u503c\u5bf9\u4f5c\u4e3a\u94fe\u8868\u8282\u70b9\uff0c\u5c06\u6240\u6709\u53d1\u751f\u51b2\u7a81\u7684\u952e\u503c\u5bf9\u90fd\u5b58\u50a8\u5728\u540c\u4e00\u94fe\u8868\u4e2d\u3002</p> <p></p> <p>\u94fe\u5f0f\u5730\u5740\u54c8\u5e0c\u8868</p> <p>\u57fa\u4e8e\u94fe\u5f0f\u5730\u5740\u5b9e\u73b0\u7684\u54c8\u5e0c\u8868\u7684\u64cd\u4f5c\u65b9\u6cd5\u53d1\u751f\u4e86\u4ee5\u4e0b\u53d8\u5316\u3002</p> <ul> <li>\u67e5\u8be2\u5143\u7d20\uff1a\u8f93\u5165 key \uff0c\u7ecf\u8fc7\u54c8\u5e0c\u51fd\u6570\u5f97\u5230\u6876\u7d22\u5f15\uff0c\u5373\u53ef\u8bbf\u95ee\u94fe\u8868\u5934\u8282\u70b9\uff0c\u7136\u540e\u904d\u5386\u94fe\u8868\u5e76\u5bf9\u6bd4 key \u4ee5\u67e5\u627e\u76ee\u6807\u952e\u503c\u5bf9\u3002</li> <li>\u6dfb\u52a0\u5143\u7d20\uff1a\u9996\u5148\u901a\u8fc7\u54c8\u5e0c\u51fd\u6570\u8bbf\u95ee\u94fe\u8868\u5934\u8282\u70b9\uff0c\u7136\u540e\u5c06\u8282\u70b9\uff08\u952e\u503c\u5bf9\uff09\u6dfb\u52a0\u5230\u94fe\u8868\u4e2d\u3002</li> <li>\u5220\u9664\u5143\u7d20\uff1a\u6839\u636e\u54c8\u5e0c\u51fd\u6570\u7684\u7ed3\u679c\u8bbf\u95ee\u94fe\u8868\u5934\u90e8\uff0c\u63a5\u7740\u904d\u5386\u94fe\u8868\u4ee5\u67e5\u627e\u76ee\u6807\u8282\u70b9\u5e76\u5c06\u5176\u5220\u9664\u3002</li> </ul> <p>\u94fe\u5f0f\u5730\u5740\u5b58\u5728\u4ee5\u4e0b\u5c40\u9650\u6027\u3002</p> <ul> <li>\u5360\u7528\u7a7a\u95f4\u589e\u5927\uff1a\u94fe\u8868\u5305\u542b\u8282\u70b9\u6307\u9488\uff0c\u5b83\u76f8\u6bd4\u6570\u7ec4\u66f4\u52a0\u8017\u8d39\u5185\u5b58\u7a7a\u95f4\u3002</li> <li>\u67e5\u8be2\u6548\u7387\u964d\u4f4e\uff1a\u56e0\u4e3a\u9700\u8981\u7ebf\u6027\u904d\u5386\u94fe\u8868\u6765\u67e5\u627e\u5bf9\u5e94\u5143\u7d20\u3002</li> </ul> C#<pre><code>/* \u94fe\u5f0f\u5730\u5740\u54c8\u5e0c\u8868 */\nclass HashMapChaining {\n    int size; // \u952e\u503c\u5bf9\u6570\u91cf\n    int capacity; // \u54c8\u5e0c\u8868\u5bb9\u91cf\n    double loadThres; // \u89e6\u53d1\u6269\u5bb9\u7684\u8d1f\u8f7d\u56e0\u5b50\u9608\u503c\n    int extendRatio; // \u6269\u5bb9\u500d\u6570\n    List&lt;List&lt;Pair&gt;&gt; buckets; // \u6876\u6570\u7ec4\n\n    /* \u6784\u9020\u65b9\u6cd5 */\n    public HashMapChaining() {\n        size = 0;\n        capacity = 4;\n        loadThres = 2.0 / 3.0;\n        extendRatio = 2;\n        buckets = new List&lt;List&lt;Pair&gt;&gt;(capacity);\n        for (int i = 0; i &lt; capacity; i++) {\n            buckets.Add([]);\n        }\n    }\n\n    /* \u54c8\u5e0c\u51fd\u6570 */\n    int HashFunc(int key) {\n        return key % capacity;\n    }\n\n    /* \u8d1f\u8f7d\u56e0\u5b50 */\n    double LoadFactor() {\n        return (double)size / capacity;\n    }\n\n    /* \u67e5\u8be2\u64cd\u4f5c */\n    public string? Get(int key) {\n        int index = HashFunc(key);\n        // \u904d\u5386\u6876\uff0c\u82e5\u627e\u5230 key \uff0c\u5219\u8fd4\u56de\u5bf9\u5e94 val\n        foreach (Pair pair in buckets[index]) {\n            if (pair.key == key) {\n                return pair.val;\n            }\n        }\n        // \u82e5\u672a\u627e\u5230 key \uff0c\u5219\u8fd4\u56de null\n        return null;\n    }\n\n    /* \u6dfb\u52a0\u64cd\u4f5c */\n    public void Put(int key, string val) {\n        // \u5f53\u8d1f\u8f7d\u56e0\u5b50\u8d85\u8fc7\u9608\u503c\u65f6\uff0c\u6267\u884c\u6269\u5bb9\n        if (LoadFactor() &gt; loadThres) {\n            Extend();\n        }\n        int index = HashFunc(key);\n        // \u904d\u5386\u6876\uff0c\u82e5\u9047\u5230\u6307\u5b9a key \uff0c\u5219\u66f4\u65b0\u5bf9\u5e94 val \u5e76\u8fd4\u56de\n        foreach (Pair pair in buckets[index]) {\n            if (pair.key == key) {\n                pair.val = val;\n                return;\n            }\n        }\n        // \u82e5\u65e0\u8be5 key \uff0c\u5219\u5c06\u952e\u503c\u5bf9\u6dfb\u52a0\u81f3\u5c3e\u90e8\n        buckets[index].Add(new Pair(key, val));\n        size++;\n    }\n\n    /* \u5220\u9664\u64cd\u4f5c */\n    public void Remove(int key) {\n        int index = HashFunc(key);\n        // \u904d\u5386\u6876\uff0c\u4ece\u4e2d\u5220\u9664\u952e\u503c\u5bf9\n        foreach (Pair pair in buckets[index].ToList()) {\n            if (pair.key == key) {\n                buckets[index].Remove(pair);\n                size--;\n                break;\n            }\n        }\n    }\n\n    /* \u6269\u5bb9\u54c8\u5e0c\u8868 */\n    void Extend() {\n        // \u6682\u5b58\u539f\u54c8\u5e0c\u8868\n        List&lt;List&lt;Pair&gt;&gt; bucketsTmp = buckets;\n        // \u521d\u59cb\u5316\u6269\u5bb9\u540e\u7684\u65b0\u54c8\u5e0c\u8868\n        capacity *= extendRatio;\n        buckets = new List&lt;List&lt;Pair&gt;&gt;(capacity);\n        for (int i = 0; i &lt; capacity; i++) {\n            buckets.Add([]);\n        }\n        size = 0;\n        // \u5c06\u952e\u503c\u5bf9\u4ece\u539f\u54c8\u5e0c\u8868\u642c\u8fd0\u81f3\u65b0\u54c8\u5e0c\u8868\n        foreach (List&lt;Pair&gt; bucket in bucketsTmp) {\n            foreach (Pair pair in bucket) {\n                Put(pair.key, pair.val);\n            }\n        }\n    }\n\n    /* \u6253\u5370\u54c8\u5e0c\u8868 */\n    public void Print() {\n        foreach (List&lt;Pair&gt; bucket in buckets) {\n            List&lt;string&gt; res = [];\n            foreach (Pair pair in bucket) {\n                res.Add(pair.key + \" -&gt; \" + pair.val);\n            }\n            foreach (string kv in res) {\n                Console.WriteLine(kv);\n            }\n        }\n    }\n}\n</code></pre> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5f53\u94fe\u8868\u5f88\u957f\u65f6\uff0c\u67e5\u8be2\u6548\u7387 \\(O(n)\\) \u5f88\u5dee\u3002\u6b64\u65f6\u53ef\u4ee5\u5c06\u94fe\u8868\u8f6c\u6362\u4e3a \u201cAVL \u6811\u201d \u6216 \u201c\u7ea2\u9ed1\u6811\u201d \uff0c\u4ece\u800c\u5c06\u67e5\u8be2\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4f18\u5316\u81f3 \\(O(log_{2}n)\\) \u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_2_%E5%93%88%E5%B8%8C%E5%86%B2%E7%AA%81/#_2","title":"\u5f00\u653e\u5bfb\u5740","text":"<p>\u5f00\u653e\u5bfb\u5740\uff08open addressing\uff09\u4e0d\u5f15\u5165\u989d\u5916\u7684\u6570\u636e\u7ed3\u6784\uff0c\u800c\u662f\u901a\u8fc7 \u201c\u591a\u6b21\u63a2\u6d4b\u201d \u6765\u5904\u7406\u54c8\u5e0c\u51b2\u7a81\uff0c\u63a2\u6d4b\u65b9\u5f0f\u4e3b\u8981\u5305\u62ec\u7ebf\u6027\u63a2\u6d4b\u3001\u5e73\u65b9\u63a2\u6d4b\u548c\u591a\u6b21\u54c8\u5e0c\u7b49\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_2_%E5%93%88%E5%B8%8C%E5%86%B2%E7%AA%81/#_3","title":"\u7ebf\u6027\u63a2\u6d4b","text":"<p>\u7ebf\u6027\u63a2\u6d4b\u91c7\u7528\u56fa\u5b9a\u6b65\u957f\u7684\u7ebf\u6027\u641c\u7d22\u6765\u8fdb\u884c\u63a2\u6d4b\uff0c\u5176\u64cd\u4f5c\u65b9\u6cd5\u4e0e\u666e\u901a\u54c8\u5e0c\u8868\u6709\u6240\u4e0d\u540c\u3002</p> <ul> <li>\u63d2\u5165\u5143\u7d20\uff1a\u901a\u8fc7\u54c8\u5e0c\u51fd\u6570\u8ba1\u7b97\u6876\u7d22\u5f15\uff0c\u82e5\u53d1\u73b0\u6876\u5185\u5df2\u6709\u5143\u7d20\uff0c\u5219\u4ece\u51b2\u7a81\u4f4d\u7f6e\u5411\u540e\u7ebf\u6027\u904d\u5386\uff08\u6b65\u957f\u901a\u5e38\u4e3a 1 \uff09\uff0c\u76f4\u81f3\u627e\u5230\u7a7a\u6876\uff0c\u5c06\u5143\u7d20\u63d2\u5165\u5176\u4e2d\u3002</li> <li>\u67e5\u627e\u5143\u7d20\uff1a\u82e5\u53d1\u73b0\u54c8\u5e0c\u51b2\u7a81\uff0c\u5219\u4f7f\u7528\u76f8\u540c\u6b65\u957f\u5411\u540e\u8fdb\u884c\u7ebf\u6027\u904d\u5386\uff0c\u76f4\u5230\u627e\u5230\u5bf9\u5e94\u5143\u7d20\uff0c\u8fd4\u56de value \u5373\u53ef\uff1b\u5982\u679c\u9047\u5230\u7a7a\u6876\uff0c\u8bf4\u660e\u76ee\u6807\u5143\u7d20\u4e0d\u5728\u54c8\u5e0c\u8868\u4e2d\uff0c\u8fd4\u56de None \u3002</li> </ul> <p></p> <p>\u7ebf\u6027\u63a2\u6d4b</p> <p>\u7136\u800c\uff0c\u7ebf\u6027\u63a2\u6d4b\u5bb9\u6613\u4ea7\u751f \u201c\u805a\u96c6\u73b0\u8c61\u201d\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u6570\u7ec4\u4e2d\u8fde\u7eed\u88ab\u5360\u7528\u7684\u4f4d\u7f6e\u8d8a\u957f\uff0c\u8fd9\u4e9b\u8fde\u7eed\u4f4d\u7f6e\u53d1\u751f\u54c8\u5e0c\u51b2\u7a81\u7684\u53ef\u80fd\u6027\u8d8a\u5927\uff0c\u4ece\u800c\u8fdb\u4e00\u6b65\u4fc3\u4f7f\u8be5\u4f4d\u7f6e\u7684\u805a\u5806\u751f\u957f\uff0c\u5f62\u6210\u6076\u6027\u5faa\u73af\uff0c\u6700\u7ec8\u5bfc\u81f4\u589e\u5220\u67e5\u6539\u64cd\u4f5c\u6548\u7387\u52a3\u5316\u3002</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u6211\u4eec\u4e0d\u80fd\u5728\u5f00\u653e\u5bfb\u5740\u54c8\u5e0c\u8868\u4e2d\u76f4\u63a5\u5220\u9664\u5143\u7d20\u3002\u8fd9\u662f\u56e0\u4e3a\u5220\u9664\u5143\u7d20\u4f1a\u5728\u6570\u7ec4\u5185\u4ea7\u751f\u4e00\u4e2a\u7a7a\u6876 None \uff0c\u800c\u5f53\u67e5\u8be2\u5143\u7d20\u65f6\uff0c\u7ebf\u6027\u63a2\u6d4b\u5230\u8be5\u7a7a\u6876\u5c31\u4f1a\u8fd4\u56de\uff0c\u56e0\u6b64\u5728\u8be5\u7a7a\u6876\u4e4b\u540e\u7684\u5143\u7d20\u90fd\u65e0\u6cd5\u518d\u88ab\u8bbf\u95ee\u5230\uff0c\u7a0b\u5e8f\u53ef\u80fd\u8bef\u5224\u8fd9\u4e9b\u5143\u7d20\u4e0d\u5b58\u5728\u3002</p> <p></p> <p>\u5728\u5f00\u653e\u5bfb\u5740\u4e2d\u5220\u9664\u5143\u7d20\u5bfc\u81f4\u7684\u67e5\u8be2\u95ee\u9898</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8be5\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u61d2\u5220\u9664\uff08lazy deletion\uff09\u673a\u5236\uff1a\u5b83\u4e0d\u76f4\u63a5\u4ece\u54c8\u5e0c\u8868\u4e2d\u79fb\u9664\u5143\u7d20\uff0c\u800c\u662f\u5229\u7528\u4e00\u4e2a\u5e38\u91cf TOMBSTONE \u6765\u6807\u8bb0\u8fd9\u4e2a\u6876\u3002\u5728\u8be5\u673a\u5236\u4e0b\uff0cNone \u548c TOMBSTONE \u90fd\u4ee3\u8868\u7a7a\u6876\uff0c\u90fd\u53ef\u4ee5\u653e\u7f6e\u952e\u503c\u5bf9\u3002\u4f46\u4e0d\u540c\u7684\u662f\uff0c\u7ebf\u6027\u63a2\u6d4b\u5230 TOMBSTONE \u65f6\u5e94\u8be5\u7ee7\u7eed\u904d\u5386\uff0c\u56e0\u4e3a\u5176\u4e4b\u4e0b\u53ef\u80fd\u8fd8\u5b58\u5728\u952e\u503c\u5bf9\u3002</p> <p>\u7136\u800c\uff0c\u61d2\u5220\u9664\u53ef\u80fd\u4f1a\u52a0\u901f\u54c8\u5e0c\u8868\u7684\u6027\u80fd\u9000\u5316\u3002\u8fd9\u662f\u56e0\u4e3a\u6bcf\u6b21\u5220\u9664\u64cd\u4f5c\u90fd\u4f1a\u4ea7\u751f\u4e00\u4e2a\u5220\u9664\u6807\u8bb0\uff0c\u968f\u7740 TOMBSTONE \u7684\u589e\u52a0\uff0c\u641c\u7d22\u65f6\u95f4\u4e5f\u4f1a\u589e\u52a0\uff0c\u56e0\u4e3a\u7ebf\u6027\u63a2\u6d4b\u53ef\u80fd\u9700\u8981\u8df3\u8fc7\u591a\u4e2a TOMBSTONE \u624d\u80fd\u627e\u5230\u76ee\u6807\u5143\u7d20\u3002</p> <p>\u4e3a\u6b64\uff0c\u8003\u8651\u5728\u7ebf\u6027\u63a2\u6d4b\u4e2d\u8bb0\u5f55\u9047\u5230\u7684\u9996\u4e2a TOMBSTONE \u7684\u7d22\u5f15\uff0c\u5e76\u5c06\u641c\u7d22\u5230\u7684\u76ee\u6807\u5143\u7d20\u4e0e\u8be5 TOMBSTONE \u4ea4\u6362\u4f4d\u7f6e\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\u5f53\u6bcf\u6b21\u67e5\u8be2\u6216\u6dfb\u52a0\u5143\u7d20\u65f6\uff0c\u5143\u7d20\u4f1a\u88ab\u79fb\u52a8\u81f3\u8ddd\u79bb\u7406\u60f3\u4f4d\u7f6e\uff08\u63a2\u6d4b\u8d77\u59cb\u70b9\uff09\u66f4\u8fd1\u7684\u6876\uff0c\u4ece\u800c\u4f18\u5316\u67e5\u8be2\u6548\u7387\u3002</p> <p>\u4ee5\u4e0b\u4ee3\u7801\u5b9e\u73b0\u4e86\u4e00\u4e2a\u5305\u542b\u61d2\u5220\u9664\u7684\u5f00\u653e\u5bfb\u5740\uff08\u7ebf\u6027\u63a2\u6d4b\uff09\u54c8\u5e0c\u8868\u3002\u4e3a\u4e86\u66f4\u52a0\u5145\u5206\u5730\u4f7f\u7528\u54c8\u5e0c\u8868\u7684\u7a7a\u95f4\uff0c\u6211\u4eec\u5c06\u54c8\u5e0c\u8868\u770b\u4f5c\u4e00\u4e2a\u201c\u73af\u5f62\u6570\u7ec4\u201d\uff0c\u5f53\u8d8a\u8fc7\u6570\u7ec4\u5c3e\u90e8\u65f6\uff0c\u56de\u5230\u5934\u90e8\u7ee7\u7eed\u904d\u5386\u3002</p> C#<pre><code>/* \u5f00\u653e\u5bfb\u5740\u54c8\u5e0c\u8868 */\nclass HashMapOpenAddressing {\n    int size; // \u952e\u503c\u5bf9\u6570\u91cf\n    int capacity = 4; // \u54c8\u5e0c\u8868\u5bb9\u91cf\n    double loadThres = 2.0 / 3.0; // \u89e6\u53d1\u6269\u5bb9\u7684\u8d1f\u8f7d\u56e0\u5b50\u9608\u503c\n    int extendRatio = 2; // \u6269\u5bb9\u500d\u6570\n    Pair[] buckets; // \u6876\u6570\u7ec4\n    Pair TOMBSTONE = new(-1, \"-1\"); // \u5220\u9664\u6807\u8bb0\n\n    /* \u6784\u9020\u65b9\u6cd5 */\n    public HashMapOpenAddressing() {\n        size = 0;\n        buckets = new Pair[capacity];\n    }\n\n    /* \u54c8\u5e0c\u51fd\u6570 */\n    int HashFunc(int key) {\n        return key % capacity;\n    }\n\n    /* \u8d1f\u8f7d\u56e0\u5b50 */\n    double LoadFactor() {\n        return (double)size / capacity;\n    }\n\n    /* \u641c\u7d22 key \u5bf9\u5e94\u7684\u6876\u7d22\u5f15 */\n    int FindBucket(int key) {\n        int index = HashFunc(key);\n        int firstTombstone = -1;\n        // \u7ebf\u6027\u63a2\u6d4b\uff0c\u5f53\u9047\u5230\u7a7a\u6876\u65f6\u8df3\u51fa\n        while (buckets[index] != null) {\n            // \u82e5\u9047\u5230 key \uff0c\u8fd4\u56de\u5bf9\u5e94\u7684\u6876\u7d22\u5f15\n            if (buckets[index].key == key) {\n                // \u82e5\u4e4b\u524d\u9047\u5230\u4e86\u5220\u9664\u6807\u8bb0\uff0c\u5219\u5c06\u952e\u503c\u5bf9\u79fb\u52a8\u81f3\u8be5\u7d22\u5f15\u5904\n                if (firstTombstone != -1) {\n                    buckets[firstTombstone] = buckets[index];\n                    buckets[index] = TOMBSTONE;\n                    return firstTombstone; // \u8fd4\u56de\u79fb\u52a8\u540e\u7684\u6876\u7d22\u5f15\n                }\n                return index; // \u8fd4\u56de\u6876\u7d22\u5f15\n            }\n            // \u8bb0\u5f55\u9047\u5230\u7684\u9996\u4e2a\u5220\u9664\u6807\u8bb0\n            if (firstTombstone == -1 &amp;&amp; buckets[index] == TOMBSTONE) {\n                firstTombstone = index;\n            }\n            // \u8ba1\u7b97\u6876\u7d22\u5f15\uff0c\u8d8a\u8fc7\u5c3e\u90e8\u5219\u8fd4\u56de\u5934\u90e8\n            index = (index + 1) % capacity;\n        }\n        // \u82e5 key \u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u6dfb\u52a0\u70b9\u7684\u7d22\u5f15\n        return firstTombstone == -1 ? index : firstTombstone;\n    }\n\n    /* \u67e5\u8be2\u64cd\u4f5c */\n    public string? Get(int key) {\n        // \u641c\u7d22 key \u5bf9\u5e94\u7684\u6876\u7d22\u5f15\n        int index = FindBucket(key);\n        // \u82e5\u627e\u5230\u952e\u503c\u5bf9\uff0c\u5219\u8fd4\u56de\u5bf9\u5e94 val\n        if (buckets[index] != null &amp;&amp; buckets[index] != TOMBSTONE) {\n            return buckets[index].val;\n        }\n        // \u82e5\u952e\u503c\u5bf9\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de null\n        return null;\n    }\n\n    /* \u6dfb\u52a0\u64cd\u4f5c */\n    public void Put(int key, string val) {\n        // \u5f53\u8d1f\u8f7d\u56e0\u5b50\u8d85\u8fc7\u9608\u503c\u65f6\uff0c\u6267\u884c\u6269\u5bb9\n        if (LoadFactor() &gt; loadThres) {\n            Extend();\n        }\n        // \u641c\u7d22 key \u5bf9\u5e94\u7684\u6876\u7d22\u5f15\n        int index = FindBucket(key);\n        // \u82e5\u627e\u5230\u952e\u503c\u5bf9\uff0c\u5219\u8986\u76d6 val \u5e76\u8fd4\u56de\n        if (buckets[index] != null &amp;&amp; buckets[index] != TOMBSTONE) {\n            buckets[index].val = val;\n            return;\n        }\n        // \u82e5\u952e\u503c\u5bf9\u4e0d\u5b58\u5728\uff0c\u5219\u6dfb\u52a0\u8be5\u952e\u503c\u5bf9\n        buckets[index] = new Pair(key, val);\n        size++;\n    }\n\n    /* \u5220\u9664\u64cd\u4f5c */\n    public void Remove(int key) {\n        // \u641c\u7d22 key \u5bf9\u5e94\u7684\u6876\u7d22\u5f15\n        int index = FindBucket(key);\n        // \u82e5\u627e\u5230\u952e\u503c\u5bf9\uff0c\u5219\u7528\u5220\u9664\u6807\u8bb0\u8986\u76d6\u5b83\n        if (buckets[index] != null &amp;&amp; buckets[index] != TOMBSTONE) {\n            buckets[index] = TOMBSTONE;\n            size--;\n        }\n    }\n\n    /* \u6269\u5bb9\u54c8\u5e0c\u8868 */\n    void Extend() {\n        // \u6682\u5b58\u539f\u54c8\u5e0c\u8868\n        Pair[] bucketsTmp = buckets;\n        // \u521d\u59cb\u5316\u6269\u5bb9\u540e\u7684\u65b0\u54c8\u5e0c\u8868\n        capacity *= extendRatio;\n        buckets = new Pair[capacity];\n        size = 0;\n        // \u5c06\u952e\u503c\u5bf9\u4ece\u539f\u54c8\u5e0c\u8868\u642c\u8fd0\u81f3\u65b0\u54c8\u5e0c\u8868\n        foreach (Pair pair in bucketsTmp) {\n            if (pair != null &amp;&amp; pair != TOMBSTONE) {\n                Put(pair.key, pair.val);\n            }\n        }\n    }\n\n    /* \u6253\u5370\u54c8\u5e0c\u8868 */\n    public void Print() {\n        foreach (Pair pair in buckets) {\n            if (pair == null) {\n                Console.WriteLine(\"null\");\n            } else if (pair == TOMBSTONE) {\n                Console.WriteLine(\"TOMBSTONE\");\n            } else {\n                Console.WriteLine(pair.key + \" -&gt; \" + pair.val);\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_2_%E5%93%88%E5%B8%8C%E5%86%B2%E7%AA%81/#_4","title":"\u5e73\u65b9\u63a2\u6d4b","text":"<p>\u5e73\u65b9\u63a2\u6d4b\u4e0e\u7ebf\u6027\u63a2\u6d4b\u7c7b\u4f3c\uff0c\u90fd\u662f\u5f00\u653e\u5bfb\u5740\u7684\u5e38\u89c1\u7b56\u7565\u4e4b\u4e00\u3002\u5f53\u53d1\u751f\u51b2\u7a81\u65f6\uff0c\u5e73\u65b9\u63a2\u6d4b\u4e0d\u662f\u7b80\u5355\u5730\u8df3\u8fc7\u4e00\u4e2a\u56fa\u5b9a\u7684\u6b65\u6570\uff0c\u800c\u662f\u8df3\u8fc7\u201c\u63a2\u6d4b\u6b21\u6570\u7684\u5e73\u65b9\u201d\u7684\u6b65\u6570\uff0c\u5373 \\(1,4,9,...\\) \u6b65\u3002</p> <p>\u5e73\u65b9\u63a2\u6d4b\u4e3b\u8981\u5177\u6709\u4ee5\u4e0b\u4f18\u52bf\u3002</p> <ul> <li>\u5e73\u65b9\u63a2\u6d4b\u901a\u8fc7\u8df3\u8fc7\u63a2\u6d4b\u6b21\u6570\u5e73\u65b9\u7684\u8ddd\u79bb\uff0c\u8bd5\u56fe\u7f13\u89e3\u7ebf\u6027\u63a2\u6d4b\u7684\u805a\u96c6\u6548\u5e94\u3002</li> <li>\u5e73\u65b9\u63a2\u6d4b\u4f1a\u8df3\u8fc7\u66f4\u5927\u7684\u8ddd\u79bb\u6765\u5bfb\u627e\u7a7a\u4f4d\u7f6e\uff0c\u6709\u52a9\u4e8e\u6570\u636e\u5206\u5e03\u5f97\u66f4\u52a0\u5747\u5300\u3002</li> </ul> <p>\u7136\u800c\uff0c\u5e73\u65b9\u63a2\u6d4b\u5e76\u4e0d\u662f\u5b8c\u7f8e\u7684\u3002</p> <ul> <li>\u4ecd\u7136\u5b58\u5728\u805a\u96c6\u73b0\u8c61\uff0c\u5373\u67d0\u4e9b\u4f4d\u7f6e\u6bd4\u5176\u4ed6\u4f4d\u7f6e\u66f4\u5bb9\u6613\u88ab\u5360\u7528\u3002</li> <li>\u7531\u4e8e\u5e73\u65b9\u7684\u589e\u957f\uff0c\u5e73\u65b9\u63a2\u6d4b\u53ef\u80fd\u4e0d\u4f1a\u63a2\u6d4b\u6574\u4e2a\u54c8\u5e0c\u8868\uff0c\u8fd9\u610f\u5473\u7740\u5373\u4f7f\u54c8\u5e0c\u8868\u4e2d\u6709\u7a7a\u6876\uff0c\u5e73\u65b9\u63a2\u6d4b\u4e5f\u53ef\u80fd\u65e0\u6cd5\u8bbf\u95ee\u5230\u5b83\u3002</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_2_%E5%93%88%E5%B8%8C%E5%86%B2%E7%AA%81/#_5","title":"\u591a\u6b21\u54c8\u5e0c","text":"<p>\u591a\u6b21\u54c8\u5e0c\u65b9\u6cd5\u4f7f\u7528\u591a\u4e2a\u54c8\u5e0c\u51fd\u6570 \\(f_{1}(x)\\)\u3001\\(f_{2}(x)\\)\u3001\\(f_{3}(x)\\)\u3001... \u8fdb\u884c\u63a2\u6d4b\u3002</p> <ul> <li>\u63d2\u5165\u5143\u7d20\uff1a\u82e5\u54c8\u5e0c\u51fd\u6570 \\(f_{1}(x)\\) \u51fa\u73b0\u51b2\u7a81\uff0c\u5219\u5c1d\u8bd5 \\(f_{2}(x)\\) \uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u5230\u627e\u5230\u7a7a\u4f4d\u540e\u63d2\u5165\u5143\u7d20\u3002</li> <li>\u67e5\u627e\u5143\u7d20\uff1a\u5728\u76f8\u540c\u7684\u54c8\u5e0c\u51fd\u6570\u987a\u5e8f\u4e0b\u8fdb\u884c\u67e5\u627e\uff0c\u76f4\u5230\u627e\u5230\u76ee\u6807\u5143\u7d20\u65f6\u8fd4\u56de\uff1b\u82e5\u9047\u5230\u7a7a\u4f4d\u6216\u5df2\u5c1d\u8bd5\u6240\u6709\u54c8\u5e0c\u51fd\u6570\uff0c\u8bf4\u660e\u54c8\u5e0c\u8868\u4e2d\u4e0d\u5b58\u5728\u8be5\u5143\u7d20\uff0c\u5219\u8fd4\u56de None \u3002</li> </ul> <p>\u4e0e\u7ebf\u6027\u63a2\u6d4b\u76f8\u6bd4\uff0c\u591a\u6b21\u54c8\u5e0c\u65b9\u6cd5\u4e0d\u6613\u4ea7\u751f\u805a\u96c6\uff0c\u4f46\u591a\u4e2a\u54c8\u5e0c\u51fd\u6570\u4f1a\u5e26\u6765\u989d\u5916\u7684\u8ba1\u7b97\u91cf\u3002</p> <p>Note</p> <ul> <li>\u8bf7\u6ce8\u610f\uff0c\u5f00\u653e\u5bfb\u5740\uff08\u7ebf\u6027\u63a2\u6d4b\u3001\u5e73\u65b9\u63a2\u6d4b\u548c\u591a\u6b21\u54c8\u5e0c\uff09\u54c8\u5e0c\u8868\u90fd\u5b58\u5728 \u201c\u4e0d\u80fd\u76f4\u63a5\u5220\u9664\u5143\u7d20\u201d \u7684\u95ee\u9898\u3002</li> <li>C# \u91c7\u7528\u7684\u662f\u94fe\u5f0f\u5730\u5740\u3001Python \u91c7\u7528\u7684\u662f\u5f00\u653e\u5bfb\u5740</li> </ul>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_3_%E5%93%88%E5%B8%8C%E7%AE%97%E6%B3%95/","title":"6.3 \u54c8\u5e0c\u7b97\u6cd5","text":"<p>\u65e0\u8bba\u662f\u5f00\u653e\u5bfb\u5740\u8fd8\u662f\u94fe\u5f0f\u5730\u5740\uff0c\u5b83\u4eec\u53ea\u80fd\u4fdd\u8bc1\u54c8\u5e0c\u8868\u53ef\u4ee5\u5728\u53d1\u751f\u51b2\u7a81\u65f6\u6b63\u5e38\u5de5\u4f5c\uff0c\u800c\u65e0\u6cd5\u51cf\u5c11\u54c8\u5e0c\u51b2\u7a81\u7684\u53d1\u751f\u3002</p> <p>\u5982\u679c\u54c8\u5e0c\u51b2\u7a81\u8fc7\u4e8e\u9891\u7e41\uff0c\u54c8\u5e0c\u8868\u7684\u6027\u80fd\u5219\u4f1a\u6025\u5267\u52a3\u5316\u3002\u5bf9\u4e8e\u94fe\u5f0f\u5730\u5740\u54c8\u5e0c\u8868\uff0c\u7406\u60f3\u60c5\u51b5\u4e0b\u952e\u503c\u5bf9\u5747\u5300\u5206\u5e03\u5728\u5404\u4e2a\u6876\u4e2d\uff0c\u8fbe\u5230\u6700\u4f73\u67e5\u8be2\u6548\u7387\uff1b\u6700\u5dee\u60c5\u51b5\u4e0b\u6240\u6709\u952e\u503c\u5bf9\u90fd\u5b58\u50a8\u5230\u540c\u4e00\u4e2a\u6876\u4e2d\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u9000\u5316\u81f3 \\(O(n)\\) \u3002</p> <p></p> <p>\u54c8\u5e0c\u51b2\u7a81\u7684\u6700\u4f73\u60c5\u51b5\u4e0e\u6700\u5dee\u60c5\u51b5</p> <p>\u952e\u503c\u5bf9\u7684\u5206\u5e03\u60c5\u51b5\u7531\u54c8\u5e0c\u51fd\u6570\u51b3\u5b9a\u3002\u5f53\u54c8\u5e0c\u8868\u5bb9\u91cf capacity \u56fa\u5b9a\u65f6\uff0c\u54c8\u5e0c\u7b97\u6cd5 hash() \u51b3\u5b9a\u4e86\u8f93\u51fa\u503c\uff0c\u4e3a\u4e86\u964d\u4f4e\u54c8\u5e0c\u51b2\u7a81\u7684\u53d1\u751f\u6982\u7387\uff0c\u6211\u4eec\u5e94\u5f53\u5c06\u6ce8\u610f\u529b\u96c6\u4e2d\u5728\u54c8\u5e0c\u7b97\u6cd5 hash() \u7684\u8bbe\u8ba1\u4e0a\u3002</p> C#<pre><code>index = hash(key) % capacity\n</code></pre>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_3_%E5%93%88%E5%B8%8C%E7%AE%97%E6%B3%95/#_1","title":"\u54c8\u5e0c\u7b97\u6cd5\u7684\u76ee\u6807","text":"<p>\u4e3a\u4e86\u5b9e\u73b0\u201c\u65e2\u5feb\u53c8\u7a33\u201d\u7684\u54c8\u5e0c\u8868\u6570\u636e\u7ed3\u6784\uff0c\u54c8\u5e0c\u7b97\u6cd5\u5e94\u5177\u5907\u4ee5\u4e0b\u7279\u70b9\u3002</p> <ul> <li>\u786e\u5b9a\u6027\uff1a\u5bf9\u4e8e\u76f8\u540c\u7684\u8f93\u5165\uff0c\u54c8\u5e0c\u7b97\u6cd5\u5e94\u59cb\u7ec8\u4ea7\u751f\u76f8\u540c\u7684\u8f93\u51fa\u3002\u8fd9\u6837\u624d\u80fd\u786e\u4fdd\u54c8\u5e0c\u8868\u662f\u53ef\u9760\u7684\u3002</li> <li>\u6548\u7387\u9ad8\uff1a\u8ba1\u7b97\u54c8\u5e0c\u503c\u7684\u8fc7\u7a0b\u5e94\u8be5\u8db3\u591f\u5feb\u3002\u8ba1\u7b97\u5f00\u9500\u8d8a\u5c0f\uff0c\u54c8\u5e0c\u8868\u7684\u5b9e\u7528\u6027\u8d8a\u9ad8\u3002</li> <li>\u5747\u5300\u5206\u5e03\uff1a\u54c8\u5e0c\u7b97\u6cd5\u5e94\u4f7f\u5f97\u952e\u503c\u5bf9\u5747\u5300\u5206\u5e03\u5728\u54c8\u5e0c\u8868\u4e2d\u3002\u5206\u5e03\u8d8a\u5747\u5300\uff0c\u54c8\u5e0c\u51b2\u7a81\u7684\u6982\u7387\u5c31\u8d8a\u4f4e\u3002</li> </ul> <p>\u5b9e\u9645\u4e0a\uff0c\u54c8\u5e0c\u7b97\u6cd5\u9664\u4e86\u53ef\u4ee5\u7528\u4e8e\u5b9e\u73b0\u54c8\u5e0c\u8868\uff0c\u8fd8\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5176\u4ed6\u9886\u57df\u4e2d\u3002</p> <ul> <li>\u5bc6\u7801\u5b58\u50a8\uff1a\u4e3a\u4e86\u4fdd\u62a4\u7528\u6237\u5bc6\u7801\u7684\u5b89\u5168\uff0c\u7cfb\u7edf\u901a\u5e38\u4e0d\u4f1a\u76f4\u63a5\u5b58\u50a8\u7528\u6237\u7684\u660e\u6587\u5bc6\u7801\uff0c\u800c\u662f\u5b58\u50a8\u5bc6\u7801\u7684\u54c8\u5e0c\u503c\u3002\u5f53\u7528\u6237\u8f93\u5165\u5bc6\u7801\u65f6\uff0c\u7cfb\u7edf\u4f1a\u5bf9\u8f93\u5165\u7684\u5bc6\u7801\u8ba1\u7b97\u54c8\u5e0c\u503c\uff0c\u7136\u540e\u4e0e\u5b58\u50a8\u7684\u54c8\u5e0c\u503c\u8fdb\u884c\u6bd4\u8f83\u3002\u5982\u679c\u4e24\u8005\u5339\u914d\uff0c\u90a3\u4e48\u5bc6\u7801\u5c31\u88ab\u89c6\u4e3a\u6b63\u786e\u3002</li> <li>\u6570\u636e\u5b8c\u6574\u6027\u68c0\u67e5\uff1a\u6570\u636e\u53d1\u9001\u65b9\u53ef\u4ee5\u8ba1\u7b97\u6570\u636e\u7684\u54c8\u5e0c\u503c\u5e76\u5c06\u5176\u4e00\u540c\u53d1\u9001\uff1b\u63a5\u6536\u65b9\u53ef\u4ee5\u91cd\u65b0\u8ba1\u7b97\u63a5\u6536\u5230\u7684\u6570\u636e\u7684\u54c8\u5e0c\u503c\uff0c\u5e76\u4e0e\u63a5\u6536\u5230\u7684\u54c8\u5e0c\u503c\u8fdb\u884c\u6bd4\u8f83\u3002\u5982\u679c\u4e24\u8005\u5339\u914d\uff0c\u90a3\u4e48\u6570\u636e\u5c31\u88ab\u89c6\u4e3a\u5b8c\u6574\u3002</li> </ul> <p>\u5bf9\u4e8e\u5bc6\u7801\u5b66\u7684\u76f8\u5173\u5e94\u7528\uff0c\u4e3a\u4e86\u9632\u6b62\u4ece\u54c8\u5e0c\u503c\u63a8\u5bfc\u51fa\u539f\u59cb\u5bc6\u7801\u7b49\u9006\u5411\u5de5\u7a0b\uff0c\u54c8\u5e0c\u7b97\u6cd5\u9700\u8981\u5177\u5907\u66f4\u9ad8\u7b49\u7ea7\u7684\u5b89\u5168\u7279\u6027\u3002</p> <ul> <li>\u5355\u5411\u6027\uff1a\u65e0\u6cd5\u901a\u8fc7\u54c8\u5e0c\u503c\u53cd\u63a8\u51fa\u5173\u4e8e\u8f93\u5165\u6570\u636e\u7684\u4efb\u4f55\u4fe1\u606f\u3002</li> <li>\u6297\u78b0\u649e\u6027\uff1a\u5e94\u5f53\u6781\u96be\u627e\u5230\u4e24\u4e2a\u4e0d\u540c\u7684\u8f93\u5165\uff0c\u4f7f\u5f97\u5b83\u4eec\u7684\u54c8\u5e0c\u503c\u76f8\u540c\u3002</li> <li>\u96ea\u5d29\u6548\u5e94\uff1a\u8f93\u5165\u7684\u5fae\u5c0f\u53d8\u5316\u5e94\u5f53\u5bfc\u81f4\u8f93\u51fa\u7684\u663e\u8457\u4e14\u4e0d\u53ef\u9884\u6d4b\u7684\u53d8\u5316\u3002</li> </ul> <p>\u8bf7\u6ce8\u610f\uff0c\u201c\u5747\u5300\u5206\u5e03\u201d \u4e0e \u201c\u6297\u78b0\u649e\u6027\u201d \u662f\u4e24\u4e2a\u72ec\u7acb\u7684\u6982\u5ff5\uff0c\u6ee1\u8db3\u5747\u5300\u5206\u5e03\u4e0d\u4e00\u5b9a\u6ee1\u8db3\u6297\u78b0\u649e\u6027\u3002\u4f8b\u5982\uff0c\u5728\u968f\u673a\u8f93\u5165 key \u4e0b\uff0c\u54c8\u5e0c\u51fd\u6570 key % 100 \u53ef\u4ee5\u4ea7\u751f\u5747\u5300\u5206\u5e03\u7684\u8f93\u51fa\u3002\u7136\u800c\u8be5\u54c8\u5e0c\u7b97\u6cd5\u8fc7\u4e8e\u7b80\u5355\uff0c\u6240\u6709\u540e\u4e24\u4f4d\u76f8\u7b49\u7684 key \u7684\u8f93\u51fa\u90fd\u76f8\u540c\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u4ece\u54c8\u5e0c\u503c\u53cd\u63a8\u51fa\u53ef\u7528\u7684 key \uff0c\u4ece\u800c\u7834\u89e3\u5bc6\u7801\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_3_%E5%93%88%E5%B8%8C%E7%AE%97%E6%B3%95/#_2","title":"\u54c8\u5e0c\u7b97\u6cd5\u7684\u76ee\u6807","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u7b80\u5355\u7684\u54c8\u5e0c\u7b97\u6cd5\uff1a</p> C#<pre><code>/* \u52a0\u6cd5\u54c8\u5e0c\uff1a\u5bf9\u8f93\u5165\u7684\u6bcf\u4e2a\u5b57\u7b26\u7684 ASCII \u7801\u8fdb\u884c\u76f8\u52a0\uff0c\u5c06\u5f97\u5230\u7684\u603b\u548c\u4f5c\u4e3a\u54c8\u5e0c\u503c */\nint AddHash(string key) {\n    long hash = 0;\n    const int MODULUS = 1000000007;\n    foreach (char c in key) {\n        hash = (hash + c) % MODULUS;\n    }\n    return (int)hash;\n}\n\n/* \u4e58\u6cd5\u54c8\u5e0c\uff1a\u5229\u7528\u4e58\u6cd5\u7684\u4e0d\u76f8\u5173\u6027\uff0c\u6bcf\u8f6e\u4e58\u4ee5\u4e00\u4e2a\u5e38\u6570\uff0c\u5c06\u5404\u4e2a\u5b57\u7b26\u7684 ASCII \u7801\u7d2f\u79ef\u5230\u54c8\u5e0c\u503c\u4e2d */\nint MulHash(string key) {\n    long hash = 0;\n    const int MODULUS = 1000000007;\n    foreach (char c in key) {\n        hash = (31 * hash + c) % MODULUS;\n    }\n    return (int)hash;\n}\n\n/* \u5f02\u6216\u54c8\u5e0c\uff1a\u5c06\u8f93\u5165\u6570\u636e\u7684\u6bcf\u4e2a\u5143\u7d20\u901a\u8fc7\u5f02\u6216\u64cd\u4f5c\u7d2f\u79ef\u5230\u4e00\u4e2a\u54c8\u5e0c\u503c\u4e2d */\nint XorHash(string key) {\n    int hash = 0;\n    const int MODULUS = 1000000007;\n    foreach (char c in key) {\n        hash ^= c;\n    }\n    return hash &amp; MODULUS;\n}\n\n/* \u65cb\u8f6c\u54c8\u5e0c\uff1a\u5c06\u6bcf\u4e2a\u5b57\u7b26\u7684 ASCII \u7801\u7d2f\u79ef\u5230\u4e00\u4e2a\u54c8\u5e0c\u503c\u4e2d\uff0c\u6bcf\u6b21\u7d2f\u79ef\u4e4b\u524d\u90fd\u4f1a\u5bf9\u54c8\u5e0c\u503c\u8fdb\u884c\u65cb\u8f6c\u64cd\u4f5c */\nint RotHash(string key) {\n    long hash = 0;\n    const int MODULUS = 1000000007;\n    foreach (char c in key) {\n        hash = ((hash &lt;&lt; 4) ^ (hash &gt;&gt; 28) ^ c) % MODULUS;\n    }\n    return (int)hash;\n}\n</code></pre> <p>\u89c2\u5bdf\u53d1\u73b0\uff0c\u6bcf\u79cd\u54c8\u5e0c\u7b97\u6cd5\u7684\u6700\u540e\u4e00\u6b65\u90fd\u662f\u5bf9\u5927\u8d28\u6570 1000000007 \u53d6\u6a21\uff0c\u4ee5\u786e\u4fdd\u54c8\u5e0c\u503c\u5728\u5408\u9002\u7684\u8303\u56f4\u5185\u3002\u4f7f\u7528\u5927\u8d28\u6570\u4f5c\u4e3a\u6a21\u6570\uff0c\u53ef\u4ee5\u6700\u5927\u5316\u5730\u4fdd\u8bc1\u54c8\u5e0c\u503c\u7684\u5747\u5300\u5206\u5e03\u3002\u56e0\u4e3a\u8d28\u6570\u4e0d\u4e0e\u5176\u4ed6\u6570\u5b57\u5b58\u5728\u516c\u7ea6\u6570\uff0c\u53ef\u4ee5\u51cf\u5c11\u56e0\u53d6\u6a21\u64cd\u4f5c\u800c\u4ea7\u751f\u7684\u5468\u671f\u6027\u6a21\u5f0f\uff0c\u4ece\u800c\u907f\u514d\u54c8\u5e0c\u51b2\u7a81\u3002</p>"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_3_%E5%93%88%E5%B8%8C%E7%AE%97%E6%B3%95/#_3","title":"\u5e38\u89c1\u54c8\u5e0c\u7b97\u6cd5","text":"<p>\u5728\u5b9e\u9645\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u4f1a\u7528\u4e00\u4e9b\u6807\u51c6\u54c8\u5e0c\u7b97\u6cd5\uff0c\u4f8b\u5982 MD5\u3001SHA-1\u3001SHA-2 \u548c SHA-3 \u7b49\u3002\u5b83\u4eec\u53ef\u4ee5\u5c06\u4efb\u610f\u957f\u5ea6\u7684\u8f93\u5165\u6570\u636e\u6620\u5c04\u5230\u6052\u5b9a\u957f\u5ea6\u7684\u54c8\u5e0c\u503c\u3002</p> MD5 SHA-1 SHA-2 SHA-3 \u63a8\u51fa\u65f6\u95f4 1992 1995 2002 2008 \u8f93\u51fa\u957f\u5ea6 128 bit 160 bit 256/512 bit 224/256/384/512 bit \u54c8\u5e0c\u51b2\u7a81 \u8f83\u591a \u8f83\u591a \u5f88\u5c11 \u5f88\u5c11 \u5b89\u5168\u7b49\u7ea7 \u4f4e\uff0c\u5df2\u88ab\u6210\u529f\u653b\u51fb \u4f4e\uff0c\u5df2\u88ab\u6210\u529f\u653b\u51fb \u9ad8 \u9ad8 \u5e94\u7528 \u5df2\u88ab\u5f03\u7528\uff0c\u4ecd\u7528\u4e8e\u6570\u636e\u5b8c\u6574\u6027\u68c0\u67e5 \u5df2\u88ab\u5f03\u7528 \u52a0\u5bc6\u8d27\u5e01\u4ea4\u6613\u9a8c\u8bc1\u3001\u6570\u5b57\u7b7e\u540d\u7b49 \u53ef\u7528\u4e8e\u66ff\u4ee3 SHA-2"},{"location":"01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/06_%E5%93%88%E5%B8%8C%E8%A1%A8/6_3_%E5%93%88%E5%B8%8C%E7%AE%97%E6%B3%95/#_4","title":"\u6570\u636e\u7ed3\u6784\u7684\u54c8\u5e0c\u503c","text":"<p>\u54c8\u5e0c\u8868\u7684 key \u53ef\u4ee5\u662f\u6574\u6570\u3001\u5c0f\u6570\u6216\u5b57\u7b26\u4e32\u7b49\u6570\u636e\u7c7b\u578b\u3002\u7f16\u7a0b\u8bed\u8a00\u901a\u5e38\u4f1a\u4e3a\u8fd9\u4e9b\u6570\u636e\u7c7b\u578b\u63d0\u4f9b\u5185\u7f6e\u7684\u54c8\u5e0c\u7b97\u6cd5\uff0c\u7528\u4e8e\u8ba1\u7b97\u54c8\u5e0c\u8868\u4e2d\u7684\u6876\u7d22\u5f15\u3002</p> C#<pre><code>int num = 3;\nint hashNum = num.GetHashCode();\n// \u6574\u6570\u7684\u54c8\u5e0c\u503c\u4e3a\u5b83\u81ea\u5df1\u672c\u8eab\uff0c3 \u7684\u54c8\u5e0c\u503c\u4e3a 3;\n\nbool bol = true;\nint hashBol = bol.GetHashCode();\n// \u5e03\u5c14\u91cf\u7684\u54c8\u5e0c\u503c\u4e3a\u5b83\u81ea\u5df1\u672c\u8eab\uff0ctrue \u7684\u54c8\u5e0c\u503c\u4e3a 1;\n\ndouble dec = 3.14159;\nint hashDec = dec.GetHashCode();\n// \u5c0f\u6570 3.14159 \u7684\u54c8\u5e0c\u503c\u4e3a -1340954729;\n\nstring str = \"Hello \u7b97\u6cd5\";\nint hashStr = str.GetHashCode();\n// \u5b57\u7b26\u4e32\u201cHello \u7b97\u6cd5\u201d\u7684\u54c8\u5e0c\u503c\u4e3a -586107568;\n\nobject[] arr = [12836, \"\u5c0f\u54c8\"];\nint hashTup = arr.GetHashCode();\n// \u6570\u7ec4 [12836, \u5c0f\u54c8] \u7684\u54c8\u5e0c\u503c\u4e3a 42931033;\n\nListNode obj = new(0);\nint hashObj = obj.GetHashCode();\n// \u8282\u70b9\u5bf9\u8c61 0 \u7684\u54c8\u5e0c\u503c\u4e3a 39053774;\n</code></pre> <p>\u5bf9\u8c61\u7684\u54c8\u5e0c\u503c\u57fa\u4e8e\u5176\u5185\u5b58\u5730\u5740\u751f\u6210\u3002\u901a\u8fc7\u91cd\u5199\u5bf9\u8c61\u7684\u54c8\u5e0c\u65b9\u6cd5\uff0c\u53ef\u5b9e\u73b0\u57fa\u4e8e\u5185\u5bb9\u751f\u6210\u54c8\u5e0c\u503c\u3002\u4f46\u5217\u8868\u4e0d\u592a\u4e00\u6837\uff0c\u5b83\u7684\u54c8\u5e0c\u503c\u662f\u6839\u636e\u5185\u5bb9\u7684\u54c8\u5e0c\u503c\u7ec4\u5408\u8d77\u6765\u5f97\u5230\u7684\u4e00\u4e2a\u54c8\u5e0c\u503c\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/","title":"\u53d8\u91cf\u548c\u51fd\u6570\u7684\u4f5c\u7528\u57df","text":"<p>\u53d8\u91cf\u548c\u51fd\u6570\u7684\u4f5c\u7528\u57df\uff0c\u548c\u5176\u4ed6\u9ad8\u7ea7\u8bed\u8a00\u4e0d\u592a\u4e00\u6837\uff0c\u5728 C \u4e2d\u6709\u7279\u6b8a\u7684\u89c4\u5219</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/#_1","title":"\u53d8\u91cf\u7684\u4f5c\u7528\u57df","text":"<p>\u53d8\u91cf\u5206\u4e24\u79cd\uff1a</p> <ul> <li>\u5c40\u90e8\u53d8\u91cf</li> <li>\u5916\u90e8\u53d8\u91cf</li> </ul> <p>\u754c\u5b9a\u662f\u5c40\u90e8\u8fd8\u662f\u5916\u90e8\uff0c\u5355\u7eaf\u770b\u53d8\u91cf\u662f\u5b9a\u4e49\u5728\u51fd\u6570\u7684\u5185\u90e8\u8fd8\u662f\u5916\u90e8\uff1a</p> \u5c40\u90e8\u53d8\u91cf\u5916\u90e8\u53d8\u91cf C<pre><code>#include &lt;stdio.h&gt;\n\nint main() {\n  void localparams(int x);\n  localparams();\n  return 0;\n}\n\nvoid localparams(int x) // \u5f62\u53c2\u4e5f\u662f\u5c40\u90e8\u53d8\u91cf\n{\n  int a = 999; // \u5b9a\u4e49\u5728\u51fd\u6570\u5185\u90e8\u7684\uff0c\u5c31\u662f\u5c40\u90e8\u53d8\u91cf\n}\n</code></pre> C<pre><code>#include &lt;stdio.h&gt;\n\nint a = 999; // \u5b9a\u4e49\u5728\u51fd\u6570\u5916\u90e8\u7684\uff0c\u5c31\u662f\u5916\u90e8\u53d8\u91cf\n\nint main() {\n  return 0;\n}\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/#_2","title":"\u5c40\u90e8\u53d8\u91cf","text":"<p>\u5c40\u90e8\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u5747\u9650\u4e8e\u51fd\u6570\u5185\uff01\u5c40\u90e8\u53d8\u91cf\u53ef\u4ee5\u5206\u4e3a 3 \u7c7b</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/#1","title":"1. \u81ea\u52a8\u53d8\u91cf","text":"<p>\u5927\u591a\u6570\u5c40\u90e8\u53d8\u91cf\u5176\u5b9e\u90fd\u662f\u81ea\u52a8\u53d8\u91cf\uff0c\u53ea\u662f\u4e66\u5199\u65f6auto\u5173\u952e\u5b57\u662f\u7f3a\u7701\u7684\u3002</p> <p><code>auto int a = 3;</code> \u7b49\u4ef7\u4e8e <code>int a = 3;</code></p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/#2","title":"2. \u9759\u6001\u5c40\u90e8\u53d8\u91cf","text":"<p>\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u901a\u8fc7 <code>static</code> \u5173\u952e\u5b57\u4fee\u9970\uff0c\u5b83\u4eec\u5b58\u50a8\u5728\u9759\u6001\u5b58\u50a8\u533a\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u671f\u95f4\u90fd\u4e0d\u4f1a\u91ca\u653e\uff0c\u5373\u4fbf\u5b83\u662f\u5c40\u90e8\u7684\u3002\u56e0\u6b64\u5b83\u4eec\u7684\u503c\u4f1a\u4fdd\u6301\u4e0a\u4e00\u6b21\u4fee\u6539\u7684\u72b6\u6001\u3002C \u8bed\u8a00\u7684 static \u548c C# \u7b49\u8bed\u8a00\u7684\u5f88\u4e0d\u4e00\u6837\uff0c\u9700\u8981\u6ce8\u610f\u3002</p> <p>\u5728\u51fd\u6570\u8c03\u7528\u5b8c\u6210\u540e\uff0c\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u5e76\u6ca1\u6709\u91ca\u653e\uff0c\u4f46\u5b83\u7684\u4f5c\u7528\u57df\u4ecd\u7136\u5728\u58f0\u660e\u5b83\u7684\u51fd\u6570\u5185\u90e8\uff0c\u4e5f\u5c31\u662f\u51fd\u6570\u5185\u624d\u53ef\u4ee5\u8bbf\u95ee\u5b83\uff0c\u548c\u5b83\u6709\u6ca1\u6709\u91ca\u653e\u65e0\u5173\u3002</p> static local variables<pre><code>int counter()\n{\n    static int a = 0;\n    ++a;\n    return a;\n}\n</code></pre> <p>\u8fd9\u4e2a\u51fd\u6570\u8bbf\u95ee 10 \u6b21\uff0c\u5176\u6700\u540e\u4e00\u6b21\u7684\u7ed3\u679c\u5c06\u662f 10</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/#3","title":"3. \u5bc4\u5b58\u5668\u53d8\u91cf","text":"<p>\u5bc4\u5b58\u5668\u53d8\u91cf\u901a\u8fc7 <code>register</code> \u5173\u952e\u5b57\u4fee\u9970\uff0c\u5b83\u544a\u77e5\u7f16\u8bd1\u5668\u8be5\u53d8\u91cf\u4f7f\u7528\u9891\u7387\u8f83\u9ad8\uff0c\u5e94\u8be5\u653e\u5728\u673a\u5668\u7684\u5bc4\u5b58\u5668\u4e2d\u3002\u4f46\u7f16\u8bd1\u5668\u4f1a\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9009\u62e9\u5ffd\u7565\u5b83\uff0c\u6bd4\u5982\u8fc7\u91cf\u7684\u6216\u8005\u4e0d\u652f\u6301\u7684\u5bc4\u5b58\u5668\u53d8\u91cf\u58f0\u660e\u3002\u6240\u4ee5\u8fc7\u91cf\u58f0\u660e\u5e76\u6ca1\u6709\u4ec0\u4e48\u574f\u5904\uff0c\u6700\u7ec8\u751f\u6210\u7684\u4ee3\u7801\u662f\u5426\u4f1a\u5c06\u5176\u653e\u5165\u5bc4\u5b58\u5668\uff0c\u5168\u7531\u7f16\u8bd1\u5668\u51b3\u5b9a\u3002\u73b0\u5728\u8fd9\u79cd\u58f0\u660e\u7684\u5fc5\u8981\u6027\u4e5f\u4e0d\u5927\uff0c\u5f88\u591a\u7f16\u8bd1\u7cfb\u7edf\u751a\u81f3\u80fd\u591f\u8bc6\u522b\u4f7f\u7528\u9891\u7e41\u7684\u53d8\u91cf\uff0c\u81ea\u52a8\u5c06\u8fd9\u4e9b\u53d8\u91cf\u653e\u5165\u5bc4\u5b58\u5668\u4e2d\uff0c\u800c\u4e0d\u9700\u8981\u6211\u4eec\u624b\u52a8\u6307\u5b9a\u3002</p> register variables<pre><code>void fun()\n{\n    register int a;\n}\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/#_3","title":"\u5916\u90e8\u53d8\u91cf","text":"<p>\u5916\u90e8\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u9ed8\u8ba4\u4ece\u58f0\u660e\u5b83\u7684\u6587\u4ef6\u4f4d\u7f6e\u5f00\u59cb\uff0c\u76f4\u5230\u6587\u4ef6\u672b\u5c3e\u7ed3\u675f\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7 <code>extern</code> \u5173\u952e\u5b57\u6539\u53d8\u4f5c\u7528\u57df\uff1a</p> \u9ed8\u8ba4\u4f5c\u7528\u57df\u4f5c\u7528\u57df\u63d0\u524d\uff08\u4e00\uff09\u4f5c\u7528\u57df\u63d0\u524d\uff08\u4e8c\uff09\u5176\u4ed6\u6587\u4ef6\u4e2d\u4f7f\u7528 C<pre><code>#include &lt;stdio.h&gt;\n\nint main()\n{\n    int counter();\n    for(int i = 0; i &lt; 10; i++)\n        printf(\"%d\\n\", counter());\n    printf(\"Hello, World\\n\");\n}\n\nint b = 1;              // \u4f5c\u7528\u57df\u5f00\u59cb\n\nint counter()\n{\n    static int a = 0;\n    ++a;\n    return a + b;\n}                       // \u4f5c\u7528\u57df\u7ed3\u675f\n</code></pre> C<pre><code>#include &lt;stdio.h&gt;\n\nint main()\n{\n    int counter();\n    int counter2();\n    int counter3();\n    for(int i = 0; i &lt; 10; i++)\n        printf(\"%d\\n\", counter());\n    for(int i = 0; i &lt; 10; i++)\n        printf(\"%d\\n\", counter2());\n    for(int i = 0; i &lt; 10; i++)\n        printf(\"%d\\n\", counter3());\n    printf(\"Hello, World\\n\");\n}\nextern int b;          // \u4f5c\u7528\u57df\u5f00\u59cb\n\nint counter2()\n{\n    ++b;\n    return b;\n}\n\nint counter3()\n{\n    ++b;\n    return b;\n}\n\nint b = 1;\n\nint counter()\n{\n    static int a = 0;\n    ++a;\n    return a + b;\n}                      // \u4f5c\u7528\u57df\u7ed3\u675f\n</code></pre> C<pre><code>#include &lt;stdio.h&gt;\n\nint main()\n{\n    int counter();\n    int counter2();\n    int counter3();\n    for(int i = 0; i &lt; 10; i++)\n        printf(\"%d\\n\", counter());\n    for(int i = 0; i &lt; 10; i++)\n        printf(\"%d\\n\", counter2());\n    for(int i = 0; i &lt; 10; i++)\n        printf(\"%d\\n\", counter3());\n    printf(\"Hello, World\\n\");\n}\n\nint counter2()\n{\n    extern int b;          // \u4f5c\u7528\u57df\u5f00\u59cb\n    return b;              // \u4f5c\u7528\u57df\u7ed3\u675f\n}\n\nint counter3()\n{\n    ++b;                   // \u7f16\u8bd1\u4e0d\u901a\u8fc7\n    return b;\n}\n\nint b = 1;\n\nint counter()              // \u4f5c\u7528\u57df\u5f00\u59cb\n{\n    static int a = 0;\n    ++a;\n    return a + b;\n}                          // \u4f5c\u7528\u57df\u7ed3\u675f\n</code></pre> C<pre><code>// file2.c\nextern b;                  // \u4f5c\u7528\u57df\u5f00\u59cb\nint fun()\n{\n    int c = 0;\n    return c + b;\n}                          // \u4f5c\u7528\u57df\u7ed3\u675f\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/#_4","title":"\u9759\u6001\u5916\u90e8\u53d8\u91cf","text":"<p>\u7528 <code>static</code> \u4fee\u9970\u7684\u5916\u90e8\u53d8\u91cf\u79f0\u9759\u6001\u5916\u90e8\u53d8\u91cf\uff0c\u4f46\u9700\u8981\u6ce8\u610f\uff1a</p> <ul> <li>\u6240\u6709\u5916\u90e8\u53d8\u91cf\uff0c\u90fd\u662f\u5b58\u50a8\u5728\u9759\u6001\u5b58\u50a8\u533a\u4e2d\u7684\uff0c\u548c\u662f\u5426\u662f <code>static</code> \u4fee\u9970\u65e0\u5173</li> <li>\u9759\u6001\u5916\u90e8\u53d8\u91cf\u7684\u771f\u6b63\u4f5c\u7528\u662f\u5bf9\u5176\u4ed6\u6587\u4ef6\u9690\u85cf\u8be5\u5916\u90e8\u53d8\u91cf\uff08\u4e0d\u5e0c\u671b\u88ab\u5176\u4ed6\u6587\u4ef6\u5f15\u7528\uff09</li> <li>\u4e0d\u540c\u6587\u4ef6\u4e2d\u7684\u9759\u6001\u5916\u90e8\u53d8\u91cf\u53ef\u4ee5\u91cd\u540d\uff0c\u4e92\u4e0d\u5e72\u6270</li> </ul> <p>\u6ce8\u610fstatic\u4fee\u9970\u4e0b\u7684\u53d8\u91cf</p> <p>\u5728 C \u4e2d\uff0cstatic \u4fee\u9970\u7684\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u548c\u9759\u6001\u5916\u90e8\u53d8\u91cf\uff0c\u4e24\u8005\u7684\u7279\u6027\u5b8c\u5168\u4e0d\u540c\uff0c\u9700\u8981\u7504\u522b\uff01</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/#_5","title":"\u51fd\u6570\u7684\u4f5c\u7528\u57df","text":"<p>\u51fd\u6570\u7684\u4f5c\u7528\u57df\u7279\u6027\u6bd4\u8f83\u50cf\u5916\u90e8\u53d8\u91cf\uff0c\u4e5f\u662f\u9ed8\u8ba4\u4ece\u58f0\u660e\u5904\u5f00\u59cb\uff0c\u6587\u4ef6\u672b\u5c3e\u7ed3\u675f\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/#_6","title":"\u5916\u90e8\u51fd\u6570","text":"<p>\u4e00\u4e2a\u51fd\u6570\u9ed8\u8ba4\u5c31\u662f\u5916\u90e8\u51fd\u6570\uff0c<code>extern</code> \u5173\u952e\u5b57\u662f\u7f3a\u7701\u7684\u3002<code>extern int fun(int a, int b)</code> \u7b49\u4ef7\u4e8e <code>int fun(int a, int b)</code></p> <p>\u5982\u679c\u9700\u8981\u5728\u9ed8\u8ba4\u4f5c\u7528\u57df\u5916\u8bbf\u95ee\uff08\u5176\u4ed6\u6587\u4ef6\u4e2d\u4e5f\u9002\u7528\uff09\uff0c\u5728\u4f7f\u7528\u7684\u5730\u65b9\u8981\u8981\u52a0\u4e0a <code>extern</code> \u5173\u952e\u5b57\u8fdb\u884c\u58f0\u660e\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/#_7","title":"\u5185\u90e8\u51fd\u6570","text":"<p>\u548c\u9759\u6001\u5916\u90e8\u53d8\u91cf\u4e00\u6837\uff0c\u52a0\u4e0a <code>static</code> \u5173\u952e\u5b57\u4fee\u9970\uff0c\u5176\u4ed6\u6587\u4ef6\u4fbf\u4e0d\u80fd\u8bbf\u95ee\u3002\u56e0\u6b64\u5185\u90e8\u51fd\u6570\u53c8\u53eb\u9759\u6001\u51fd\u6570\uff1a<code>static int fun(int a, int b)</code></p> <p>\u5728 C \u8bed\u8a00\u4e2d\uff0c\u201c\u9759\u6001\u201d\u4e00\u8bcd\u7684\u7279\u6027\u548c\u5176\u4ed6\u8bed\u8a00\u5b8c\u5168\u4e0d\u4e00\u6837\uff0c\u6240\u4ee5\u5355\u72ec\u5f00\u7bc7\u8bb0\u4e00\u4e0b\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/List%E6%BA%90%E7%A0%81%E6%B5%85%E6%9E%90/","title":"List\u6e90\u7801\u6d45\u6790","text":"<p>\u57fa\u7840\u77e5\u8bc6\u867d\u7136\u67af\u71e5\u4f46\u5341\u5206\u91cd\u8981\uff0c\u53cd\u590d\u6253\u78e8\u57fa\u7840\u624d\u80fd\u6709\u65b0\u7684\u542f\u53d1\u3002</p> <p>List\u4f5c\u4e3aC#\u6700\u5e38\u7528\u7684\u5bb9\u5668\uff0c\u6709\u5fc5\u8981\u5bf9\u5b83\u6df1\u5165\u4e86\u89e3\uff0c\u6700\u76f4\u63a5\u7684\u5c31\u662f\u8bfb\u6e90\u7801\u3002\u4e0b\u9762\u662f\u5b83\u7684\u6e90\u7801\u7f51\u5740\uff1a</p> <p>Note</p> <p>https://referencesource.microsoft.com/#mscorlib/system/collections/generic/list.cs</p> <p>\u672c\u7bc7\u662f\u8bb0\u5f55\u4e2a\u4eba\u5bf9\u5b83\u7684\u4e00\u4e9b\u5e38\u7528\u65b9\u6cd5\u6e90\u7801\u7684\u7406\u89e3\u5256\u6790</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/List%E6%BA%90%E7%A0%81%E6%B5%85%E6%9E%90/#_1","title":"\u7ee7\u627f\u3001\u6784\u9020\u3001\u57fa\u7840\u6210\u5458\u5b57\u6bb5","text":"C#<pre><code>public class List&lt;T&gt; : IList&lt;T&gt;, System.Collections.IList, IReadOnlyList&lt;T&gt;\n{\n    private const int _defaultCapacity = 4;\n\n    private T[] _items;\n    private int _size;\n    private int _version;\n\n    static readonly T[]  _emptyArray = new T[0];\n\n    // Constructs a List. The list is initially empty and has a capacity\n    // of zero. Upon adding the first element to the list the capacity is\n    // increased to 16, and then increased in multiples of two as required.\n    public List() {\n        _items = _emptyArray;\n    }\n\n    // Constructs a List with a given initial capacity. The list is\n    // initially empty, but will have room for the given number of elements\n    // before any reallocations are required.\n    //\n    public List(int capacity) {\n        if (capacity &lt; 0)\n            ThrowHelper.ThrowArgumentOutOfRangeException(ExceptionArgument.capacity, ExceptionResource.ArgumentOutOfRange_NeedNonNegNum);\n        Contract.EndContractBlock();\n\n        if (capacity == 0)\n            _items = _emptyArray;\n        else\n            _items = new T[capacity];\n    }\n}\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/List%E6%BA%90%E7%A0%81%E6%B5%85%E6%9E%90/#_2","title":"\u7ee7\u627f\u63a5\u53e3","text":"<p>\u7ee7\u627fIList\uff0c\u63d0\u4f9b\u4e3b\u8981\u63a5\u53e3\uff1a</p> C#<pre><code>#if CONTRACTS_FULL\n    [ContractClass(typeof(IListContract&lt;&gt;))]\n#endif // CONTRACTS_FULL\n    public interface IList&lt;T&gt; : ICollection&lt;T&gt;\n    {\n        // The Item property provides methods to read and edit entries in the List.\n        T this[int index] {\n            get;\n            set;\n        }\n\n        // Returns the index of a particular item, if it is in the list.\n        // Returns -1 if the item isn't in the list.\n        int IndexOf(T item);\n\n        // Inserts value into the list at position index.\n        // index must be non-negative and less than or equal to the\n        // number of elements in the list.  If index equals the number\n        // of items in the list, then value is appended to the end.\n        void Insert(int index, T item);\n\n        // Removes the item at position index.\n        void RemoveAt(int index);\n    }\n\n#if CONTRACTS_FULL\n    [ContractClassFor(typeof(IList&lt;&gt;))]\n    internal abstract class IListContract&lt;T&gt; : IList&lt;T&gt;\n    {\n        T IList&lt;T&gt;.this[int index] {\n            get {\n                //Contract.Requires(index &gt;= 0);\n                //Contract.Requires(index &lt; ((ICollection&lt;T&gt;)this).Count);\n                return default(T);\n            }\n            set {\n                //Contract.Requires(index &gt;= 0);\n                //Contract.Requires(index &lt; ((ICollection&lt;T&gt;)this).Count);\n            }\n        }\n\n        IEnumerator System.Collections.IEnumerable.GetEnumerator()\n        {\n            return default(IEnumerator);\n        }\n\n        IEnumerator&lt;T&gt; IEnumerable&lt;T&gt;.GetEnumerator()\n        {\n            return default(IEnumerator&lt;T&gt;);\n        }\n\n        [Pure]\n        int IList&lt;T&gt;.IndexOf(T value)\n        {\n            Contract.Ensures(Contract.Result&lt;int&gt;() &gt;= -1);\n            Contract.Ensures(Contract.Result&lt;int&gt;() &lt; ((ICollection&lt;T&gt;)this).Count);\n            return default(int);\n        }\n\n        void IList&lt;T&gt;.Insert(int index, T value)\n        {\n            //Contract.Requires(index &gt;= 0);\n            //Contract.Requires(index &lt;= ((ICollection&lt;T&gt;)this).Count);  // For inserting immediately after the end.\n            //Contract.Ensures(((ICollection&lt;T&gt;)this).Count == Contract.OldValue(((ICollection&lt;T&gt;)this).Count) + 1);  // Not threadsafe\n        }\n\n        void IList&lt;T&gt;.RemoveAt(int index)\n        {\n            //Contract.Requires(index &gt;= 0);\n            //Contract.Requires(index &lt; ((ICollection&lt;T&gt;)this).Count);\n            //Contract.Ensures(((ICollection&lt;T&gt;)this).Count == Contract.OldValue(((ICollection&lt;T&gt;)this).Count) - 1);  // Not threadsafe\n        }\n\n        #region ICollection&lt;T&gt; Members\n\n        void ICollection&lt;T&gt;.Add(T value)\n        {\n            //Contract.Ensures(((ICollection&lt;T&gt;)this).Count == Contract.OldValue(((ICollection&lt;T&gt;)this).Count) + 1);  // Not threadsafe\n        }\n\n        bool ICollection&lt;T&gt;.IsReadOnly {\n            get { return default(bool); }\n        }\n\n        int ICollection&lt;T&gt;.Count {\n            get {\n                return default(int);\n            }\n        }\n\n        void ICollection&lt;T&gt;.Clear()\n        {\n            // For fixed-sized collections like arrays, Clear will not change the Count property.\n            // But we can't express that in a contract because we have no IsFixedSize property on\n            // our generic collection interfaces.\n        }\n\n        bool ICollection&lt;T&gt;.Contains(T value)\n        {\n            return default(bool);\n        }\n\n        void ICollection&lt;T&gt;.CopyTo(T[] array, int startIndex)\n        {\n            //Contract.Requires(array != null);\n            //Contract.Requires(startIndex &gt;= 0);\n            //Contract.Requires(startIndex + ((ICollection&lt;T&gt;)this).Count &lt;= array.Length);\n        }\n\n        bool ICollection&lt;T&gt;.Remove(T value)\n        {\n            // No information if removal fails.\n            return default(bool);\n        }\n\n        #endregion\n    }\n#endif // CONTRACTS_FULL\n</code></pre> <p>\u7ee7\u627fIReadOnlyList\uff0c\u5219\u662f\u63d0\u4f9b\u6cdb\u578b\u8fed\u4ee3\u5668\u548cCount\u5c5e\u6027\u7b49\u63a5\u53e3</p> C#<pre><code>#if CONTRACTS_FULL\n    [ContractClass(typeof(IReadOnlyListContract&lt;&gt;))]\n#endif\n    // If we ever implement more interfaces on IReadOnlyList, we should also update RuntimeTypeCache.PopulateInterfaces() in rttype.cs\n    public interface IReadOnlyList&lt;out T&gt; : IReadOnlyCollection&lt;T&gt;\n    {\n        T this[int index] { get; }\n    }\n\n#if CONTRACTS_FULL\n    [ContractClassFor(typeof(IReadOnlyList&lt;&gt;))]\n    internal abstract class IReadOnlyListContract&lt;T&gt; : IReadOnlyList&lt;T&gt;\n    {\n        T IReadOnlyList&lt;T&gt;.this[int index] {\n            get {\n                //Contract.Requires(index &gt;= 0);\n                //Contract.Requires(index &lt; ((ICollection&lt;T&gt;)this).Count);\n                return default(T);\n            }\n        }\n\n        int IReadOnlyCollection&lt;T&gt;.Count {\n            get {\n                return default(int);\n            }\n        }\n\n        IEnumerator&lt;T&gt; IEnumerable&lt;T&gt;.GetEnumerator()\n        {\n            return default(IEnumerator&lt;T&gt;);\n        }\n\n        IEnumerator IEnumerable.GetEnumerator()\n        {\n            return default(IEnumerator);\n        }\n    }\n#endif\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/List%E6%BA%90%E7%A0%81%E6%B5%85%E6%9E%90/#_3","title":"\u6784\u9020\u51fd\u6570","text":"C#<pre><code>// Constructs a List. The list is initially empty and has a capacity\n// of zero. Upon adding the first element to the list the capacity is\n// increased to 16, and then increased in multiples of two as required.\npublic List() {\n    _items = _emptyArray;\n}\n\n// Constructs a List with a given initial capacity. The list is\n// initially empty, but will have room for the given number of elements\n// before any reallocations are required.\n//\npublic List(int capacity) {\n    if (capacity &lt; 0) ThrowHelper.ThrowArgumentOutOfRangeException(ExceptionArgument.capacity, ExceptionResource.ArgumentOutOfRange_NeedNonNegNum);\n    Contract.EndContractBlock();\n\n    if (capacity == 0)\n        _items = _emptyArray;\n    else\n        _items = new T[capacity];\n}\n</code></pre> <p>\u4ece\u6784\u9020\u51fd\u6570\u5f97\u51fa\uff0cList\u5185\u90e8\u4e5f\u662f\u7531\u6570\u7ec4\u5b9e\u73b0\uff0c\u5e76\u4e14\u652f\u6301\u5728\u4e00\u5f00\u59cb\u5c31\u6307\u5b9a\u5bb9\u91cf\uff1b\u65e0\u53c2\u6784\u9020\u51fd\u6570\u7684\u6ce8\u91ca\u4e2d\uff0c\u8bf4\u660e\u4e86\u6570\u7ec4\u4e00\u5f00\u59cb\u5bb9\u91cf\u662f0\uff0c\u4e00\u65e6\u6dfb\u52a0\u4e86\u4e00\u4e2a\u5143\u7d20\uff0c\u5bb9\u91cf\u4f1a\u589e\u957f\u81f316\uff0c\u8fd9\u4e2a\u8bf4\u6cd5\u5176\u5b9e\u4e0d\u5bf9\uff0c\u771f\u5b9e\u662f\u589e\u957f\u52304\uff0c\u4e5f\u5c31\u662f\u9ed8\u8ba4\u7684\u5bb9\u91cf\uff08_defaultCapacity\uff09\uff0c\u540e\u9762\u5173\u4e8eAdd\u7684\u5185\u5bb9\u4f1a\u770b\u5230\u7b97\u6cd5\u548c\u6d4b\u8bd5\u7684\u7ed3\u679c\uff1b\u5bb9\u91cf\u6bcf\u6b21\u6269\u5927\u90fd\u662f\u4e0a\u4e00\u6b21\u7684\u4e24\u500d\uff08\u4e5f\u5c31\u662f\u5bb9\u91cf4\u518d\u589e\u957f\u5373\u662f8\uff0c\u518d\u6269\u5bb9\u5c31\u662f16\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff09\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/","title":"\u533f\u540d\u51fd\u6570\u548c\u95ed\u5305\u95ee\u9898","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#_1","title":"\u95ed\u5305\u95ee\u9898","text":"C#<pre><code>class A\n{\n    public B b;\n}\n\nclass B\n{\n    public string Name;\n\n    public override string ToString()\n    {\n        return Name.ToString();\n    }\n}\n\nclass Program1\n{\n    static void Main()\n    {\n        var a = new A();\n        var b1 = new B() { Name = \"B1\" };\n        var b2 = new B() { Name = \"B2\" };\n        var b3 = new B() { Name = \"B3\" };\n        a.b = b1;\n        var c = a.b;\n        Action closure = () =&gt;\n        {\n            Console.WriteLine(c.ToString());\n            Console.WriteLine(a.b.ToString());\n            Console.WriteLine();\n        };\n        closure();\n        a.b = b2;\n        closure();\n        a.b = b3;\n        closure();\n    }\n}\n</code></pre> <p>\u8fd9\u662f\u4e00\u6bb5\u5305\u542b\u95ed\u5305\u7684\u6d4b\u8bd5\u4ee3\u7801\uff0c\u5b83\u7684\u6253\u5370\u7ed3\u679c\u662f\uff1a</p> Text Only<pre><code>B1\nB1\n\nB1\nB2\n\nB1\nB3\n</code></pre> <p>\u6211\u4eec\u6765\u770b\u5b83\u751f\u6210\u7684 IL \u4ee3\u7801\uff0c\u4ee5\u6b64\u6765\u4e86\u89e3\u95ed\u5305\u5bf9\u4f5c\u7528\u57df\u5916\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u662f\u5982\u4f55\u5904\u7406\u7684\uff1a</p> Text Only<pre><code>A..ctor:\nIL_0000:  ldarg.0     // \u5c06\u7b2c\u4e00\u4e2a\u53c2\u6570\uff08this\u5f15\u7528\uff09\u538b\u5165\u6808\nIL_0001:  call        System.Object..ctor  // \u8c03\u7528Object\u7684\u6784\u9020\u51fd\u6570\nIL_0006:  nop         // \u7a7a\u64cd\u4f5c\uff08\u53ef\u80fd\u662f\u8c03\u8bd5\u4fe1\u606f\uff09\nIL_0007:  ret         // \u8fd4\u56de\n\nB.ToString:\nIL_0000:  nop         // \u7a7a\u64cd\u4f5c\nIL_0001:  ldarg.0     // \u5c06this\u5f15\u7528\u538b\u5165\u6808\nIL_0002:  ldfld       UserQuery+B.Name  // \u52a0\u8f7dB\u7c7b\u7684Name\u5b57\u6bb5\u5230\u6808\nIL_0007:  callvirt    System.Object.ToString  // \u865a\u8c03\u7528ToString\u65b9\u6cd5\nIL_000C:  stloc.0     // \u5c06\u7ed3\u679c\u5b58\u50a8\u5230\u672c\u5730\u53d8\u91cf0\nIL_000D:  br.s        IL_000F  // \u77ed\u8df3\u8f6c\u5230IL_000F\nIL_000F:  ldloc.0     // \u4ece\u672c\u5730\u53d8\u91cf0\u52a0\u8f7d\u503c\u5230\u6808\nIL_0010:  ret         // \u8fd4\u56de\u6808\u9876\u503c\n\nB..ctor:\nIL_0000:  ldarg.0     // \u5c06this\u5f15\u7528\u538b\u5165\u6808\nIL_0001:  call        System.Object..ctor  // \u8c03\u7528Object\u6784\u9020\u51fd\u6570\nIL_0006:  nop         // \u7a7a\u64cd\u4f5c\nIL_0007:  ret         // \u8fd4\u56de\n\nProgram1.Main:\nIL_0000:  newobj      UserQuery+Program1+&lt;&gt;c__DisplayClass0_0..ctor  // \u521b\u5efa\u95ed\u5305\u7c7b\u5b9e\u4f8b\nIL_0005:  stloc.0     // \u5b58\u50a8\u5230\u672c\u5730\u53d8\u91cf0 (CS$&lt;&gt;8__locals0)\nIL_0006:  nop         // \u7a7a\u64cd\u4f5c\nIL_0007:  ldloc.0     // \u52a0\u8f7d\u95ed\u5305\u7c7b\u5b9e\u4f8b\nIL_0008:  newobj      UserQuery+A..ctor  // \u521b\u5efaA\u7c7b\u5b9e\u4f8b\nIL_000D:  stfld       UserQuery+Program1+&lt;&gt;c__DisplayClass0_0.a  // \u5c06A\u5b9e\u4f8b\u5b58\u50a8\u5230\u95ed\u5305\u7684a\u5b57\u6bb5\nIL_0012:  newobj      UserQuery+B..ctor  // \u521b\u5efaB\u7c7b\u5b9e\u4f8b\nIL_0017:  dup         // \u590d\u5236\u6808\u9876\u503c\nIL_0018:  ldstr       \"B1\"  // \u52a0\u8f7d\u5b57\u7b26\u4e32\"B1\"\nIL_001D:  stfld       UserQuery+B.Name  // \u8bbe\u7f6eB.Name\u5b57\u6bb5\u4e3a\"B1\"\nIL_0022:  stloc.1     // \u5b58\u50a8\u5230\u672c\u5730\u53d8\u91cf1 (b1)\nIL_0023:  newobj      UserQuery+B..ctor  // \u521b\u5efa\u53e6\u4e00\u4e2aB\u7c7b\u5b9e\u4f8b\nIL_0028:  dup         // \u590d\u5236\u6808\u9876\u503c\nIL_0029:  ldstr       \"B2\"  // \u52a0\u8f7d\u5b57\u7b26\u4e32\"B2\"\nIL_002E:  stfld       UserQuery+B.Name  // \u8bbe\u7f6eB.Name\u5b57\u6bb5\u4e3a\"B2\"\nIL_0033:  stloc.2     // \u5b58\u50a8\u5230\u672c\u5730\u53d8\u91cf2 (b2)\nIL_0034:  newobj      UserQuery+B..ctor  // \u521b\u5efa\u7b2c\u4e09\u4e2aB\u7c7b\u5b9e\u4f8b\nIL_0039:  dup         // \u590d\u5236\u6808\u9876\u503c\nIL_003A:  ldstr       \"B3\"  // \u52a0\u8f7d\u5b57\u7b26\u4e32\"B3\"\nIL_003F:  stfld       UserQuery+B.Name  // \u8bbe\u7f6eB.Name\u5b57\u6bb5\u4e3a\"B3\"\nIL_0044:  stloc.3     // \u5b58\u50a8\u5230\u672c\u5730\u53d8\u91cf3 (b3)\nIL_0045:  ldloc.0     // \u52a0\u8f7d\u95ed\u5305\u7c7b\u5b9e\u4f8b\nIL_0046:  ldfld       UserQuery+Program1+&lt;&gt;c__DisplayClass0_0.a  // \u83b7\u53d6\u95ed\u5305\u7684a\u5b57\u6bb5\nIL_004B:  ldloc.1     // \u52a0\u8f7d\u53d8\u91cfb1\nIL_004C:  stfld       UserQuery+A.b  // \u8bbe\u7f6ea.b = b1\nIL_0051:  ldloc.0     // \u52a0\u8f7d\u95ed\u5305\u7c7b\u5b9e\u4f8b\nIL_0052:  ldloc.0     // \u518d\u6b21\u52a0\u8f7d\u95ed\u5305\u7c7b\u5b9e\u4f8b\nIL_0053:  ldfld       UserQuery+Program1+&lt;&gt;c__DisplayClass0_0.a  // \u83b7\u53d6\u95ed\u5305\u7684a\u5b57\u6bb5\nIL_0058:  ldfld       UserQuery+A.b  // \u83b7\u53d6a.b\u5b57\u6bb5\nIL_005D:  stfld       UserQuery+Program1+&lt;&gt;c__DisplayClass0_0.c  // \u8bbe\u7f6e\u95ed\u5305\u7684c\u5b57\u6bb5 = a.b\nIL_0062:  ldloc.0     // \u52a0\u8f7d\u95ed\u5305\u7c7b\u5b9e\u4f8b\nIL_0063:  ldftn       UserQuery+Program1+&lt;&gt;c__DisplayClass0_0.&lt;Main&gt;b__0  // \u52a0\u8f7d\u65b9\u6cd5\u6307\u9488\nIL_0069:  newobj      System.Action..ctor  // \u521b\u5efaAction\u59d4\u6258\nIL_006E:  stloc.s     04  // \u5b58\u50a8\u5230\u672c\u5730\u53d8\u91cf4 (closure)\nIL_0070:  ldloc.s     04  // \u52a0\u8f7dclosure\nIL_0072:  callvirt    System.Action.Invoke  // \u8c03\u7528Action\uff08\u7b2c\u4e00\u6b21\u6267\u884c\uff09\nIL_0077:  nop         // \u7a7a\u64cd\u4f5c\nIL_0078:  ldloc.0     // \u52a0\u8f7d\u95ed\u5305\u7c7b\u5b9e\u4f8b\nIL_0079:  ldfld       UserQuery+Program1+&lt;&gt;c__DisplayClass0_0.a  // \u83b7\u53d6\u95ed\u5305\u7684a\u5b57\u6bb5\nIL_007E:  ldloc.2     // \u52a0\u8f7d\u53d8\u91cfb2\nIL_007F:  stfld       UserQuery+A.b  // \u8bbe\u7f6ea.b = b2\nIL_0084:  ldloc.s     04  // \u52a0\u8f7dclosure\nIL_0086:  callvirt    System.Action.Invoke  // \u8c03\u7528Action\uff08\u7b2c\u4e8c\u6b21\u6267\u884c\uff09\nIL_008B:  nop         // \u7a7a\u64cd\u4f5c\nIL_008C:  ldloc.0     // \u52a0\u8f7d\u95ed\u5305\u7c7b\u5b9e\u4f8b\nIL_008D:  ldfld       UserQuery+Program1+&lt;&gt;c__DisplayClass0_0.a  // \u83b7\u53d6\u95ed\u5305\u7684a\u5b57\u6bb5\nIL_0092:  ldloc.3     // \u52a0\u8f7d\u53d8\u91cfb3\nIL_0093:  stfld       UserQuery+A.b  // \u8bbe\u7f6ea.b = b3\nIL_0098:  ldloc.s     04  // \u52a0\u8f7dclosure\nIL_009A:  callvirt    System.Action.Invoke  // \u8c03\u7528Action\uff08\u7b2c\u4e09\u6b21\u6267\u884c\uff09\nIL_009F:  nop         // \u7a7a\u64cd\u4f5c\nIL_00A0:  ret         // \u8fd4\u56de\n\nProgram1..ctor:\nIL_0000:  ldarg.0     // \u5c06this\u5f15\u7528\u538b\u5165\u6808\nIL_0001:  call        System.Object..ctor  // \u8c03\u7528Object\u6784\u9020\u51fd\u6570\nIL_0006:  nop         // \u7a7a\u64cd\u4f5c\nIL_0007:  ret         // \u8fd4\u56de\n\n&lt;&gt;c__DisplayClass0_0.&lt;Main&gt;b__0:\nIL_0000:  nop         // \u7a7a\u64cd\u4f5c\nIL_0001:  ldarg.0     // \u5c06this\u5f15\u7528\u538b\u5165\u6808\nIL_0002:  ldfld       UserQuery+Program1+&lt;&gt;c__DisplayClass0_0.c  // \u83b7\u53d6\u95ed\u5305\u7684c\u5b57\u6bb5\nIL_0007:  callvirt    System.Object.ToString  // \u8c03\u7528ToString\u65b9\u6cd5\nIL_000C:  call        System.Console.WriteLine  // \u8c03\u7528Console.WriteLine\u8f93\u51fac\u5b57\u6bb5\nIL_0011:  nop         // \u7a7a\u64cd\u4f5c\nIL_0012:  ldarg.0     // \u5c06this\u5f15\u7528\u538b\u5165\u6808\nIL_0013:  ldfld       UserQuery+Program1+&lt;&gt;c__DisplayClass0_0.a  // \u83b7\u53d6\u95ed\u5305\u7684a\u5b57\u6bb5\nIL_0018:  ldfld       UserQuery+A.b  // \u83b7\u53d6a.b\u5b57\u6bb5\nIL_001D:  callvirt    System.Object.ToString  // \u8c03\u7528ToString\u65b9\u6cd5\nIL_0022:  call        System.Console.WriteLine  // \u8c03\u7528Console.WriteLine\u8f93\u51faa.b\u5b57\u6bb5\nIL_0027:  nop         // \u7a7a\u64cd\u4f5c\nIL_0028:  call        System.Console.WriteLine  // \u8c03\u7528Console.WriteLine\u8f93\u51fa\u7a7a\u884c\nIL_002D:  nop         // \u7a7a\u64cd\u4f5c\nIL_002E:  ret         // \u8fd4\u56de\n\n&lt;&gt;c__DisplayClass0_0..ctor:\nIL_0000:  ldarg.0     // \u5c06this\u5f15\u7528\u538b\u5165\u6808\nIL_0001:  call        System.Object..ctor  // \u8c03\u7528Object\u6784\u9020\u51fd\u6570\nIL_0006:  nop         // \u7a7a\u64cd\u4f5c\nIL_0007:  ret         // \u8fd4\u56de\n</code></pre> <p>\u6700\u540e\u4e24\u4e2a IL \u4ee3\u7801\u5757 <code>&lt;&gt;c__DisplayClass0_0.&lt;Main&gt;b__0</code> \u548c <code>&lt;&gt;c__DisplayClass0_0..ctor</code> \u8868\u660e\uff0cC# \u5728\u7f16\u8bd1 IL \u65f6\uff0c\u4e3a\u95ed\u5305\u751f\u6210\u4e86\u4e00\u4e2a\u533f\u540d\u7684 Class \uff0c\u540c\u65f6\u95ed\u5305\u88ab\u6784\u5efa\u4e3a\u8be5\u7c7b\u7684\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u6355\u83b7\u4e86\u53d8\u91cf c \u5f53\u65f6\u6307\u5411\u7684\u5185\u5b58\u5730\u5740\uff0c\u4e5f\u5c31\u662f b1 \u7684\u5185\u5b58\u5730\u5740\u3002\u5728\u540e\u7eed\u6539\u53d8 a.b \u6307\u5411\u7684\u5185\u5b58\u5730\u5740\u65f6\uff0c\u5e76\u4e0d\u4f1a\u5f71\u54cd\u95ed\u5305\u4e2d\u7684\u53d8\u91cf\uff0c\u5173\u952e\u4ee3\u7801\u662f\u5982\u4e0b\uff1a</p> Text Only<pre><code>Program1.Main:\n...\nIL_005D:  stfld       UserQuery+Program1+&lt;&gt;c__DisplayClass0_0.c  // \u8bbe\u7f6e\u95ed\u5305\u7684c\u5b57\u6bb5 = a.b\n...\n\n&lt;&gt;c__DisplayClass0_0.&lt;Main&gt;b__0:\n...\nIL_0002:  ldfld       UserQuery+Program1+&lt;&gt;c__DisplayClass0_0.c  // \u83b7\u53d6\u95ed\u5305\u7684c\u5b57\u6bb5\n...\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#_2","title":"\u95ed\u5305\u548c\u533f\u540d\u51fd\u6570","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#anonymous-function","title":"\u533f\u540d\u51fd\u6570\uff08Anonymous Function\uff09","text":"<p>\u5b9a\u4e49\uff1a \u533f\u540d\u51fd\u6570\u662f\u6ca1\u6709\u540d\u5b57\u7684\u51fd\u6570\uff0c\u5728\u5b9a\u4e49\u7684\u5730\u65b9\u76f4\u63a5\u4f7f\u7528\u3002</p> <p>\u7279\u70b9\uff1a - \u6ca1\u6709\u51fd\u6570\u540d - \u901a\u5e38\u7528\u4e8e\u4e00\u6b21\u6027\u4f7f\u7528 - \u8bed\u6cd5\u7b80\u6d01 - \u53ef\u4ee5\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012</p> <p>C# \u4e2d\u7684\u533f\u540d\u51fd\u6570\u5f62\u5f0f\uff1a </p>C#<pre><code>// \u533f\u540d\u65b9\u6cd5\uff08C# 2.0\uff09\ndelegate(int x) { return x * 2; }\n\n// Lambda\u8868\u8fbe\u5f0f\uff08C# 3.0+\uff09\u4e5f\u662f\u4e00\u79cd\u533f\u540d\u51fd\u6570\nx =&gt; x * 2\n(x, y) =&gt; x + y\n() =&gt; Console.WriteLine(\"Hello\")\n</code></pre><p></p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#closure","title":"\u95ed\u5305\uff08Closure\uff09","text":"<p>\u5b9a\u4e49\uff1a \u95ed\u5305\u662f\u51fd\u6570\u4e0e\u5176\u5468\u56f4\u72b6\u6001\uff08\u8bcd\u6cd5\u73af\u5883\uff09\u7684\u5f15\u7528\u6346\u7ed1\u5728\u4e00\u8d77\u7684\u7ec4\u5408\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u95ed\u5305\u8ba9\u4f60\u53ef\u4ee5\u5728\u51fd\u6570\u5185\u90e8\u8bbf\u95ee\u5916\u90e8\u51fd\u6570\u7684\u4f5c\u7528\u57df\u3002</p> <p>\u7279\u70b9\uff1a - \u53ef\u4ee5\u8bbf\u95ee\u5916\u90e8\u4f5c\u7528\u57df\u7684\u53d8\u91cf - \u8fd9\u4e9b\u53d8\u91cf\u5728\u5916\u90e8\u51fd\u6570\u6267\u884c\u5b8c\u540e\u4ecd\u7136\u5b58\u5728 - \u5f62\u6210\u4e86\u4e00\u4e2a\u5c01\u95ed\u7684\u73af\u5883 - \u53d8\u91cf\u7684\u751f\u547d\u5468\u671f\u88ab\u5ef6\u957f</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#_3","title":"\u6838\u5fc3\u533a\u522b","text":"\u65b9\u9762 \u533f\u540d\u51fd\u6570 \u95ed\u5305 \u672c\u8d28 \u8bed\u6cd5\u7279\u6027\uff08\u6ca1\u6709\u540d\u5b57\u7684\u51fd\u6570\uff09 \u884c\u4e3a\u7279\u6027\uff08\u6355\u83b7\u5916\u90e8\u53d8\u91cf\uff09 \u5173\u6ce8\u70b9 \u51fd\u6570\u7684\u5b9a\u4e49\u65b9\u5f0f \u53d8\u91cf\u7684\u4f5c\u7528\u57df\u548c\u751f\u547d\u5468\u671f \u5b9e\u73b0 \u7f16\u8bd1\u5668\u751f\u6210\u666e\u901a\u65b9\u6cd5 \u7f16\u8bd1\u5668\u751f\u6210\u989d\u5916\u7684\u7c7b\u6765\u4fdd\u5b58\u53d8\u91cf \u6027\u80fd \u8f7b\u91cf\u7ea7 \u53ef\u80fd\u6709\u989d\u5916\u7684\u5185\u5b58\u5f00\u9500"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#_4","title":"\u5b9e\u9645\u4f8b\u5b50\u5bf9\u6bd4","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#1","title":"1. \u7eaf\u533f\u540d\u51fd\u6570\uff08\u65e0\u95ed\u5305\uff09","text":"C#<pre><code>Func&lt;int, int&gt; multiply = x =&gt; x * 2;  // \u533f\u540d\u51fd\u6570\uff0c\u4f46\u6ca1\u6709\u95ed\u5305\n</code></pre> <p>\u7f16\u8bd1\u540e\u7684IL\u76f8\u5bf9\u7b80\u5355\uff0c\u4e0d\u9700\u8981\u989d\u5916\u7684\u7c7b\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#2","title":"2. \u533f\u540d\u51fd\u6570 + \u95ed\u5305","text":"C#<pre><code>int factor = 10;\nFunc&lt;int, int&gt; multiply = x =&gt; x * factor;  // \u533f\u540d\u51fd\u6570 + \u95ed\u5305\n</code></pre> <p>\u8fd9\u91cc\u65e2\u6709\u533f\u540d\u51fd\u6570\uff08Lambda\u8868\u8fbe\u5f0f\uff09\uff0c\u53c8\u6709\u95ed\u5305\uff08\u6355\u83b7\u4e86\u5916\u90e8\u53d8\u91cf<code>factor</code>\uff09\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#3-il","title":"3. \u4ece\u521a\u624d\u7684IL\u4ee3\u7801\u5206\u6790","text":"C#<pre><code>var a = new A();\n// ... \u521b\u5efab1, b2, b3 ...\n\nAction closure = () =&gt; {\n    Console.WriteLine(c);        // \u95ed\u5305\uff1a\u6355\u83b7\u4e86\u53d8\u91cfc\n    Console.WriteLine(a.b);      // \u95ed\u5305\uff1a\u6355\u83b7\u4e86\u53d8\u91cfa\n    Console.WriteLine();\n};\n</code></pre> <p>\u8fd9\u91cc\u53d1\u751f\u4e86\u4ec0\u4e48\uff1a</p> <ul> <li><code>() =&gt; { ... }</code> \u662f\u533f\u540d\u51fd\u6570\uff08Lambda\u8868\u8fbe\u5f0f\uff09</li> <li>\u4f46\u5b83\u6355\u83b7\u4e86\u5916\u90e8\u53d8\u91cf<code>c</code>\u548c<code>a</code>\uff0c\u6240\u4ee5\u5f62\u6210\u4e86\u95ed\u5305</li> <li>\u7f16\u8bd1\u5668\u751f\u6210\u4e86<code>&lt;&gt;c__DisplayClass0_0</code>\u7c7b\u6765\u4fdd\u5b58\u8fd9\u4e9b\u6355\u83b7\u7684\u53d8\u91cf</li> </ul>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#_5","title":"\u7f16\u8bd1\u5668\u5b9e\u73b0\u673a\u5236","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#_6","title":"\u533f\u540d\u51fd\u6570\uff08\u65e0\u95ed\u5305\uff09","text":"C#<pre><code>// \u539f\u59cb\u4ee3\u7801\nAction simple = () =&gt; Console.WriteLine(\"Hello\");\n\n// \u7f16\u8bd1\u5668\u751f\u6210\u7c7b\u4f3c\u8fd9\u6837\u7684\u4ee3\u7801\nprivate static void &lt;Main&gt;b__0() {\n    Console.WriteLine(\"Hello\");\n}\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#_7","title":"\u95ed\u5305","text":"C#<pre><code>// \u539f\u59cb\u4ee3\u7801\nstring message = \"Hello\";\nAction closure = () =&gt; Console.WriteLine(message);\n\n// \u7f16\u8bd1\u5668\u751f\u6210\u7c7b\u4f3c\u8fd9\u6837\u7684\u4ee3\u7801\nprivate class &lt;&gt;c__DisplayClass0_0 {\n    public string message;\n    public void &lt;Main&gt;b__0() {\n        Console.WriteLine(message);\n    }\n}\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#_8","title":"\u5b9e\u9645\u5e94\u7528\u573a\u666f","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#_9","title":"\u533f\u540d\u51fd\u6570\u9002\u7528\u573a\u666f\uff1a","text":"C#<pre><code>// \u4e8b\u4ef6\u5904\u7406\nbutton.Click += (sender, e) =&gt; MessageBox.Show(\"Clicked!\");\n\n// LINQ\nvar result = numbers.Where(x =&gt; x &gt; 5).Select(x =&gt; x * 2);\n\n// \u56de\u8c03\u51fd\u6570\nTask.Run(() =&gt; DoSomething());\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#_10","title":"\u95ed\u5305\u9002\u7528\u573a\u666f\uff1a","text":"C#<pre><code>// \u5de5\u5382\u51fd\u6570\nFunc&lt;int, int&gt; CreateMultiplier(int factor) {\n    return x =&gt; x * factor;  // \u95ed\u5305\u6355\u83b7factor\n}\n\n// \u72b6\u6001\u4fdd\u6301\nint counter = 0;\nAction increment = () =&gt; counter++;  // \u95ed\u5305\u6355\u83b7counter\n\n// \u914d\u7f6e\u4fdd\u5b58\nstring connectionString = GetConnectionString();\nAction&lt;string&gt; saveData = data =&gt; {\n    // \u95ed\u5305\u6355\u83b7connectionString\n    SaveToDatabase(connectionString, data);\n};\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/CSharp/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/#_11","title":"\u603b\u7ed3","text":"<ul> <li>\u533f\u540d\u51fd\u6570 \u662f\u8bed\u6cd5\u7cd6\uff0c\u8ba9\u4ee3\u7801\u66f4\u7b80\u6d01</li> <li>\u95ed\u5305 \u662f\u529f\u80fd\u7279\u6027\uff0c\u8ba9\u51fd\u6570\u80fd\u591f\u8bbf\u95ee\u5916\u90e8\u53d8\u91cf</li> <li>\u5b83\u4eec\u7ecf\u5e38\u540c\u65f6\u51fa\u73b0\uff0c\u4f46\u662f\u72ec\u7acb\u7684\u6982\u5ff5</li> <li>\u4f60\u53ef\u4ee5\u6709\uff1a</li> <li>\u533f\u540d\u51fd\u6570\u4f46\u65e0\u95ed\u5305</li> <li>\u6709\u540d\u51fd\u6570\u4f46\u6709\u95ed\u5305</li> <li>\u533f\u540d\u51fd\u6570 + \u95ed\u5305\uff08\u6700\u5e38\u89c1\uff09</li> </ul> <p>\u5728\u521a\u624d\u7684IL\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u770b\u5230\u7684\u662f\u533f\u540d\u51fd\u6570\u548c\u95ed\u5305\u7684\u7ec4\u5408\uff1a\u7f16\u8bd1\u5668\u4e3a\u95ed\u5305\u751f\u6210\u4e86\u4e13\u95e8\u7684\u7c7b\u6765\u4fdd\u5b58\u6355\u83b7\u7684\u53d8\u91cf\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u4f1a\u6709<code>&lt;&gt;c__DisplayClass0_0</code>\u8fd9\u6837\u7684\u7c7b\u5b58\u5728\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/01_Lua%E6%95%B0%E5%80%BC/","title":"01.Lua\u6570\u503c","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/01_Lua%E6%95%B0%E5%80%BC/#_1","title":"\u4e00\u3001\u5341\u516d\u8fdb\u5236\u6570\u7684\u8868\u793a","text":"Lua<pre><code>--\u6ce8\u610fp\u4ee3\u88682\u7684\u5e42\uff0c\u5e26p\u7684\u8fd9\u79cd\u683c\u5f0f\u7684\u53ef\u8bfb\u6027\u5f88\u5dee\uff0c\u4f46\u662f\u53ef\u4ee5\u4fdd\u7559\u6240\u6709\u6d6e\u70b9\u6570\u7684\u7cbe\u5ea6\uff0c\u5e76\u4e14\u8f6c\u6362\u6210\u5341\u516d\u8fdb\u5236\u6bd4\u5341\u8fdb\u5236\u66f4\u5feb\n\n--0x0.2 = 2 / 16 = 0.125\nprint(0x0.2)\n\n--0x1p-1 = 1 x 2 ^ -1 = 0.5\nprint(0x1p-1)\n\n--0xa.bp2 = (10 + 11 / 16) x 2 ^ 2 = 42.75\nprint(0xa.bp2)\n\n--\u5c06\u5341\u8fdb\u5236\u6570\u6309\u5341\u516d\u8fdb\u5236\u683c\u5f0f\u5316\u8f93\u51fa\nprint(string.format(\"%a\", 419))\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/01_Lua%E6%95%B0%E5%80%BC/#lua53integer","title":"\u4e8c\u3001Lua5.3\u5f15\u5165\u4e86\u6574\u6570\u7c7b\u578binteger","text":"Lua<pre><code>--type\u7edf\u4e00\u8ba4\u4e3a\u662fnumber\uff08\u6570\u503c\u7c7b\u578b\uff09\nprint(\"type:\", type(3.0))    --number\nprint(\"type:\", type(3))      --number\n\n--math.type\u4f1a\u533a\u5206integer\u548cfloat\uff08Lua5.3\u5f15\u5165\uff0c\u6ce8\u610f\u5bf9\u4e8eLua\u6765\u8bf4float\u8868\u793a\u7684\u662f\u53cc\u7cbe\u5ea6\uff09\nprint(\"math.type:\", math.type(3.0))    --integer\nprint(\"math.type:\", math.type(3))      --float\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/01_Lua%E6%95%B0%E5%80%BC/#lua53floor","title":"\u4e09\u3001Lua5.3\u5f15\u5165\u7684\u65b0\u8fd0\u7b97\u7b26\uff1a//\uff08floor\u9664\u6cd5\uff09","text":"Lua<pre><code>--\u7ed3\u679c\u662f-5\uff08-9 / 2 = -4.5\uff0c\u5411\u4e0b\u53d6\u6574-5\uff09\nprint(-9 // 2)\n\n--\u8fd9\u4fe9\u7b49\u6548\nprint(100 % 32)\nprint(100 - (100 // 32) * 32)\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/01_Lua%E6%95%B0%E5%80%BC/#_2","title":"\u56db\u3001\u4e24\u79cd\u53d6\u6a21\u8fd0\u7b97\u7684\u7ec6\u8282","text":"Lua<pre><code>--Lua\u4e2d\u53d6\u6a21\u8fd0\u7b97\u90fd\u662f\u5148\u8ba1\u7b97\u5546\u7136\u540e\u901a\u8fc7\u5546\u5f97\u5230\u4f59\u6570\uff0c%\u548cmath.fmod\u8fd9\u4fe9\u7684\u533a\u522b\u5728\u4e8e\u5bf9\u5546\u7684\u8ba1\u7b97\u4e0d\u540c\n\n-- \u5546 = math.floor(-2 / 3) = -1\uff0c\u6240\u4ee5\u4f59\u6570 = -2 - (-1 * 3) = 1\nprint(-2 % 3)\n-- \u5546 = (-2 / 3)\u54110\u53d6\u6574\uff08\u6ce8\u610f\u4e0d\u662f\u5411\u4e0a\u4e5f\u4e0d\u662f\u5411\u4e0b\uff09= 0\uff0c\u6240\u4ee5\u4f59\u6570 = -2\nprint(math.fmod(-2, 3))\n\n--\u5bb9\u6613\u6df7\u6dc6\u7684\u4e00\u4e2a\u5e93\u51fd\u6570math.modf\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u5c06\u4e00\u4e2a\u6d6e\u70b9\u6570\u5206\u4e3a\u6574\u6570\u90e8\u5206\u548c\u5c0f\u6570\u90e8\u5206\n--\u6ce8\u610f\u5f97\u5230\u7684\u503c\u7b26\u53f7\u76f8\u540c\uff0c\u4e00\u5b9a\u662f\u6574\u6570\u90e8\u5206 + \u5c0f\u6570\u90e8\u5206 = \u539f\u6765\u7684\u6570\nprint(math.modf(-3.3))    --\u8f93\u51fa-3    -0.3\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/01_Lua%E6%95%B0%E5%80%BC/#lua","title":"\u4e94\u3001Lua\u6570\u503c\u7c7b\u578b\u7684\u8868\u793a\u8303\u56f4","text":"Lua<pre><code>--Lua\u4e2d\u4e0d\u7ba1\u662f\u6574\u578b\u8fd8\u662f\u6d6e\u70b9\u6570\u90fd\u752864\u4e2abit\u6765\u5b58\u50a8\uff08\u6240\u4ee5Lua\u7684\u6d6e\u70b9\u6570\u4e5f\u662f\u53cc\u7cbe\u5ea6\uff0c\u4f46\u662f\u7c7b\u578b\u662ffloat\uff09\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u6574\u578b\u6709\u56de\u73af\u7279\u5f81\nmath.maxinteger + 1 == math.mininteger    --&gt;true\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/01_Lua%E6%95%B0%E5%80%BC/#_3","title":"\u516d\u3001\u4e00\u4e9b\u5e38\u7528\u7684\u8ba1\u7b97\u6280\u5de7","text":"Lua<pre><code>---\u4fdd\u7559\u5230\u5c0f\u6570\u70b9\u540e\u7b2c\u51e0\u4f4d\nfunction Percision()\n    local x = math.pi\n    print(x - x % 0.01)    --3.14\n    print(x - x % 0.001)   --3.141\nend\n\n---\u56db\u820d\u4e94\u5165\nfunction NearestInteger()\n    --math.floor(x + 0.5)\n    print(math.floor(0.4 + 0.5))   --0\n    print(math.floor(0.5 + 0.5))   --1\nend\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/02_Lua%E5%AD%97%E7%AC%A6%E4%B8%B2/","title":"02.Lua\u5b57\u7b26\u4e32","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/02_Lua%E5%AD%97%E7%AC%A6%E4%B8%B2/#_1","title":"\u4e00\u3001\u5b57\u7b26","text":"<p>Lua\u4e2d\u5355\u4e2a\u5b57\u7b26\u4f7f\u75288\u4e2a\u6bd4\u7279\u4f4d\uff081\u4e2aByte\uff09\u6765\u5b58\u50a8\uff0c\u6240\u4ee5#\u53f7\u53d6\u7684\u662f\u5b57\u7b26\u4e32\u7684\u4e2a\u6570\uff0c\u540c\u65f6\u4e5f\u662f\u5b57\u7b26\u4e32\u5360\u7528\u7684\u5b57\u8282\u6570</p> Lua<pre><code>print(#\"good bye\")    --&gt; 8\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/02_Lua%E5%AD%97%E7%AC%A6%E4%B8%B2/#number","title":"\u4e8c\u3001\u5b57\u7b26\u4e32\u8f6cnumber","text":"Lua<pre><code>--\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6807\u660e\u6309x\u8fdb\u5236\u6765\u8f6c\u6362\ntonumber(\"fff\", 16)    --&gt; 4095\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/02_Lua%E5%AD%97%E7%AC%A6%E4%B8%B2/#stringformat","title":"\u4e09\u3001string.format","text":"<p>\u4e00\u4e2a\u6307\u793a\u7b26\u7684\u7ed3\u6784\uff1a%\u52a0\u4e0a\u4e00\u4e2a\u5b57\u6bcd</p> <ul> <li>%d\uff1a\u4e00\u4e2a\u5341\u8fdb\u5236\u6574\u6570</li> <li>%x\uff1a\u4e00\u4e2a\u5341\u516d\u8fdb\u5236\u6574\u6570</li> <li>%f\uff1a\u4e00\u4e2a\u6d6e\u70b9\u6570</li> <li>%s\uff1a\u4e00\u4e2a\u5b57\u7b26\u4e32</li> </ul>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/02_Lua%E5%AD%97%E7%AC%A6%E4%B8%B2/#_2","title":"\u56db\u3001\u5176\u4ed6\u5b57\u7b26\u4e32\u5e93\u51fd\u6570","text":"<p>\u53c2\u9605\uff1ahttps://www.lua.org/manual/5.4/manual.html#6.4</p> <p>Warning</p> <p>\u6ce8\u610f\uff1a\u6709\u7684\u51fd\u6570\u4e0d\u9002\u7528\u4e8eUTF-8\u7f16\u7801\u7684\u5b57\u7b26\u4e32\uff0c\u56e0\u4e3aUTF-8\u7f16\u7801\u7684\u4e00\u4e2a\u5b57\u7b26\u4e0d\u662f\u5355\u4e2a\u5b57\u8282\uff0c\u800c\u662f\u591a\u4e2a\u5b57\u8282\uff0c\u6216\u8005\u8bf4\u5b57\u8282\u5e8f\u5217\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/03_Lua%E5%87%BD%E6%95%B0/","title":"03.Lua\u51fd\u6570","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/03_Lua%E5%87%BD%E6%95%B0/#_1","title":"\u4e00\u3001\u53ef\u53d8\u957f\u53c2\u6570","text":"<p>\u7528\u7b26\u53f7...\u8868\u793a</p> Lua<pre><code>--\u8868\u793a\u7528a\u548cb\u5b58\u50a8...\u53c2\u6570\u7684\u524d\u4e24\u4e2a\u5143\u7d20\nlocal a, b = ...\n\n--select\u51fd\u6570\n--\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3aselector\uff0c\u8868\u793a\u8fd4\u56de\u53c2\u6570\u5217\u8868\u7b2cn\u4e2a\u53c2\u6570\u540e\u7684\u6240\u6709\u5143\u7d20\nprint(select(2, \"a\", \"b\", \"c\"))    --&gt; b    c\n--selector\u4e3a\u5b57\u7b26\u4e32\"#\"\u65f6\uff0c\u8868\u793a\u8fd4\u56de\u53c2\u6570\u4e2a\u6570\nprint(select(\"#\", \"a\", \"b\", \"c\"))  --&gt; 3\n--\u53ef\u7528\u4e8e\u53d6\u53ef\u53d8\u957f\u53c2\u6570\u4e2a\u6570\nselect(\"#\", ...)\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/Lua%E5%9F%BA%E7%A1%80/03_Lua%E5%87%BD%E6%95%B0/#_2","title":"\u4e8c\u3001\u6b63\u786e\u7684\u5c3e\u8c03\u7528","text":"<p>\u5f62\u5982\u4e0b\u65b9\uff1a </p>Lua<pre><code>function f(x)\n    x = x + 1\n    return g(x)\nend\n</code></pre><p></p> <p>\u5f53\u51fd\u6570\u6700\u540e\u4e00\u4e2a\u52a8\u4f5c\u662f\u8fd4\u56de\u8c03\u7528\u53e6\u5916\u4e00\u4e2a\u51fd\u6570\u800c\u6ca1\u6709\u518d\u8fdb\u884c\u5176\u4ed6\u5de5\u4f5c\u65f6\uff0c\u5c31\u5f62\u6210\u4e86\u5c3e\u8c03\u7528\u3002\u5728g\u8fd4\u56de\u65f6\uff0c\u7a0b\u5e8f\u7684\u6267\u884c\u8def\u5f84\u4f1a\u76f4\u63a5\u8fd4\u56de\u5230\u8c03\u7528f\u7684\u4f4d\u7f6e\u3002\u6240\u4ee5\u5728\u8fdb\u884c\u5c3e\u8c03\u7528\u65f6\uff0c\u4e0d\u4f7f\u7528\u4efb\u4f55\u989d\u5916\u7684\u6808\u7a7a\u95f4\uff0c\u6240\u4ee5\u4e00\u4e2a\u7a0b\u5e8f\u4e2d\u80fd\u5d4c\u5957\u7684\u5c3e\u8c03\u7528\u6570\u91cf\u662f\u65e0\u9650\u7684\uff0c\u8fd9\u6837\u8c03\u7528\u6c38\u8fdc\u4e0d\u4f1a\u53d1\u751f\u6808\u6ea2\u51fa\u3002</p> <p>\u4e0d\u662f\u5c3e\u8c03\u7528\u7684\u60c5\u51b5\uff1a </p>Lua<pre><code>--\u76f8\u5f53\u4e8e return nil\uff0c\u5e76\u6ca1\u6709\u5c3e\u8c03\u7528\nfunction f(x)\n    g(x)\nend\n\n--[[\n\u76f8\u5f53\u4e8e:\nlocal y = g(x)\nreturn y + 1\n]]\nreturn g(x) + 1\n\nreturn x or g(x)\n\nreturn (g(x))\n</code></pre><p></p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/00_%E6%A6%82%E8%A7%88/0_1_%E6%A6%82%E8%A7%88/","title":"0.1 \u6982\u89c8","text":"<p>\u53c2\u8003\uff1a\u4e91\u98ce\u7684\u300aLua\u6e90\u7801\u6b23\u8d4f\u300b</p> <p>\u4ed6\u5728\u4e66\u4e2d\u5c06\u6e90\u7801\u5206\u4e3a\u56db\u4e2a\u90e8\u5206\uff1a</p> <ul> <li>\u6838\u5fc3</li> <li>\u4ee3\u7801\u7ffb\u8bd1\u53ca\u9884\u7f16\u8bd1\u5b57\u8282\u7801</li> <li>\u5185\u5d4c\u5e93</li> <li>\u72ec\u7acb\u89e3\u6790\u5668\u53ca\u5b57\u8282\u7801\u7f16\u8bd1\u5668</li> </ul> <p>\u5e76\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5efa\u8bae\u9605\u8bfb\u987a\u5e8f\uff08\u6765\u81eaLuaJIT\u7684\u4f5c\u8005Mike Pall\uff09\uff1a</p> <ul> <li>\u9605\u8bfb\u5916\u56f4\u7684\u5e93\u662f\u5982\u4f55\u5b9e\u73b0\u529f\u80fd\u6269\u5c55\u7684</li> <li>\u9605\u8bfb API \u7684\u5177\u4f53\u5b9e\u73b0</li> <li>\u4e86\u89e3 Lua VM \u7684\u5b9e\u73b0</li> <li>\u5206\u522b\u7406\u89e3\u51fd\u6570\u8c03\u7528\u3001\u8fd4\u56de\uff0cstring \u3001table \u3001metatable \u7b49\u5982\u4f55\u5b9e\u73b0</li> <li>debug \u6a21\u5757</li> <li>parser \u7b49\u7b49\u7f16\u8bd1\u76f8\u5173\u7684\u90e8\u5206</li> <li>\u5783\u573e\u6536\u96c6</li> </ul> <p>\u4e0e\u539f\u6587\u4e2d\u7684 5.2 \u7248\u672c\u4e0d\u540c\uff0c\u672c\u6587\u662f\u57fa\u4e8e Lua 5.4.4 \u7248\u672c\uff0c\u7ed3\u5408\u4e86\u4e2a\u4eba\u7406\u89e3\u5199\u6210\uff0c\u4ec5\u4f9b\u53c2\u8003</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/01_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98/1_1_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/","title":"1.1 \u5168\u5c40\u72b6\u6001\u673a\u53ca\u5185\u5b58\u7ba1\u7406","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/01_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98/1_1_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#lual_newstate","title":"luaL_newstate","text":"<p>\u4ece\u521b\u5efaLua\u865a\u62df\u673a\u7684\u51fd\u6570 <code>luaL_newstate</code> \u5165\u624b\uff0c\u8fd9\u4e2a\u51fd\u6570\u53ef\u80fd\u662f\u5916\u90e8\u6700\u5e38\u89c1\u7684\u51fd\u6570\u4e4b\u4e00\uff0c\u5b83\u65e0\u9700\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u6307\u5411 lua_State \u7c7b\u578b\u5185\u5b58\u5730\u5740\u7684\u6307\u9488\uff0c\u5728xLua\u4e2d\uff0c\u5b83\u5bf9\u5e94\u5982\u4e0b\u63a5\u53e3\u58f0\u660e\uff1a</p> C#<pre><code>// LuaDLL.cs\n\n[DllImport(LUADLL, CallingConvention = CallingConvention.Cdecl)]\npublic static extern IntPtr luaL_newstate();\n</code></pre> <p><code>luaL_newstate</code> \u7684\u6e90\u7801\u7247\u6bb5\u5982\u4e0b\uff0c\u6ce8\u610f\u5b83\u7684\u51fd\u6570\u7b7e\u540d\uff0c\u548cC#\u4e2d\u58f0\u660e\u52a8\u6001\u94fe\u63a5\u5e93\u65f6\u7684\u7b7e\u540d\u662f\u4e00\u81f4\u7684\uff1a</p> C<pre><code>/* lauxlib.c */\n\nLUALIB_API lua_State *luaL_newstate (void) {\n  lua_State *L = lua_newstate(l_alloc, NULL);\n  if (l_likely(L)) {\n    lua_atpanic(L, &amp;panic);\n    lua_setwarnf(L, warnfoff, L);  /* default is warnings off */\n  }\n  return L;\n}\n</code></pre> <p>\u5206\u6790\u8fd9\u6bb5\u6e90\u7801\uff1a</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/01_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98/1_1_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#1lualib_api","title":"1\u3001LUALIB_API\u662f\u4ec0\u4e48\uff1f","text":"<p>\u8df3\u8f6c\u5230\u5b9a\u4e49\uff0c\u53ef\u4ee5\u53d1\u73b0Lua\u5bf9API\u7684\u5c01\u88c5\u5206\u4e3a\u4e86\u4ee5\u4e0b\u4e09\u4e2a\u7b49\u7ea7\uff1a</p> <ul> <li>LUA_API\uff1a\u6838\u5fc3API</li> <li>LUALIB_API\uff1a\u8f85\u52a9\u5e93\u51fd\u6570</li> <li>LUAMOD_API\uff1a\u6807\u51c6\u5e93\u5f00\u653e\u51fd\u6570</li> </ul> <p>\u4f46\u5b9e\u9645\u7684\u5b9a\u4e49\uff0c\u540e\u4e24\u8005\u90fd\u540cLUA_API\uff08More often than not the libs go together with the core. \u5f88\u591a\u65f6\u5019\uff0c\u5e93\u4e0e\u6838\u5fc3\u7ed3\u5408\u5728\u4e00\u8d77\u3002\uff09</p> <p>\u5728\u7f16\u8bd1\u4e3a\u52a8\u6001\u94fe\u63a5\u5e93\uff08DLL\uff09\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b8f\u5b9a\u4e49\u51b3\u5b9a\u8be5\u6807\u8bb0\u7684\u51fd\u6570\u662f\u4eceDLL\u4e2d\u5bfc\u51fa\u8fd8\u662f\u4ece\u5176\u4ed6DLL\u4e2d\u5bfc\u5165\uff0c\u975eDLL\u7684\u60c5\u51b5\u4e0b\uff0c\u8868\u793a\u8be5\u7b26\u53f7\u6807\u8bb0\u7684\u51fd\u6570\u662f\u5916\u90e8\u7684\uff08<code>extern</code>\uff09</p> C<pre><code>/* luaconf.h */\n\n/*\n@@ LUA_API is a mark for all core API functions.\n@@ LUALIB_API is a mark for all auxiliary library functions.\n@@ LUAMOD_API is a mark for all standard library opening functions.\n** CHANGE them if you need to define those functions in some special way.\n** For instance, if you want to create one Windows DLL with the core and\n** the libraries, you may want to use the following definition (define\n** LUA_BUILD_AS_DLL to get it).\n*/\n#if defined(LUA_BUILD_AS_DLL)   /* { */    // \u7f16\u8bd1\u4e3a\u52a8\u6001\u94fe\u63a5\u5e93\n\n#if defined(LUA_CORE) || defined(LUA_LIB)   /* { */\n#define LUA_API __declspec(dllexport)      // \u4eceDLL\u4e2d\u5bfc\u51fa\n#else                       /* }{ */\n#define LUA_API __declspec(dllimport)      // \u4ece\u5176\u4ed6DLL\u4e2d\u5bfc\u5165\n#endif                      /* } */\n\n#else               /* }{ */\n\n#define LUA_API     extern                 // \u975eDLL\u7684\u60c5\u51b5\uff0c\u7b49\u6548\u4e8eextern\n\n#endif              /* } */\n\n\n/*\n** More often than not the libs go together with the core.\n*/\n#define LUALIB_API  LUA_API\n#define LUAMOD_API  LUA_API\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/01_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98/1_1_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#2-lua_state-l-lua_newstatel_alloc-null","title":"2\u3001\u4ece <code>lua_State *L = lua_newstate(l_alloc, NULL);</code> \u5f97\u5230\u7684\u4fe1\u606f\uff1f","text":"<p>lua_newstate\u662f\u6838\u5fc3\u5e93\u63d0\u4f9b\u7684\u51fd\u6570\uff0c\u63d0\u4f9b\u7ed9\u5916\u90e8\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u673a\u7684\u63a5\u53e3\uff0c\u4e5f\u5c31\u662f\u8bf4 <code>luaL_newstate</code> \u672c\u8d28\u4e0a\u5c31\u662f\u5bf9 <code>lua_newstate</code> \u505a\u4e86\u4e00\u6b21\u5c01\u88c5\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u66f4\u52a0\u65b9\u4fbf\u548c\u5e38\u7528\u7684\u7248\u672c\u3002lua_newstate\u5728\u672c\u6587\u540e\u9762\u4f1a\u5355\u72ec\u4f5c\u4e00\u6b21\u5206\u6790\uff0c\u8fd9\u91cc\u4e0d\u8d58\u8ff0\u3002</p> <p>\u6b64\u5916\uff0c<code>lua_newstate</code> \u8981\u6c42\u4f20\u5165\u4e00\u4e2a\u5185\u5b58\u7ba1\u7406\u51fd\u6570\uff0c\u8fd9\u91cc\u4f7f\u7528\u7684\u5185\u90e8\u5b9a\u4e49\u597d\u7684 <code>l_alloc</code> \u51fd\u6570\uff0c\u540c\u6837\u4e0b\u6587\u5177\u4f53\u5206\u6790\uff0c\u5148\u8df3\u8fc7\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/01_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98/1_1_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#3l_likely","title":"3\u3001<code>l_likely</code> \u662f\u4f55\u542b\u4e49\uff1f","text":"<p>\u8df3\u5230\u5b9a\u4e49\uff1a</p> C<pre><code>/* luaconf.h */\n\n/*\n** macros to improve jump prediction, used mostly for error handling\n** and debug facilities. (Some macros in the Lua API use these macros.\n** Define LUA_NOBUILTIN if you do not want '__builtin_expect' in your\n** code.)\n*/\n#if !defined(luai_likely)\n\n#if defined(__GNUC__) &amp;&amp; !defined(LUA_NOBUILTIN)\n#define luai_likely(x)      (__builtin_expect(((x) != 0), 1))\n#define luai_unlikely(x)    (__builtin_expect(((x) != 0), 0))\n#else\n#define luai_likely(x)      (x)\n#define luai_unlikely(x)    (x)\n#endif\n\n#endif\n\n\n#if defined(LUA_CORE) || defined(LUA_LIB)\n/* shorter names for Lua's own use */\n#define l_likely(x) luai_likely(x)\n#define l_unlikely(x)   luai_unlikely(x)\n#endif\n</code></pre> <p>\u5728\u7f16\u8bd1\u65f6\uff0c<code>l_likely</code> \u4ee3\u8868\u8be5\u6761\u4ef6\u5206\u652f\u7684\u7ed3\u679c\u5927\u6982\u7387\u4e3a\u771f\uff0c<code>l_unlikely</code> \u4ee3\u8868\u5927\u6982\u7387\u4e3a\u5047\uff0c\u7c7b\u4f3c\u4e8e\u65ad\u8a00\uff0c\u4f46\u53c8\u4e0d\u4e00\u6837\uff0c\u8fd9\u4fe9\u7684\u672c\u8d28\u662f <code>__builtin_expect</code>, \u4ee3\u8868\u4e86\u4e00\u79cd\u903b\u8f91\u671f\u671b\u3002</p> <p>\u4f7f\u7528\u5b83\u4eec\u7684\u76ee\u7684\u662f\u5e2e\u52a9\u7f16\u8bd1\u5668\u8fdb\u884c\u5206\u652f\u9884\u6d4b\u4f18\u5316\uff0c\u4ece\u800c\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6267\u884c\u6548\u7387\u3002\u901a\u8fc7\u544a\u77e5\u7f16\u8bd1\u5668\u54ea\u4e9b\u5206\u652f\u66f4\u53ef\u80fd\u88ab\u6267\u884c\uff0c\u6216\u8005\u54ea\u4e9b\u5206\u652f\u8f83\u5c11\u88ab\u6267\u884c\uff0c\u7f16\u8bd1\u5668\u53ef\u4ee5\u66f4\u6709\u6548\u5730\u5b89\u6392\u6307\u4ee4\u7684\u6267\u884c\uff0c\u51cf\u5c11\u56e0\u9519\u8bef\u9884\u6d4b\u800c\u5bfc\u81f4\u7684\u6027\u80fd\u635f\u5931\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/01_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98/1_1_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#4lua_atpanic-lua_setwarnf","title":"4\u3001<code>lua_atpanic</code> \u548c <code>lua_setwarnf</code>","text":"<p><code>lua_atpanic</code> \u5bf9\u65b0\u7684\u865a\u62df\u673a\u6ce8\u518c\u4e00\u4e2a\u51fd\u6570\uff0c\u5728 Lua \u9047\u5230\u81f4\u547d\u9519\u8bef\u65f6\uff08\u5982\u5185\u5b58\u5206\u914d\u5931\u8d25\u6216\u5176\u4ed6\u65e0\u6cd5\u6062\u590d\u7684\u9519\u8bef\uff09\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570</p> <p><code>lua_setwarnf</code> \u5bf9\u65b0\u7684\u865a\u62df\u673a\u6ce8\u518c\u4e00\u4e2a\u8b66\u544a\u51fd\u6570\uff0c\u5f53 Lua \u6267\u884c\u65f6\u4ea7\u751f\u8b66\u544a\u65f6\uff0c\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\u5c31\u4f1a\u88ab\u8c03\u7528\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/01_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98/1_1_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#l_alloc","title":"\u5185\u7f6e\u7684\u5185\u5b58\u7ba1\u7406\u51fd\u6570\uff08l_alloc\uff09","text":"<p>\u5148\u6765\u770b\u51fd\u6570\u7b7e\u540d\uff1a</p> C<pre><code>// lua.h\n\ntypedef void * (*lua_Alloc) (void *ud, void *ptr, size_t osize, size_t nsize);\n</code></pre> <ul> <li>ud\uff1a\u6307 userdata\uff0c\u4ee3\u8868\u4e00\u4e9blua\u65e0\u6cd5\u5b9a\u4e49\u7684\u5916\u90e8\u7ed3\u6784\u6216\u8005\u7c7b\u578b</li> <li>ptr\uff1a\u6307\u5411\u5f53\u524d\u8981\u66f4\u6539\u7684\u5185\u5b58\u8d77\u59cb\u5730\u5740\u7684\u6307\u9488</li> <li>osize\uff1a\u6307 old size\uff0c\u5f53\u524d\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u5757\u7684\u539f\u59cb\u5927\u5c0f</li> <li>nsize\uff1a\u6307 new size\uff0c\u5f53\u524d\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u5757\u7684\u65b0\u5927\u5c0f</li> </ul> <p>\u76f8\u6bd4C\u6807\u51c6\u5e93\u4e2d\u7684\u5185\u5b58\u5206\u914d\u51fd\u6570\uff0cLua\u7684\u5185\u5b58\u7ba1\u7406\u51fd\u6570\u4f1a\u989d\u5916\u7ed9\u51faosize\uff08\u5185\u5b58\u5757\u7684\u539f\u59cb\u5927\u5c0f\uff09\uff0c\u8fd9\u5bf9\u5b9a\u5236\u4e00\u4e2a\u9ad8\u6548\u7684\u81ea\u5b9a\u4e49\u5185\u5b58\u7ba1\u7406\u51fd\u6570\u6765\u8bf4\u975e\u5e38\u91cd\u8981\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u66f4\u52a0\u7cbe\u51c6\u5730\u8bbe\u8ba1\u548c\u8282\u7701\u5185\u5b58\u3002\uff08C\u6807\u51c6\u5e93\u7684\u5185\u5b58\u5206\u914d\u51fd\u6570\u4ec5\u5305\u542b\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u6307\u9488\u548c\u9700\u8981\u5206\u914d\u7684\u5927\u5c0f\uff0c\u8981\u505a\u5230\u7cbe\u51c6\u5b9a\u5236\uff0c\u4e00\u822c\u9700\u8981\u5728\u5185\u5b58\u5757\u7684\u524d\u9762\u52a0\u4e86\u4e00\u4e2acookie \uff0c\u628a\u5185\u5b58\u5757\u5c3a\u5bf8\u5b58\u653e\u5728\u91cc\u9762\uff09</p> <p>ud\u662f\u4e00\u4e2a\u989d\u5916\u7684\u6307\u9488\uff0c\u5141\u8bb8\u6211\u4eec\u5e26\u5165\u989d\u5916\u7684\u5904\u7406\u903b\u8f91\u3002\u6bd4\u5982\u8ba9\u5185\u5b58\u7ba1\u7406\u6a21\u5757\u5de5\u4f5c\u5728\u4e0d\u540c\u7684\u5806\u4e0a\u3002\u6070\u5f53\u7684\u5b9a\u5236\u5185\u5b58\u7ba1\u7406\u5668\uff0c\u5c31\u53ef\u4ee5\u56de\u907f\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u3002\u4e0d\u8003\u8651\u7ebf\u7a0b\u5b89\u5168\u7684\u56e0\u7d20\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba9\u5185\u5b58\u7ba1\u7406\u5de5\u4f5c\u66f4\u4e3a\u9ad8\u6548\u3002</p> <p>\u4eceLua5.2\u5f00\u59cb\uff0c\u5f53 ptr \u4f20\u5165 NULL \u65f6\uff0cosize\u7684\u542b\u4e49\u662f\u5bf9\u8c61\u7684\u7c7b\u578b\uff0c\u8fd9\u6837\u505a\u8ba9\u6211\u4eec\u77e5\u9053\u5f53\u524d\u662f\u5728\u5206\u914d\u4e00\u4e2a\u4ec0\u4e48\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u4fbf\u4e8e\u7edf\u8ba1\u548c\u4f18\u5316</p> <p>\u7136\u540e\u6211\u4eec\u518d\u6765\u770b\u770b\u5185\u7f6e\u7684\u5185\u5b58\u7ba1\u7406\u51fd\u6570\uff1a</p> C<pre><code>// lauxlib.c\n\nstatic void *l_alloc (void *ud, void *ptr, size_t osize, size_t nsize) {\n  (void)ud; (void)osize;  /* not used */\n  if (nsize == 0) {\n    free(ptr); // C\u6807\u51c6\u5e93\u7684\u5185\u5b58\u91ca\u653e\u51fd\u6570\n    return NULL;\n  }\n  else\n    return realloc(ptr, nsize); // C\u6807\u51c6\u5e93\u7684\u5185\u5b58\u5206\u914d\u51fd\u6570\n}\n</code></pre> <p>\u8fd9\u4e2a\u51fd\u6570\u7684\u903b\u8f91\u6bd4\u8f83\u7b80\u5355\uff0c\u5f53nsize\u6307\u5b9a\u4e3a0\u65f6\uff0c\u91ca\u653e\u5f53\u524d\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u3002\u5426\u5219\uff0c\u5206\u914d\u4e00\u4e2ansize\u5927\u5c0f\u7684\u5185\u5b58\u5757</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/01_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98/1_1_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#lua","title":"Lua\u5185\u5b58\u7ba1\u7406","text":"<p>Lua\u4f7f\u7528\u4e86\u4e00\u7ec4\u5b8f\u6765\u7ba1\u7406\u4e0d\u540c\u7c7b\u522b\u7684\u5185\u5b58\uff1a\u5355\u4e2a\u5bf9\u8c61\u3001\u6570\u7ec4\u3001\u53ef\u53d8\u957f\u6570\u7ec4\u7b49\u3002\u8fd9\u7ec4\u5b8f\u5b9a\u4e49\u5728 lmem.h \u4e2d\u3002</p> <p>\u8fd9\u7ec4\u5b8f\u7684\u6838\u5fc3\u662f\u4e00\u4e2a\u5185\u90e8API\uff1a<code>luaM_realloc_</code></p> <p>\u5b83\u7684\u5b9e\u73b0\u672c\u8d28\u662f\u8c03\u7528 <code>global_State</code> \u4e2d\u6ce8\u518c\u7684\u5185\u5b58\u5206\u914d\u5668\uff08\u4e5f\u5c31\u662f\u6211\u4eec\u4e4b\u524d\u4e86\u89e3\u7684l_alloc\u6216\u8005\u6211\u4eec\u81ea\u5df1\u5b9a\u4e49\u7684\u5185\u5b58\u7ba1\u7406\u51fd\u6570\uff09\uff0c\u6211\u4eec\u5728\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u865a\u62df\u673a\u65f6\uff0c\u4f20\u5165\u7684\u5185\u5b58\u7ba1\u7406\u51fd\u6570\u5176\u5b9e\u5c31\u662f\u6ce8\u518c\u7ed9\u4e86\u5168\u5c40\u72b6\u6001\u673a</p> <p>Note</p> <p>\u539f\u6587\u5bf9\u8fd9\u91cc\u7684\u8bf4\u660e\uff1a\u8fd9\u4e9b\u5de5\u4f5c\u4e0d\u4ec5\u4ec5\u662f\u5206\u914d\u65b0\u7684\u5185\u5b58\uff0c\u91ca\u653e\u4e0d\u7528\u7684\u5185\u5b58\uff0c\u6269\u5c55\u4e0d\u591f\u7528\u7684\u5185\u5b58\u3002Lua\u4e5f\u4f1a\u901a\u8fc7 <code>realloc</code> \u8bd5\u56fe\u91ca\u653e\u6389\u9884\u7533\u8bf7\u8fc7\u5927\u7684\u5185\u5b58\u7684\u540e\u534a\u90e8\u5206\uff0c\u5f53\u7136\uff0c\u8fd9\u53d6\u51b3\u4e8e\u7528\u6237\u63d0\u4f9b\u7684\u5185\u5b58\u7ba1\u7406\u5668\u80fd\u4e0d\u80fd\u7f29\u5c0f\u5185\u5b58\u5757\u4e86</p> <p>\u8fd8\u6709\u4e00\u4e2a\u9700\u8981\u6ce8\u610f\u7684\u7ec6\u8282\uff0c <code>luaM_realloc_</code> \u5e76\u4e0d\u80fd\u76f4\u63a5\u8c03\u7528\uff0cLua\u5728\u8fd9\u91cc\u56f4\u7ed5\u5b83\u5b9a\u4e49\u4e86\u5f88\u591a\u5b8f\uff0c\u5e94\u5bf9\u4e0d\u540c\u7c7b\u578b\u548c\u8c03\u7528\u573a\u666f\u3002\u8fd9\u5176\u5b9e\u662f\u4e00\u79cd\u4f18\u5316\u601d\u8def\uff0c\u56e0\u4e3a\u5f88\u591a\u8c03\u7528\u7684\u4f20\u5165\u53c2\u6570\u90fd\u662f\u5e38\u6570\uff0c\u76f4\u63a5\u7528\u5b8f\u5b9a\u4e49\uff0c\u53ef\u4ee5\u8ba9\u5e38\u91cf\u8ba1\u7b97\u5728\u7f16\u8bd1\u65f6\u5c31\u5b8c\u6210\uff0c\u8282\u7701\u8fd0\u884c\u65f6\u7684\u8ba1\u7b97\u548c\u5f00\u9500\u3002\uff08Lua\u6709\u5f88\u591a\u8fd9\u6837\u7cbe\u81f4\u7684\u8bbe\u8ba1\u601d\u8def\uff0c\u8fd9\u4e5f\u662f\u5b83\u7684\u6e90\u7801\u88ab\u76db\u8d5e\u7684\u539f\u56e0\u4e4b\u4e00\uff09</p> <p>\u4ee5\u4e0b\u662f\u5b83\u7684\u5177\u4f53\u4ee3\u7801\uff1a</p> C<pre><code>/*\n** Generic allocation routine.\n*/\nvoid *luaM_realloc_ (lua_State *L, void *block, size_t osize, size_t nsize) {\n  void *newblock;\n  global_State *g = G(L);\n  lua_assert((osize == 0) == (block == NULL));\n  newblock = firsttry(g, block, osize, nsize);\n  if (l_unlikely(newblock == NULL &amp;&amp; nsize &gt; 0)) {\n    newblock = tryagain(L, block, osize, nsize);\n    if (newblock == NULL)  /* still no memory? */\n      return NULL;  /* do not update 'GCdebt' */\n  }\n  lua_assert((nsize == 0) == (newblock == NULL));\n  g-&gt;GCdebt = (g-&gt;GCdebt + nsize) - osize;\n  return newblock;\n}\n</code></pre> <p>\u6574\u4e2a\u4ee3\u7801\u903b\u8f91\u53ef\u4ee5\u5206\u4e3a\u4e09\u4e2a\u90e8\u5206\uff1a</p> <p>\u7b2c\u4e00\u90e8\u5206\u662f\u5229\u7528\u5168\u5c40\u72b6\u6001\u673a\u5206\u914d\u4e00\u5757\u65b0\u7684\u5185\u5b58 <code>newblock</code>\uff0c\u8fd9\u91cc\u8981\u7ec6\u770bfirsttry\u7684\u5b9a\u4e49\uff1a</p> C<pre><code>// lmem.c\n\n#define firsttry(g,block,os,ns)    ((*g-&gt;frealloc)(g-&gt;ud, block, os, ns))\n</code></pre> <p>firsttry\u5176\u5b9e\u5c31\u662f\u8c03\u7528\u5168\u5c40\u72b6\u6001\u673afrealloc\u6307\u9488\u6307\u5411\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u5c31\u662f\u521b\u5efa\u865a\u62df\u673a\u65f6\u4f20\u5165\u7684\u5185\u5b58\u7ba1\u7406\u51fd\u6570</p> <p>\u7b2c\u4e8c\u90e8\u5206\u662f\u51fa\u73b0\u53ef\u80fd\u6027\u5f88\u5c0f\u7684\u5206\u914d\u5931\u8d25\u7684\u60c5\u51b5\uff0c\u8fd9\u91cc\u6267\u884c\u4e86 <code>tryagain</code>\uff0c\u5b9e\u73b0\u5982\u4e0b\uff1a</p> C<pre><code>// lmem.c\n\n/*\n** In case of allocation fail, this function will do an emergency\n** collection to free some memory and then try the allocation again.\n** The GC should not be called while state is not fully built, as the\n** collector is not yet fully initialized. Also, it should not be called\n** when 'gcstopem' is true, because then the interpreter is in the\n** middle of a collection step.\n*/\nstatic void *tryagain (lua_State *L, void *block, size_t osize, size_t nsize) {\n  global_State *g = G(L);\n  if (completestate(g) &amp;&amp; !g-&gt;gcstopem) {\n    luaC_fullgc(L, 1);  /* try to free some memory... */\n    return (*g-&gt;frealloc)(g-&gt;ud, block, osize, nsize);  /* try again */\n  }\n  else return NULL;  /* cannot free any memory without a full state */\n}\n</code></pre> <p>\u6ce8\u91ca\u7684\u89e3\u91ca\uff1a</p> <ul> <li>\u5982\u679c\u5206\u914d\u5931\u8d25\uff0c\u6b64\u51fd\u6570\u5c06\u6267\u884c\u7d27\u6025\u6536\u96c6\u4ee5\u91ca\u653e\u4e00\u4e9b\u5185\u5b58\uff0c\u7136\u540e\u518d\u6b21\u5c1d\u8bd5\u5206\u914d\u3002</li> <li>\u5728\u865a\u62df\u673a\u672a\u5b8c\u5168\u6784\u5efa\u65f6\u4e0d\u5e94\u8c03\u7528 GC\uff0c\u56e0\u4e3a\u6536\u96c6\u5668\u5c1a\u672a\u5b8c\u5168\u521d\u59cb\u5316\u3002\u6b64\u5916\uff0c\u5f53\u201cgcstopem\u201d\u4e3a\u771f\u65f6\u4e0d\u5e94\u8c03\u7528\u5b83\uff0c\u56e0\u4e3a\u89e3\u91ca\u5668\u6b63\u5904\u4e8e\u6536\u96c6\u6b65\u9aa4\u7684\u4e2d\u95f4\u3002</li> </ul> <p>\u603b\u7ed3\u5c31\u662f\u5728GC\u6536\u96c6\u5668\u5b8c\u6210\u65f6\uff0c\u4f1a\u8fdb\u884c\u4e00\u6b21 Full GC\uff0c\u5c1d\u8bd5\u91ca\u653e\u6389\u4e00\u4e9b\u5185\u5b58\uff0c\u5e76\u518d\u6b21\u5206\u914d</p> <p>\u7b2c\u4e09\u90e8\u5206\u662f\u5c06\u65b0\u5206\u914d\u7684\u5927\u5c0f\u66f4\u65b0\u5230 <code>GCdebt</code>\uff0c\u8fd9\u7528\u4e8e\u5185\u90e8\u611f\u77e5\u5185\u5b58\u5927\u5c0f\uff0c\u5728\u5185\u5b58\u4e0d\u591f\u65f6\u4f1a\u4e3b\u52a8\u5c1d\u8bd5GC\u64cd\u4f5c</p> <p>Note</p> <p>\u539f\u4e66\u4e2d\u8fd8\u63d0\u5230\u4e86 <code>luaM_growaux_</code>\uff0c\u8fd9\u4e2aAPI\u7528\u4e8e\u7ba1\u7406\u53ef\u53d8\u957f\u6570\u7ec4\uff0c\u5176\u7b56\u7565\u662f\u5f53\u6570\u7ec4\u7a7a\u95f4\u4e0d\u591f\u65f6\uff0c\u6269\u5927\u4e3a\u539f\u6765\u76842\u500d\u3002</p> C<pre><code>// lmem.c\n\n/*\n** Minimum size for arrays during parsing, to avoid overhead of\n** reallocating to size 1, then 2, and then 4. All these arrays\n** will be reallocated to exact sizes or erased when parsing ends.\n*/\n#define MINSIZEARRAY    4\n\nvoid *luaM_growaux_ (lua_State *L, void *block, int nelems, int *psize,\n                     int size_elems, int limit, const char *what) {\n  void *newblock;\n  int size = *psize;\n  if (nelems + 1 &lt;= size)  /* does one extra element still fit? */\n    return block;  /* nothing to be done */\n  if (size &gt;= limit / 2) {  /* cannot double it? */\n    if (l_unlikely(size &gt;= limit))  /* cannot grow even a little? */\n      luaG_runerror(L, \"too many %s (limit is %d)\", what, limit);\n    size = limit;  /* still have at least one free place */\n  }\n  else {\n    size *= 2;\n    if (size &lt; MINSIZEARRAY)\n      size = MINSIZEARRAY;  /* minimum size */\n  }\n  lua_assert(nelems + 1 &lt;= size &amp;&amp; size &lt;= limit);\n  /* 'limit' ensures that multiplication will not overflow */\n  newblock = luaM_saferealloc_(L, block, cast_sizet(*psize) * size_elems,\n                                         cast_sizet(size) * size_elems);\n  *psize = size;  /* update only when everything else is OK */\n  return newblock;\n}\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/01_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98/1_1_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#_1","title":"\u5168\u5c40\u72b6\u6001\u673a","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/01_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98/1_1_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#1","title":"1\u3001\u5168\u5c40\u72b6\u6001\u673a\u4f5c\u7528\uff1f\u521b\u5efa\u865a\u62df\u673a\u65f6\u5982\u4f55\u88ab\u5f15\u7528\uff1f","text":"<p>\u5bf9\u4e8eLua\u4f7f\u7528\u8005\u800c\u8a00\uff0c<code>global_State</code> \u5373\u5168\u5c40\u72b6\u6001\u673a\uff0c\u662f\u4e0d\u53ef\u89c1\u7684\uff0c\u6211\u4eec\u4e5f\u4e0d\u9700\u8981\u5f15\u7528\u5b83\uff0c\u4f46\u662f\u4ecd\u7136\u9700\u8981\u4e86\u89e3\u5b83\u3002</p> <p>\u5168\u5c40\u72b6\u6001\u673a\u7684\u4f5c\u7528\uff1a</p> <ul> <li>\u6709\u5bf9\u4e3b\u7ebf\u7a0b\uff08\u521b\u5efa\u65b0\u7684\u865a\u62df\u673a\u65f6\u5206\u914d\u7684 <code>lua_State</code>\uff09\u7684\u5f15\u7528</li> <li>\u6709\u6ce8\u518c\u8868\u7ba1\u7406\u6240\u6709\u5168\u5c40\u6570\u636e\uff0c\u6709\u5168\u5c40\u5b57\u7b26\u4e32\u8868</li> <li>\u5185\u5b58\u7ba1\u7406\u51fd\u6570</li> <li>GC\u9700\u8981\u7684\u4fe1\u606f</li> <li>\u4e00\u5207\u5de5\u4f5c\u5185\u5b58</li> </ul> <p>\u901a\u8fc7 <code>lua_newstate</code> \u521b\u5efa\u4e00\u4e2a\u65b0\u7684Lua\u865a\u62df\u673a\u65f6\uff0c\u4f1a\u7533\u8bf7\u4e00\u5757\u5185\u5b58\u5b58\u653e\u4e00\u4e2aLG\u7c7b\u578b\u7684\u7ed3\u6784\uff0c\u5176\u4e2d\u4fdd\u5b58\u4e86\u4e3b\u7ebf\u7a0b\u548c\u5168\u5c40\u72b6\u6001\u673a\uff0c\u4ee3\u7801\u548c\u793a\u610f\u56fe\u5982\u4e0b\uff1a</p> C<pre><code>// lstate.c\n\n/*\n** thread state + extra space\n*/\ntypedef struct LX {\n  lu_byte extra_[LUA_EXTRASPACE];\n  lua_State l;\n} LX;\n\n\n/*\n** Main thread combines a thread state and the global state\n*/\ntypedef struct LG {\n  LX l;\n  global_State g;\n} LG;\n</code></pre> <p></p> <p>LG\u7684\u7ed3\u6784</p> <p>\u91ca\u4e49\uff1a</p> <ul> <li>LG\uff1a\u5305\u542b\u4e3b\u7ebf\u7a0b <code>lua_State</code> \u548c\u5168\u5c40\u72b6\u6001\u673a <code>global_State</code> \u7684\u7ed3\u6784\u4f53\uff0c\u53d6\u9996\u5b57\u6bcd\u7ec4\u6210\u4e86\u201cLG\u201d</li> <li>LX\uff1a\u5bf9\u4e3b\u7ebf\u7a0b\u7684\u4e00\u6b21\u5c01\u88c5\uff0c\u53ea\u662f\u989d\u5916\u591a\u4e86\u4e00\u5757\u9884\u5b9a\u4e49\u5927\u5c0f\u7684\u5185\u5b58\u5757\u3002<ul> <li>extra_\uff1a\u636e\u6e90\u7801\u6ce8\u91ca\u89e3\u91ca\uff0c\u8fd9\u4e2a\u79f0\u4e3a\u4e3b\u7ebf\u7a0b\u7684\u539f\u59cb\u5185\u5b58\u5927\u5c0f\uff0c\u8bbf\u95ee\u901f\u5ea6\u975e\u5e38\u5feb\uff0c\u5982\u679c\u9700\u8981\u4e0d\u540c\u5927\u5c0f\uff0c\u53ef\u4ee5\u81ea\u884c\u66f4\u6539\uff0c\u4f46\u6ca1\u6709\u7ed9\u51fa\u660e\u786e\u7684\u4f7f\u7528\uff0c\u4f30\u8ba1\u662f\u53ef\u4ee5\u6839\u636e\u7528\u6237\u9700\u8981\u53bb\u81ea\u5b9a\u4e49\u7528\u9014\u3002</li> <li>lua_State\uff1a\u4e3b\u7ebf\u7a0b</li> </ul> </li> <li>global_State\uff1a\u5168\u5c40\u72b6\u6001\u673a</li> </ul>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/01_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98/1_1_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#2","title":"2\u3001\u539f\u6587\u4e2d\u63d0\u5230\u7684\u5185\u5b58\u5e03\u5c40\u7684\u7ec6\u8282","text":"<p>Note</p> <p>\u8fd9\u91cc\uff0c\u4e3b\u7ebf\u7a0b\u5fc5\u987b\u5b9a\u4e49\u5728\u7ed3\u6784\u7684\u524d\u9762\uff0c\u5426\u5219\u5173\u95ed\u865a\u62df\u673a\u7684\u65f6\u5019\uff08\u5982\u4e0b\u4ee3\u7801\uff09\u5c31\u65e0\u6cd5\u6b63\u786e\u7684\u91ca\u653e\u5185\u5b58\u3002</p> C<pre><code>(*g-&gt;frealloc)(g-&gt;ud, fromstate(L), sizeof(LG), 0);  /* free main block */\n</code></pre> <p>\u8fd9\u91cc\u5176\u5b9e\u5c31\u662f\u641e\u61c2fromstate\u5230\u5e95\u505a\u4e86\u5565</p> C<pre><code>// lstate.c\n\n#define fromstate(L)    (cast(LX *, cast(lu_byte *, (L)) - offsetof(LX, l)))\n</code></pre> <p>\u91ca\u4e49\uff1a</p> <ul> <li><code>cast(lu_byte *, (L))</code>\uff1a\u5c06 <code>L</code> \u4ece <code>lua_State *</code> \u7c7b\u578b\u8f6c\u6362\u4e3a <code>lu_byte *</code> \u7c7b\u578b\u7684\u6307\u9488\u3002\u4e5f\u5c31\u662f\u8f6c\u4e3a\u5b57\u8282\u7ea7\u6307\u9488\uff0c\u65b9\u4fbf\u8fdb\u884c\u5b57\u8282\u504f\u79fb</li> <li><code>offsetof(LX, l)</code>\uff1a\u8fd9\u90e8\u5206\u7684\u610f\u601d\u662f\u53d6 <code>l</code> \u8fd9\u4e2a\u5b57\u6bb5\u5728 <code>LX</code> \u8fd9\u4e2a\u7ed3\u6784\u4f53\u4e2d\u7684\u504f\u79fb\u91cf</li> <li>\u7b2c\u4e00\u6b65\u4e2d\u7684\u4e3b\u7ebf\u7a0b\u7684\u5b57\u8282\u6307\u9488\u51cf\u53bb\u81ea\u8eab\u5728 <code>LX</code> \u7ed3\u6784\u4f53\u4e2d\u7684\u504f\u79fb\u91cf\uff0c\u5b9e\u9645\u5c31\u662f\u53d6\u5b58\u50a8\u81ea\u8eab\u7684 <code>LX</code> \u7684\u5185\u5b58\u5730\u5740</li> <li>\u6700\u540e\u5c06\u7c7b\u578b\u8f6c\u6362\u4e3a <code>LX *</code>\uff0c\u5f97\u5230\u4e00\u4e2a\u6307\u5411 <code>LX</code> \u7ed3\u6784\u4f53\u7684\u6307\u9488\uff0c\u5373\u5f97\u5230\u4e3b\u7ebf\u7a0b\u5916\u5305\u88c5\u7684 <code>LX</code></li> </ul> <p>\u56de\u8fc7\u5934\uff0c\u539f\u6587\u6240\u63cf\u8ff0\u7684\u5185\u5b58\u5e03\u5c40\u987a\u5e8f\uff0c\u786e\u5b9e\u4f1a\u5f71\u54cd\u5185\u5b58\u7684\u91ca\u653e\u3002\u56e0\u4e3a\u8981\u4eceLG\u7684\u5185\u5b58\u8d77\u59cb\u4f4d\u7f6e\u91ca\u653e\uff0c\u4e5f\u5c31\u662fLX\u5b9a\u4e49\u5728\u524d\u624d\u4e0d\u4f1a\u51fa\u9519</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/01_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98/1_1_%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8F%8A%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#3-lua_newstate","title":"3\u3001\u521d\u6b65\u9605\u8bfb Lua_newstate \u7684\u5185\u5bb9","text":"C<pre><code>// lstate.c\n\nLUA_API lua_State *lua_newstate (lua_Alloc f, void *ud) {\n  int i;\n  lua_State *L;\n  global_State *g;\n  LG *l = cast(LG *, (*f)(ud, NULL, LUA_TTHREAD, sizeof(LG)));\n  if (l == NULL) return NULL;\n  L = &amp;l-&gt;l.l;\n  g = &amp;l-&gt;g;\n  L-&gt;tt = LUA_VTHREAD;\n  g-&gt;currentwhite = bitmask(WHITE0BIT);\n  L-&gt;marked = luaC_white(g);\n  preinit_thread(L, g);\n  g-&gt;allgc = obj2gco(L);  /* by now, only object is the main thread */\n  L-&gt;next = NULL;\n  incnny(L);  /* main thread is always non yieldable */\n  g-&gt;frealloc = f;\n  g-&gt;ud = ud;\n  g-&gt;warnf = NULL;\n  g-&gt;ud_warn = NULL;\n  g-&gt;mainthread = L;\n  g-&gt;seed = luai_makeseed(L);\n  g-&gt;gcstp = GCSTPGC;  /* no GC while building state */\n  g-&gt;strt.size = g-&gt;strt.nuse = 0;\n  g-&gt;strt.hash = NULL;\n  setnilvalue(&amp;g-&gt;l_registry);\n  g-&gt;panic = NULL;\n  g-&gt;gcstate = GCSpause;\n  g-&gt;gckind = KGC_INC;\n  g-&gt;gcstopem = 0;\n  g-&gt;gcemergency = 0;\n  g-&gt;finobj = g-&gt;tobefnz = g-&gt;fixedgc = NULL;\n  g-&gt;firstold1 = g-&gt;survival = g-&gt;old1 = g-&gt;reallyold = NULL;\n  g-&gt;finobjsur = g-&gt;finobjold1 = g-&gt;finobjrold = NULL;\n  g-&gt;sweepgc = NULL;\n  g-&gt;gray = g-&gt;grayagain = NULL;\n  g-&gt;weak = g-&gt;ephemeron = g-&gt;allweak = NULL;\n  g-&gt;twups = NULL;\n  g-&gt;totalbytes = sizeof(LG);\n  g-&gt;GCdebt = 0;\n  g-&gt;lastatomic = 0;\n  setivalue(&amp;g-&gt;nilvalue, 0);  /* to signal that state is not yet built */\n  setgcparam(g-&gt;gcpause, LUAI_GCPAUSE);\n  setgcparam(g-&gt;gcstepmul, LUAI_GCMUL);\n  g-&gt;gcstepsize = LUAI_GCSTEPSIZE;\n  setgcparam(g-&gt;genmajormul, LUAI_GENMAJORMUL);\n  g-&gt;genminormul = LUAI_GENMINORMUL;\n  for (i=0; i &lt; LUA_NUMTAGS; i++) g-&gt;mt[i] = NULL;\n  if (luaD_rawrunprotected(L, f_luaopen, NULL) != LUA_OK) {\n    /* memory allocation error: free partial state */\n    close_state(L);\n    L = NULL;\n  }\n  return L;\n}\n\n\n/*\n** open parts of the state that may cause memory-allocation errors.\n*/\nstatic void f_luaopen (lua_State *L, void *ud) {\n  global_State *g = G(L);\n  UNUSED(ud);\n  stack_init(L, L);  /* init stack */  //\u521d\u59cb\u5316\u4e3b\u7ebf\u7a0b\u7684\u6570\u636e\u6808\n  init_registry(L, g); //\u521d\u59cb\u5316\u6ce8\u518c\u8868\n  luaS_init(L); //\u521d\u59cb\u5316\u5b57\u7b26\u4e32\u6c60\n  luaT_init(L); //\u521d\u59cb\u5316\u5143\u8868\u7528\u7684\u5b57\u7b26\u4e32\n  luaX_init(L); //\u521d\u59cb\u5316\u8bcd\u6cd5\u5206\u6790\u7528\u7684token\u4e32\n  g-&gt;gcstp = 0;  /* allow gc */\n  setnilvalue(&amp;g-&gt;nilvalue);  /* now state is complete */\n  luai_userstateopen(L);\n}\n</code></pre> <p>\u8fd9\u91cc\u6211\u4f7f\u7528\u7684Lua5.4.4\u7248\u672c\u4f5c\u4e3a\u53c2\u8003\uff0c\u548c\u539f\u6587\u4e2d\u7684\u6709\u4e9b\u4e0d\u4e00\u81f4\uff0c\u4f46\u603b\u4f53\u5b9e\u73b0\u5927\u5dee\u4e0d\u5dee</p> <p>\u51fd\u6570\u5b9e\u73b0\u4e2d\u5305\u542b\u4e86\u8bf8\u5982GC\u3001\u5b57\u7b26\u4e32\u3001\u5185\u5b58\u7ba1\u7406\u7b49\u7b49\u76f8\u5173\u7684\u903b\u8f91\uff0c\u5728\u4e4b\u540e\u7684\u7ae0\u8282\u4f1a\u4ed4\u7ec6\u5206\u6790\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u7740\u91cd\u770b\u4e0b\u6700\u540e\u4e00\u4e2a\u6761\u4ef6\u5206\u652f\u7684\u903b\u8f91\uff1a\u5982\u679cLua\u8c03\u7528 <code>f_luaopen</code> \u68c0\u67e5\u6211\u4eec\u865a\u62df\u673a\u7684\u4e3b\u7ebf\u7a0b\uff0c\u5982\u679c\u672a\u901a\u8fc7\u68c0\u67e5\uff0c\u5219\u4f1a\u91ca\u653e\u6389\u5b83\u3002\u53e6\u5916\u4e00\u4e2a\u70b9\u662f\uff0c\u865a\u62df\u673a\u521d\u59cb\u5316\u7684\u8fc7\u7a0b\u5206\u4e24\u6b65\uff1a\u7b2c\u4e00\u6b65\u662f <code>f_luaopen</code> \u4e4b\u524d\u7684\u903b\u8f91\uff0c\u8fd9\u4e00\u5806\u903b\u8f91\u6ca1\u6709\u989d\u5916\u5206\u914d\u5185\u5b58\u3002\u771f\u6b63\u4f1a\u5f15\u8d77\u5185\u5b58\u5206\u914d\u7684\u521d\u59cb\u5316\u903b\u8f91\u5176\u5b9e\u5728 <code>f_luaopen</code> \u4e2d\u3002\u7b2c\u4e8c\u6b65\u5219\u662f\u6267\u884c <code>f_luaopen</code> \u6765\u521d\u59cb\u5316\u865a\u62df\u673a</p> <p>\u7ed3\u5408\u4ee5\u4e0a\u4e24\u70b9\uff0c\u5176\u5b9e\u53ef\u4ee5\u770b\u51faLua\u5bf9\u521b\u5efa\u865a\u62df\u673a\u7684\u5904\u7406\u975e\u5e38\u5c0f\u5fc3\u3002\u5185\u5b58\u7ba1\u7406\u51fd\u6570\u53ef\u80fd\u662f\u5916\u90e8\u4f20\u5165\u7684\uff0c\u4e5f\u5c31\u6709\u53ef\u80fd\u5f15\u8d77\u9519\u8bef\u7684\u5185\u5b58\u5206\u914d\u3002\u8fd9\u91cc\u7684\u601d\u8def\u662f\u5148\u521d\u59cb\u5316\u4e0d\u9700\u8981\u989d\u5916\u5185\u5b58\u5206\u914d\u7684\u90e8\u5206\uff0c\u628a\u5f02\u5e38\u5904\u7406\u673a\u5236\u5148\u5efa\u7acb\u8d77\u6765\u3002\u7136\u540e\u53bb\u8c03\u7528\u53ef\u80fd\u5f15\u8d77\u5185\u5b58\u5206\u914d\u5931\u8d25\u7684\u521d\u59cb\u5316\u4ee3\u7801\uff0c\u8fd9\u91cc\u7684\u5bb9\u9519\u673a\u5236\u8bbe\u8ba1\u662f\u5f88\u7cbe\u5999\u7684\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/02_%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/2_1_Lua%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/","title":"2.1 Lua\u4e2d\u7684\u6570\u636e\u7c7b\u578b","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/02_%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/2_1_Lua%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_1","title":"\u57fa\u7840\u7c7b\u578b","text":"C<pre><code>// (lua.h)\n\n/*\n** basic types\n*/\n#define LUA_TNONE       (-1)\n\n#define LUA_TNIL        0\n#define LUA_TBOOLEAN        1\n#define LUA_TLIGHTUSERDATA  2\n#define LUA_TNUMBER     3\n#define LUA_TSTRING     4\n#define LUA_TTABLE      5\n#define LUA_TFUNCTION       6\n#define LUA_TUSERDATA       7\n#define LUA_TTHREAD     8\n\n#define LUA_NUMTYPES        9\n</code></pre> \u5b8f \u7c7b\u578b\u63cf\u8ff0 \u5bf9\u5e94\u6570\u636e\u7ed3\u6784 LUA_TNONE \u65e0\u6548\u7c7b\u578b \u65e0 LUA_TNIL \u7a7a \u65e0 LUA_TBOOLEAN \u5e03\u5c14 \u65e0 LUA_TLIGHTUSERDATA \u6307\u9488 void * LUA_TNUMBER \u6570\u503c lua_Number LUA_TSTRING \u5b57\u7b26\u4e32 TString LUA_TTABLE \u8868 Table LUA_TFUNCTION \u51fd\u6570 CClosure\u3001LClosure LUA_TUSERDATA \u6307\u9488 Udata LUA_TTHREAD Lua\u865a\u62df\u673a\u3001\u534f\u7a0b lua_State <p>\u5b8f <code>LUA_NUMTYPES</code> \u6307\u6709\u6548\u6570\u636e\u7c7b\u578b\u7684\u6570\u91cf\uff0c\u53730~8\u51719\u4e2a</p> <p>\u5176\u4e2d <code>LUA_TLIGHTUSERDATA</code> \u548c <code>LUA_TUSERDATA</code> \u5747\u662f\u6307\u9488\uff0cuserdata \u6307\u4e00\u4e9b\u5916\u90e8\u7684\u7528\u6237\u77e5\u6653\u7684\u5185\u5b58\u5757\uff0c\u5b83\u4eec\u7684\u7c7b\u578b\u4e0d\u88ab Lua \u5b9a\u4e49\uff0c\u7528\u6307\u9488\u6765\u8bbf\u95ee\u5b83\u4eec\u4ee5\u5728 Lua \u4e2d\u5b9e\u73b0\u5bf9\u5916\u90e8\u6570\u636e\u7684\u64cd\u4f5c\u3002\u4e24\u8005\u7684\u533a\u522b\u5728\u4e8e\uff0cLUA_TLIGHTUSERDATA \u7684\u5206\u914d\u91ca\u653e\u7531\u5916\u90e8\u81ea\u5df1\u7ba1\u7406\uff0c\u6240\u4ee5 Lua \u5c06\u5b83\u89c6\u4e3a\u503c\u7c7b\u578b\uff0c\u56e0\u4e3a\u4e0d\u9700\u8981\u5206\u914d\u4efb\u4f55\u989d\u5916\u7a7a\u95f4\u6765\u5b58\u50a8\u6570\u636e\uff0c\u4ec5\u4ec5\u53ea\u662f\u4e00\u4e2a\u6307\u9488\u800c\u5df2\u3002LUA_TUSERDATA \u5219\u7531\u5185\u90e8\u7ba1\u7406\uff0cLua \u4e3a\u5b83\u5b9a\u4e49\u4e86 <code>Udata</code> \u7ed3\u6784\uff0c\u5b58\u50a8\u5b83\u7684\u6570\u636e\uff0c\u5e76\u4e14\u52a0\u5165GC\u7684\u7ba1\u7406\u3002</p> <p>Note</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e9b\u5b8f\u5e76\u4e0d\u662f\u771f\u6b63\u7684\u7c7b\u578b\uff0c\u53ea\u662f\u7528\u67d0\u4e2a\u6570\u5b57\u4ee3\u6307\u8fd9\u4e2a\u7c7b\u578b\uff0c\u771f\u6b63\u7684\u7c7b\u578b\u662f\u8868\u683c\u4e2d\u7684\u6700\u540e\u4e00\u5217\uff1a\u5bf9\u5e94\u6570\u636e\u7ed3\u6784</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/02_%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/2_1_Lua%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_2","title":"\u52a8\u6001\u7c7b\u578b\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f","text":"<p>Lua \u662f\u52a8\u6001\u7c7b\u578b\u7684\u8bed\u8a00\uff0c\u52a8\u6001\u7c7b\u578b\u6307\u4e00\u4e2a\u53d8\u91cf\u5728\u4e0d\u540c\u65f6\u523b\u53ef\u4ee5\u662f\u4e0d\u540c\u7c7b\u578b\u7684</p> <p>\u5b83\u901a\u8fc7\u4e00\u4e2a\u901a\u7528\u7ed3\u6784\u4f53 <code>TValue</code> \u6765\u5b9a\u4e49\u4efb\u610f\u7684\u7c7b\u578b\uff0c\u6e90\u7801\u5982\u4e0b\uff1a</p> C<pre><code>/*\n** Tagged Values. This is the basic representation of values in Lua:\n** an actual value plus a tag with its type.\n*/\n\n#define TValuefields    Value value_; lu_byte tt_\n\ntypedef struct TValue {\n  TValuefields;\n} TValue;\n</code></pre> <p>\u7b80\u5355\u6765\u8bf4\uff0c<code>tt_</code> \u7528\u4e8e\u6807\u8bb0\u8fd9\u4e2a\u7ed3\u6784\u4f53\u662f\u4ec0\u4e48\u7c7b\u578b\uff0c<code>value_</code> \u5219\u5b58\u50a8\u5b9e\u9645\u7684\u503c\u6570\u636e\u3002\u5f53\u4e00\u4e2a\u53d8\u91cf\u9700\u8981\u53d8\u4e3a\u5176\u4ed6\u7c7b\u578b\u65f6\uff0c\u6539\u53d8\u5b83\u7684 tt_ \u5b57\u6bb5\u7684\u503c\uff0c\u540c\u65f6\u8bbe\u7f6e\u5bf9\u5e94\u7684 Value_ \u503c\u5373\u53ef\u505a\u5230\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/02_%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/2_1_Lua%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#type-tag","title":"\u7c7b\u578b\u6807\u8bb0\uff08Type Tag\uff09","text":"<p><code>tt_</code> \u5168\u79f0\u662f Type Tag \uff0c\u7528\u4e8e\u6807\u8bb0\u5f53\u524d\u5bf9\u8c61\u7684\u7c7b\u578b\uff0c\u5b83\u88ab\u58f0\u660e\u4e3a <code>lu_byte</code> \u7c7b\u578b\uff0clu_byte \u5b8f\u4ee3\u6307 unsigned char \u7c7b\u578b\uff08\u5360\u4e00\u4e2a\u5b57\u8282\uff0c\u8303\u56f40~255\uff09\uff0c\u7531\u4e8e\u57fa\u7840\u7c7b\u578b\u7684\u6807\u8bb0\u6700\u9ad8\u503c\u662f8\uff0c\u56e0\u6b64\u4f4e4\u4f4d\u88ab\u8bbe\u8ba1\u7528\u4e8e\u6807\u8bb0\u57fa\u7840\u7c7b\u578b\uff0c\u5176\u5b83\u7684\u4f4d\u8bbe\u8ba1\u5982\u4e0b\uff1a</p> 7 bit 6 bit 5-4 bit 3-0 bit reserved GC Tag variant type tag basic type tag <p>\u4ece\u8868\u4e2d\u53ef\u4ee5\u770b\u5230\uff0c\u9664\u4e86\u4f4e4\u4f4d\u88ab\u7528\u4e8e\u6807\u8bb0\u57fa\u7840\u7c7b\u578b\uff0cLua\u8fd8\u5728 bits(4-5) \u8bbe\u8ba1\u4e86\u53d8\u79cd\u7c7b\u578b\uff0c\u53d8\u79cd\u7c7b\u578b\u8ba9 Lua \u5bf9\u7c7b\u578b\u6807\u8bb0\u8fdb\u4e00\u6b65\u5212\u5206\uff0c\u7528\u4e8e\u5185\u90e8\u66f4\u52a0\u591a\u6837\u5316\u7684\u6570\u636e\u652f\u6301\u3001\u66f4\u52a0\u7cbe\u786e\u5730\u5904\u7406\u6570\u636e\u3001\u751a\u81f3\u662f\u63d0\u5347\u6027\u80fd\u3002\u5982\u4e0b\u662f Lua \u5c06\u6570\u503c\u7c7b\u578b LUA_TNUMBER \u8fdb\u884c\u53d8\u79cd\u5f97\u5230\u6574\u578b\u6570\u548c\u6d6e\u70b9\u6570\u7684\u4ee3\u7801\uff1a</p> C<pre><code>// (lobject.h)\n\n/*\n** tags for Tagged Values have the following use of bits:\n** bits 0-3: actual tag (a LUA_T* constant)\n** bits 4-5: variant bits\n** bit 6: whether value is collectable\n*/\n\n/* add variant bits to a type */\n#define makevariant(t,v)    ((t) | ((v) &lt;&lt; 4))\n\n/* Variant tags for numbers */\n#define LUA_VNUMINT makevariant(LUA_TNUMBER, 0)  /* integer numbers */\n#define LUA_VNUMFLT makevariant(LUA_TNUMBER, 1)  /* float numbers */\n</code></pre> <p>\u9664\u4e86 variant type tag \u548c basic type tag\uff0c\u8fd8\u6709\u7528\u4e8e\u6807\u8bb0\u662f\u5426\u53ef\u88ab\u56de\u6536\u7684 GC Tag\u3002\u800c bit 7 \u76ee\u524d\u4fdd\u7559\u6ca1\u6709\u4efb\u4f55\u4f5c\u7528</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/02_%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/2_1_Lua%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#tvaluevaluegcobjectgcunion","title":"TValue\u7684\u7ed3\u6784\u8bbe\u8ba1\uff08Value\u3001GCObject\u548cGCUnion\uff09","text":"<p>Struct of TValue</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/02_%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/2_1_Lua%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#tvalue","title":"TValue","text":"<p><code>TValue</code> \u7ed3\u6784\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5305\u542b\u4e00\u4e2a\u8054\u5408\u4f53 <code>value_</code> \u548c\u4e00\u4e2a\u7c7b\u578b\u6807\u8bb0 <code>tt_</code>\uff0c\u5bf9\u5e94\u6e90\u7801\uff1a</p> C<pre><code>/*\n** Tagged Values. This is the basic representation of values in Lua:\n** an actual value plus a tag with its type.\n*/\n\n#define TValuefields    Value value_; lu_byte tt_\n\ntypedef struct TValue {\n  TValuefields;\n} TValue;\n</code></pre> <p><code>tt_</code> \u6807\u8bb0\u4e86\u8054\u5408\u4f53 <code>value_</code> \u5206\u914d\u7684\u7a7a\u95f4\u4e2d\u503c\u7684\u5177\u4f53\u7c7b\u578b\uff0c\u7531\u6b64\u77e5\u9053\u8be5\u4ee5\u4ec0\u4e48\u6837\u7684\u7ed3\u6784\u4f7f\u7528\u8fd9\u5757\u5185\u5b58\u3002\u53e6\u5916\uff0c\u524d\u8ff0\u5185\u5bb9\u4e5f\u63d0\u5230 <code>tt_</code> \u7684\u7b2c7\u4f4d\u6807\u8bb0\u4e86\u5f53\u524d\u7c7b\u578b\u662f\u5426\u662f\u53ef\u56de\u6536\u7c7b\u578b\uff0c\u4ee5\u4e0b\u4ee3\u7801\u662f\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u662f\u53ef\u56de\u6536\u7684\u6e90\u7801\uff1a</p> C<pre><code>/* Bit mark for collectable types */\n#define BIT_ISCOLLECTABLE   (1 &lt;&lt; 6)\n\n#define iscollectable(o)    (rawtt(o) &amp; BIT_ISCOLLECTABLE)\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/02_%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/2_1_Lua%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#value","title":"Value","text":"<p>\u518d\u770b <code>Value</code> \u7684\u8bbe\u8ba1\uff0c\u8fd9\u4e2a\u57df\u8d1f\u8d23\u5b58\u50a8\u5b9e\u9645\u7684\u503c\uff0c\u6211\u4eec\u77e5\u9053 Lua \u6709\u81ea\u5df1\u7684\u5783\u573e\u56de\u6536\u673a\u5236\uff0c\u56e0\u6b64\u5b83\u7684\u7c7b\u578b\u8bbe\u8ba1\u5305\u542b\u4e86\u53ef\u56de\u6536\u548c\u4e0d\u53ef\u56de\u6536\u4e24\u79cd\u3002</p> <p>\u5728 <code>Value</code> \u8fd9\u4e00\u5c42\u9762\uff0cLua \u5c06\u8fd9\u4e24\u79cd\u7c7b\u578b\u533a\u5206\u5f00\u4e86\uff0c\u53ef\u56de\u6536\u7684\u5bf9\u8c61\u8868\u8fbe\u4e3a\u4e00\u4e2a\u6307\u9488\uff0c\u800c\u6ca1\u6709\u76f4\u63a5\u5b58\u50a8\u5b83\u3002\u4e0d\u53ef\u56de\u6536\u7684\u7c7b\u578b\u5219\u5168\u90e8\u58f0\u660e\u4e3a\u8054\u5408\u4f53\u7684\u57df\u3002\u6574\u4e2a\u8054\u5408\u4f53\u53ea\u662f\u5728\u6808\u4e0a\u5206\u914d\u4e86\u4e00\u4e2a\u7a7a\u95f4\uff0c\u5b58\u50a8\u8fd9\u4e9b\u57df\u7684\u5176\u4e2d\u4e4b\u4e00\uff1a</p> <ul> <li>GCObject *gc\uff1a\u6307\u5411\u4e00\u4e2a\u53ef\u56de\u6536\u5bf9\u8c61\u7684\u5185\u5b58\u5730\u5740</li> <li>void *p\uff1a\u672c\u8d28\u5c31\u662f\u4e00\u4e2a\u6307\u9488\uff0cLua\u4e2d\u79f0\u5b83\u4e3a <code>lightuserdata</code>\uff0c\u548c <code>userdata</code> \u4e0d\u540c\uff0c\u524d\u8005\u4e0d\u9700\u8981 Lua \u7ba1\u7406\u5185\u5b58\uff0c\u53ea\u662f\u4f5c\u4e3a\u53d8\u91cf\u4fdd\u5b58\u4e00\u4e2a\u5730\u5740\u3002\u540e\u8005\u5219\u9700\u8981 Lua \u8d1f\u8d23\u7ba1\u7406\u5185\u5b58</li> <li>lua_CFunction f\uff1a\u672c\u8d28\u4e0a\u4e5f\u662f\u4e00\u4e2a\u6307\u9488\uff0c\u6307\u5411\u4e00\u4e2a C \u51fd\u6570</li> <li>lua_Integer i\uff1a\u5b58\u50a8\u6574\u578b\u6570\u503c</li> <li>lua_Number n\uff1a\u5b58\u50a8\u6d6e\u70b9\u6570\u503c</li> </ul>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/02_%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/2_1_Lua%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#gcuniongcobject","title":"GCUnion\u548cGCObject","text":"<p>\u4e3a\u4e86\u66f4\u597d\u5730\u7406\u89e3 <code>GCObject</code>\uff0c\u6211\u4eec\u8981\u5148\u4e86\u89e3 <code>GCUnion</code> \u8fd9\u4e2a\u8054\u5408\u4f53</p> <p><code>GCUnion</code> \u662f\u771f\u6b63\u5b9a\u4e49GC\u5bf9\u8c61\u5b58\u50a8\u4f4d\u7f6e\u7684\u7ed3\u6784\uff0cLua \u4e2d\u7684\u5168\u90e8\u53ef\u56de\u6536\u7c7b\u578b\u90fd\u5b9a\u4e49\u4e3a\u5b83\u7684\u57df</p> <p>\u5176\u4e2d\u6bd4\u8f83\u7279\u6b8a\u7684\u662f <code>GCObject</code>\uff0c\u5b83\u53ea\u5305\u542b\u4e00\u4e2a <code>CommonHeader</code> \u5b8f\uff0c\u6e90\u7801\u5b9a\u4e49\u5982\u4e0b\uff1a</p> C<pre><code>/*\n** Common Header for all collectable objects (in macro form, to be\n** included in other objects)\n*/\n#define CommonHeader    struct GCObject *next; lu_byte tt; lu_byte marked\n\n\n/* Common type for all collectable objects */\ntypedef struct GCObject {\n  CommonHeader;\n} GCObject;\n</code></pre> <p><code>CommonHeader</code> \u5305\u542b\u4e09\u4e2a\u57df\uff1a</p> <ul> <li>GCObject *next\uff1a\u8fd9\u4e2a\u6307\u9488\u6307\u5411\u4e0b\u4e00\u4e2a GC \u5bf9\u8c61\uff0c\u6240\u6709 GC \u5bf9\u8c61\u901a\u8fc7\u5404\u81ea\u7684 next \u6307\u9488\u94fe\u63a5\u8d77\u6765\u5f62\u6210\u6574\u4e2a GC \u94fe\u8868</li> <li>lu_byte tt\uff1a\u4e5f\u662f\u7c7b\u578b\u6807\u8bb0\uff0c\u548c <code>tt_</code> \u76f8\u540c\uff0c\u4f46\u7531\u4e8e <code>GCObject</code> \u5728\u5806\u5185\u5b58\u4e2d\u5355\u72ec\u5206\u914d\uff0c\u6240\u4ee5\u8fd9\u91cc\u4e3a\u5b83\u518d\u5b58\u4e86\u4e00\u4efd\uff0c\u4fbf\u4e8e\u8bbf\u95ee</li> <li>lu_byte marked\uff1aGC \u9636\u6bb5\u7684\u6807\u8bb0</li> </ul> <p>Lua \u4e2d\u9700\u8981 GC \u7684\u7c7b\u578b\u5f88\u591a\uff0c\u4f46\u5728\u4f5c\u4e3a\u53ef\u56de\u6536\u5bf9\u8c61\u65f6\uff0c\u90fd\u662f\u7edf\u4e00\u4f5c\u4e3a <code>GCObject</code> \u7c7b\u578b\u3002\u8fd9\u91cc\u5f88\u591a\u4eba\u4f1a\u4ea7\u751f\u4e00\u4e2a\u7591\u95ee\uff1aGCUnion \u4f5c\u4e3a\u4e00\u4e2a\u8054\u5408\u4f53\uff0c\u540c\u4e00\u4e2a\u5185\u5b58\u5982\u4f55\u8f6c\u6362 <code>GCObject</code> \u548c\u5176\u4ed6\u7c7b\u578b\uff1f</p> <p>\u8981\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\uff0c\u9700\u8981\u770b\u5176\u4ed6 GC \u7c7b\u578b\u7684\u5b9a\u4e49\uff1a</p> C<pre><code>typedef struct TString {\n  CommonHeader;\n  ... /* other fields */\n} TString;\n\ntypedef struct Udata {\n  CommonHeader;\n  ... /* other fields */\n} Udata;\n\ntypedef struct Table {\n  CommonHeader;\n  ... /* other fields */\n} Table;\n</code></pre> <p>\u73b0\u5728\u5e94\u8be5\u660e\u767d\u4e86\uff0c\u6240\u6709\u7c7b\u578b\u7684\u5185\u5b58\u5934\u90e8\u90fd\u662f\u76f8\u540c\u7684\u7ed3\u6784 <code>CommonHeader</code>\uff0c\u76f8\u5f53\u4e8e\u9700\u8981\u628a\u4e00\u4e2a\u7c7b\u578b\u4f5c\u4e3a <code>GCObject</code> \u7684\u65f6\u5019\uff0c\u53ea\u662f\u8bbf\u95ee\u4e86\u8fd9\u4e2a\u5934\u90e8\u7ed3\u6784\u7684\u5185\u5b58\u6570\u636e\u7f62\u4e86\u3002</p> <p>\u9664\u5f00 <code>GCObject</code> \uff0c\u5176\u4ed6\u7684\u7c7b\u578b\u6211\u4eec\u5148\u7b80\u5355\u4e86\u89e3\u4e0b\uff1a</p> \u7c7b\u578b \u8bf4\u660e TString \u5b57\u7b26\u4e32 Udata \u7528\u6237\u6570\u636e\u6307\u9488 Closure \u95ed\u5305 Table \u8868 Proto \u51fd\u6570\u539f\u578b lua_State Lua\u865a\u62df\u673a UpVal \u4e0a\u503c"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_1_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/","title":"3.1 \u5b57\u7b26\u4e32\u7684\u6570\u636e\u7ed3\u6784\u8bbe\u8ba1","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_1_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/#_1","title":"\u57fa\u672c\u8bbe\u8ba1","text":"<ul> <li>\u7531\u4efb\u610f\u76848\u4f4d\u5b57\u7b26\u7ec4\u5408\u5f62\u6210\u5b57\u7b26\u4e32</li> <li>\u5b58\u50a8\u5f62\u5f0f\u662f\u5e26\u957f\u5ea6\u7684\u5185\u5b58\u5757\uff0c\u4e5f\u5c31\u662f\u5b58\u5185\u5bb9\u7684\u540c\u65f6\uff0c\u4e5f\u6709\u989d\u5916\u7a7a\u95f4\u4fdd\u5b58\u957f\u5ea6</li> <li>\u4e3a\u4e86\u517c\u5bb9C\u5e93\u51fd\u6570\uff0cLua\u7684\u5b57\u7b26\u4e32\u4e5f\u5728\u5176\u5185\u5bb9\u7684\u672b\u5c3e\u6dfb\u52a0 <code>\\0</code>\uff0c\u6807\u8bb0\u5b57\u7b26\u4e32\u7ed3\u675f</li> </ul>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_1_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/#_2","title":"\u4e24\u79cd\u5185\u90e8\u5f62\u5f0f\uff1a\u957f\u5b57\u7b26\u4e32\u548c\u77ed\u5b57\u7b26\u4e32","text":"<p>\u5bf9\u4e8e\u5916\u90e8\u6765\u8bf4\uff0c\u5b57\u7b26\u4e32\u53ea\u6709\u4e00\u79cd\u7c7b\u578b\uff0c\u5f52\u5c5e\u4e8eLua\u76849\u79cd\u57fa\u672c\u7c7b\u578b\u4e4b\u4e00\uff0c\u6e90\u7801\u5b9a\u4e49\u5982\u4e0b\uff1a</p> C<pre><code>// lua.h\n\n/*\n** basic types\n*/\n#define LUA_TNONE       (-1)\n\n#define LUA_TNIL        0\n#define LUA_TBOOLEAN        1\n#define LUA_TLIGHTUSERDATA  2\n#define LUA_TNUMBER     3\n#define LUA_TSTRING     4\n#define LUA_TTABLE      5\n#define LUA_TFUNCTION       6\n#define LUA_TUSERDATA       7\n#define LUA_TTHREAD     8\n\n#define LUA_NUMTYPES        9\n</code></pre> <p>\u5176\u4e2d-1\u4ee3\u8868\u65e0\u6548\u7c7b\u578b\uff0c0~8\u662f9\u79cd\u57fa\u672c\u7c7b\u578b\u7684\u6807\u8bc6\uff08\u5176\u4e2d\u5b57\u7b26\u4e32\u662f4\uff09\uff0c<code>LUA_NUMTYPES</code> \u662f\u6307\u57fa\u672c\u7c7b\u578b\u7684\u6570\u91cf\u67099\u4e2a</p> <p>\u5728\u5b57\u7b26\u4e32\u6838\u5fc3\u6e90\u7801\u811a\u672c <code>lstring.c</code> \u4e2d\uff0c\u5e76\u6ca1\u6709\u7528\u5230 <code>LUA_TSTRING</code>\uff0c\u800c\u662f\u4f7f\u7528 <code>LUA_VSHRSTR</code> \u548c <code>LUA_VLNGSTR</code> \u4e24\u4e2a\u53d8\u79cd\u7c7b\u578b\uff0c\u4ee5\u6b64\u6765\u5bf9\u957f\u77ed\u5b57\u7b26\u4e32\u4f5c\u533a\u5206\u4ee5\u5b9e\u73b0\u4e0d\u540c\u7684\u5185\u90e8\u5904\u7406\uff0c\u957f\u77ed\u5b57\u7b26\u4e32\u7684\u7c7b\u578b\u5b9a\u4e49\u5982\u4e0b\uff1a</p> C<pre><code>// lobject.h\n\n/* add variant bits to a type */\n#define makevariant(t,v)    ((t) | ((v) &lt;&lt; 4))\n\n/* Variant tags for strings */\n#define LUA_VSHRSTR makevariant(LUA_TSTRING, 0)  /* short strings */\n#define LUA_VLNGSTR makevariant(LUA_TSTRING, 1)  /* long strings */\n</code></pre> <p><code>makevariant</code> \u4ec5\u5bf9\u7c7b\u578b\u4f5c\u5de6\u79fb4\u4f4d\u7684\u64cd\u4f5c\uff0c\u7531\u6b64\u8ba9Lua\u5185\u90e8\u652f\u6301\u5bf9\u7c7b\u578b\u8fdb\u884c\u7ec6\u5206\uff0c\u6bd4\u5982 <code>nil</code> \u5185\u90e8\u53ef\u4ee5\u5206\u4e3a <code>nil</code>\u3001<code>empty</code>\u3001<code>abstkey</code>\uff0c<code>number</code> \u5185\u90e8\u88ab\u5206\u4e3a\u6d6e\u70b9\u6570\u548c\u6574\u578b\u7b49\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_1_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/#1","title":"1.\u957f\u77ed\u5b57\u7b26\u5982\u4f55\u754c\u5b9a\uff1f\u5b58\u50a8\u65b9\u5f0f\u6709\u4f55\u5dee\u5f02\uff1f","text":"Text Only<pre><code>// llimits.h\n\n// \u6ce8\u91ca\u7ffb\u8bd1\uff1a\u77ed\u5b57\u7b26\u4e32\uff08\u5373\u5185\u90e8\u5316\u7684\u5b57\u7b26\u4e32\uff09\u7684\u6700\u5927\u957f\u5ea6\u3002\n//\uff08\u4e0d\u80fd\u5c0f\u4e8e\u5143\u65b9\u6cd5\u7684\u4fdd\u7559\u5b57\u6216\u6807\u8bb0\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u5b57\u7b26\u4e32\u5fc5\u987b\u5185\u90e8\u5316\uff09\n/*\n** Maximum length for short strings, that is, strings that are\n** internalized. (Cannot be smaller than reserved words or tags for\n** metamethods, as these strings must be internalized;\n** #(\"function\") = 8, #(\"__newindex\") = 10.)\n*/\n#if !defined(LUAI_MAXSHORTLEN)\n#define LUAI_MAXSHORTLEN    40\n#endif\n</code></pre> <p>Note</p> <p>\u8fd9\u91cc\u9700\u8981\u6ce8\u610f <code>\u5185\u90e8\u5316</code> \u7684\u542b\u4e49\uff0c\u5185\u90e8\u5316\u7684\u610f\u601d\u662f\u6307\uff0c\u5728\u540c\u4e00\u4e2a <code>Lua State</code> \u4e2d\uff0c\u76f8\u540c\u7684\u5b57\u7b26\u4e32\u53ea\u4f1a\u5b58\u5728\u4e00\u4efd\uff0c\u5408\u5e76\u76f8\u540c\u7684\u5b57\u7b26\u4e32\u53ef\u4ee5\u5927\u91cf\u51cf\u5c11\u5185\u5b58\u5360\u7528\uff0c\u5e76\u4e14\u53ef\u4ee5\u7f29\u77ed\u6bd4\u8f83\u65f6\u95f4\uff0c\u56e0\u4e3a\u53ea\u9700\u8981\u6bd4\u8f83\u5185\u5b58\u5730\u5740\u662f\u5426\u76f8\u540c\u5373\u53ef\uff0c\u800c\u4e0d\u9700\u8981\u9010\u5b57\u8282\u6bd4\u8f83\u3002Lua\u5185\u90e8\u7684\u4fdd\u7559\u5b57\u548c\u6807\u8bb0\u4e5f\u7406\u6240\u5e94\u5f53\u9700\u8981\u88ab\u5185\u90e8\u5316\uff0c\u5176\u4e2d\u6700\u957f\u7684\u4fdd\u7559\u5b57\u662f <code>__newindex</code> \u957f\u5ea6\u662f10\u4e2a\u5b57\u7b26\uff0c\u56e0\u6b64 <code>LUAI_MAXSHORTLEN</code> \u4e0d\u53ef\u4ee5\u88ab\u8bbe\u7f6e\u5c0f\u4e8e10</p> <p>\u8fd9\u4e2a\u503c\u53ef\u4ee5\u7531\u7528\u6237\u81ea\u884c\u51b3\u5b9a\uff0c\u4f46Lua\u7ed9\u51fa\u7684\u9ed8\u8ba4\u754c\u5b9a\u503c\u662f40\uff0c\u8d85\u8fc740\u7684\u5b57\u7b26\u4e32\u88ab\u8ba4\u4e3a\u662f\u957f\u5b57\u7b26\u4e32\u3002</p> <p>\u5b58\u50a8\u65b9\u5f0f\u7684\u5dee\u5f02\uff1a</p> <ul> <li>\u77ed\u5b57\u7b26\u4e32\u5b58\u50a8\u5728 <code>\u5168\u5c40\u5b57\u7b26\u4e32\u54c8\u5e0c\u8868</code> \u4e2d\uff0c\u5373 <code>global_State</code> \u4e2d\u7684 <code>strt</code> \u5b57\u6bb5\uff0c\u8fd9\u4e2a\u54c8\u5e0c\u8868\u5185\u90e8\u91c7\u7528\u94fe\u5730\u5740\u6cd5\u7684\u65b9\u5f0f\uff0c\u5b9e\u73b0\u65b9\u5f0f\u6bd4\u8f83\u7b80\u5355</li> <li>\u957f\u5b57\u7b26\u4e32\u5219\u76f4\u63a5\u5b58\u50a8\u5728\u5b57\u7b26\u4e32\u5185\u90e8\u7684\u5b57\u6bb5\u4e2d\uff0c\u5728\u539f\u6587\u7684Lua\u7248\u672c\u4e2d\uff0c\u957f\u5b57\u7b26\u4e32\u751a\u81f3\u4e0d\u5b58\u50a8\u5728 <code>TString</code> \u7684\u5185\u5b58\u5757\u5185\uff0c\u800c\u662f\u7d27\u8ddf\u7740\u5b58\u50a8\u5728 <code>TString</code> \u7684\u5185\u5b58\u5757\u540e\u9762</li> </ul>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_1_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/#2","title":"2.\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u5b9e\u73b0\u7ed3\u6784","text":"C<pre><code>// lobject.h\n\n/*\n** Header for a string value.\n*/\ntypedef struct TString {\n  CommonHeader;\n  lu_byte extra;  /* reserved words for short strings; \"has hash\" for longs */\n  lu_byte shrlen;  /* length for short strings */\n  unsigned int hash;\n  union {\n    size_t lnglen;  /* length for long strings */\n    struct TString *hnext;  /* linked list for hash table */\n  } u;\n  char contents[1];\n} TString;\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_1_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/#21-commonheader","title":"2.1 CommonHeader","text":"<p>\u6211\u4eec\u5148\u770b\u7b2c\u4e00\u4e2a\u5b8f <code>CommonHeader</code>\uff0c\u5b83\u7684\u5b9a\u4e49\u5982\u4e0b\uff1a</p> C<pre><code>/*\n** Common Header for all collectable objects (in macro form, to be\n** included in other objects)\n*/\n#define CommonHeader    struct GCObject *next; lu_byte tt; lu_byte marked\n</code></pre> <p><code>CommonHeader</code> \u5e76\u4e0d\u662f\u5b57\u7b26\u4e32\u4e13\u5c5e\uff0cLua\u5bf9\u4e00\u5207\u9700\u8981\u88ab\u5783\u573e\u6536\u96c6\u5668\u7ba1\u7406\u7684\u5bf9\u8c61\uff0c\u5747\u4f1a\u63d2\u5165\u8fd9\u4e2a\u5b8f\u3002\u5b83\u4f1a\u5728\u5783\u573e\u56de\u6536\u7684\u7ae0\u8282\u4e2d\u7ec6\u8bb2\uff0c\u8fd9\u91cc\u4e0d\u8d58\u8ff0\u3002\u6211\u4eec\u8fd9\u91cc\u5173\u6ce8\u4e00\u4e2a\u57df\uff1a<code>tt</code></p> <p>\u8ba9\u6211\u4eec\u56de\u60f3\u4e0a\u9762\u7684\u5185\u5bb9\uff0c\u5b57\u7b26\u4e32\u5728\u57fa\u672c\u7c7b\u578b\u4e2d\u7684\u5b9a\u4e49\u662f <code>LUA_TSTRING</code>\uff0c\u5e76\u4e14\u5728\u5185\u90e8\u8fd8\u7ec6\u5206\u4e3a\u4e86 <code>LUA_VSHRSTR</code> \u548c <code>LUA_VLNGSTR</code>\uff0c\u8fd9\u91cc\u600e\u4e48\u53c8\u6709\u4e00\u4e2a <code>TString</code> \u7c7b\u578b\uff0c\u5230\u5e95\u54ea\u4e2a\u624d\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff1f</p> <p>\u8981\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\uff0c\u5c31\u9700\u8981\u4e86\u89e3 <code>tt</code> \u7684\u8bbe\u8ba1\uff0cLua\u4e3a\u4e86\u6e05\u695a\u5730\u77e5\u9053\u6bcf\u4e00\u4e2a\u5bf9\u8c61\u7684\u5b9e\u9645\u7c7b\u578b\uff0c\u9700\u8981\u5bf9\u6bcf\u4e00\u4e2a\u53c2\u4e0e\u5783\u573e\u6536\u96c6\u7684\u5bf9\u8c61\u505a\u7c7b\u578b\u6807\u8bb0\uff08type tag\uff0c\u7b80\u5199\u4e3att\uff09\uff0c\u4e5f\u5c31\u662f\u82b1\u4e86\u4e00\u4e2a\u57df\u7684\u7a7a\u95f4\u6765\u5b58\u50a8\u8fd9\u4e2a\u5bf9\u8c61\u7684\u7c7b\u578b\uff0c\u56e0\u6b64 <code>tt</code> \u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3a <code>\u7c7b\u578b\u7684\u7c7b\u578b</code> \u6216\u8005 <code>\u7c7b\u578b\u7684\u503c</code>\u3002</p> <p>\u6240\u4ee5 <code>LUA_TSTRING</code> \u3001<code>LUA_VSHRSTR</code> \u548c <code>LUA_VLNGSTR</code> \u5e76\u4e0d\u662f\u5b57\u7b26\u4e32\u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u5b83\u4eec\u4ec5\u4ec5\u6807\u8bb0\u5f53\u524d\u8fd9\u4e2a\u5b57\u7b26\u4e32\u7684\u5185\u90e8\u7c7b\u578b\uff0c\u771f\u6b63\u5b9a\u4e49\u4e00\u4e2a\u5b57\u7b26\u4e32\u7ed3\u6784\u7684\u662f <code>TString</code></p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_1_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/#22-extra","title":"2.2 extra","text":"<p>\u8fd9\u4e2a\u57df\u7684\u4f5c\u7528\u548c\u6ce8\u91ca\u89e3\u91ca\u7684\u4e00\u6837\uff1a</p> <ul> <li>\u5bf9\u77ed\u5b57\u7b26\u4e32\u6765\u8bf4\uff0c\u5b83\u7528\u6765\u6807\u8bb0\u5f53\u524d\u5b57\u7b26\u4e32\u662f\u5426\u662f\u4fdd\u7559\u5b57\uff0c\u8fd9\u4f1a\u7528\u4e8e\u8bcd\u6cd5\u5206\u6790</li> <li>\u5bf9\u957f\u5b57\u7b26\u4e32\u6765\u8bf4\uff0c\u5b83\u8868\u793a\u662f\u5426\u8ba1\u7b97\u4e86hash\uff0c\u8fd9\u7528\u4e8e\u60f0\u6027\u6c42\u54c8\u5e0c\u503c<ul> <li>\u60f0\u6027\uff1a\u5728\u53d6Hash\u503c\u65f6\u624d\u5224\u65ad\u662f\u5426\u5df2\u7ecf\u8ba1\u7b97\uff0c\u5df2\u7ecf\u8ba1\u7b97\u5219\u8fd4\u56de\u8ba1\u7b97\u597d\u7684\u7ed3\u679c\uff0c\u5426\u5219\u5f53\u573a\u8ba1\u7b97</li> <li>\u4ece\u5916\u90e8\u538b\u5165\u4e00\u4e2a\u957f\u5b57\u7b26\u4e32\u65f6\uff0c\u6ca1\u6709\u7acb\u523b\u8ba1\u7b97\u5176hash\u503c\uff0c\u53ea\u662f\u7b80\u5355\u5730\u590d\u5236\u4e00\u904d\u5b57\u7b26\u4e32\u5185\u5bb9\uff0c\u7136\u540e\u6807\u8bb0\u4e00\u4e0bextra\u57df\uff0c\u6807\u8bb0\u4e3a\u6ca1\u6709hash\u3002\u76f4\u5230\u9700\u8981\u5bf9\u5b57\u7b26\u4e32\u505a\u952e\u5339\u914d\u65f6\uff0c\u624d\u60f0\u6027\u8ba1\u7b97hash\u503c\uff0c\u52a0\u5feb\u4e4b\u540e\u7684\u952e\u6bd4\u8f83\u8fc7\u7a0b</li> </ul> </li> </ul>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_1_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/#23-shrlen","title":"2.3 shrlen","text":"<p>\u5982\u679c\u5f53\u524d\u5b57\u7b26\u4e32\u662f\u77ed\u5b57\u7b26\u4e32\uff0c\u5b58\u50a8\u77ed\u5b57\u7b26\u4e32\u7684\u957f\u5ea6</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_1_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/#24-hash","title":"2.4 hash","text":"<p>\u5f53\u524d\u5b57\u7b26\u4e32\u7684\u54c8\u5e0c\u503c\uff0c\u7531\u4e8e\u77ed\u5b57\u7b26\u4e32\u5b58\u50a8\u5728</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_1_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/#25-lnglenhnextu","title":"2.5 lnglen\u3001hnext\u4ee5\u53cau\u7684\u8bbe\u8ba1","text":"<p>\u9996\u5148\u6211\u4eec\u770b <code>lnglen</code> \u548c <code>hnext</code> \u7684\u542b\u4e49\uff0c\u518d\u6765\u770b\u4e3a\u4f55\u8981\u7ed3\u5408\u4e24\u8005\u5f62\u6210 <code>u</code></p> <p><code>lnglen</code> \u5b58\u50a8\u957f\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c\u533a\u522b\u4e8e <code>shrlen</code> \u53ea\u6709\u4e00\u4e2a <code>lu_byte (unsigned char))</code> \u7684\u5927\u5c0f\uff0c\u5b83\u7ed9\u4e86\u4e00\u4e2a <code>size_t (unsigned int64)</code> \u7684\u5927\u5c0f\u7ed9\u7684\u5f88\u5145\u8db3</p> <p><code>hnext</code> \u5219\u4e0e\u957f\u5b57\u7b26\u4e32\u65e0\u5173\uff0c\u7531\u4e8e\u91c7\u7528\u94fe\u8868\u5bfb\u5740\uff0c\u77ed\u5b57\u7b26\u4e32\u5b58\u50a8\u5728\u5168\u5c40\u5b57\u7b26\u54c8\u5e0c\u8868\u4e2d\u7684\u5355\u4e2a\u54c8\u5e0c\u6876\u4e2d\uff0c\u8be5\u6307\u9488\u6307\u5411\u54c8\u5e0c\u6876\u7684\u4e0b\u4e00\u4e2a\u94fe\u8868\u8282\u70b9\uff0c\u4e5f\u5c31\u662f\u54c8\u5e0c\u51b2\u7a81\u7684\u4e0b\u4e00\u4e2a\u5143\u7d20\u3002\u8fd9\u4e2a\u6307\u9488\u7684\u4f5c\u7528\u662f\u5728\u5220\u9664\u5f53\u524d\u77ed\u5b57\u7b26\u4e32\uff0c\u6216\u8005\u5168\u5c40\u54c8\u5e0c\u8868\u89e6\u53d1\u4e86 <code>rehash</code> \u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u4ea6\u6216\u662f\u65b0\u5efa\u5b57\u7b26\u4e32\u89e6\u53d1 <code>\u5185\u90e8\u5316</code> \u67e5\u8be2\u7684\u65f6\u5019\uff0c\u5e2e\u52a9Lua\u5185\u90e8\u66f4\u9ad8\u6548\u5730\u5904\u7406\u54c8\u5e0c\u8868</p> <p><code>Union</code> \u662f\u4e00\u79cd\u5171\u7528\u4f53\uff0c\u5141\u8bb8\u591a\u4e2a\u6210\u5458\u5171\u7528\u540c\u4e00\u6bb5\u5185\u5b58\uff0c\u800c\u4e0d\u662f\u5206\u522b\u5360\u7528\u5185\u5b58\u3002\u50cf <code>lnglen</code> \u548c <code>hnext</code> \u7279\u522b\u4f7f\u7528 <code>Union</code>\uff0c\u56e0\u4e3a\u5b83\u4eec\u7684\u5e94\u7528\u573a\u666f\u662f\u4e92\u65a5\u7684\uff0c\u53ea\u53ef\u80fd\u6709\u4e24\u8005\u4e4b\u4e00\u88ab\u4f7f\u7528\uff0c\u8fd9\u6837\u4e00\u6765\u8282\u7701\u4e86\u5b57\u7b26\u4e32\u5b57\u6bb5\u7684\u5185\u5b58\u5360\u7528\u3002\u5176\u5b9e\u8fd9\u91cc <code>lnglen</code> \u548c <code>shrlen</code> \u4e5f\u662f\u4e92\u65a5\u7684\uff0c\u4f46\u662f\u8fd9\u91cc\u660e\u663e\u4f7f\u7528 <code>hnext</code> \u66f4\u4f18\uff0c\u6bd5\u7adf\u6307\u9488\u6700\u5c11\u5360\u75284\u5b57\u8282\uff0864\u4f4d\u64cd\u4f5c\u7cfb\u7edf\u5c31\u662f64\u00f78=8\u4e2a\u5b57\u8282\uff09\uff0c\u5c06\u4e24\u4e2a\u5360\u7528\u5927\u7684\u58f0\u660e\u5728\u4e00\u8d77\u66f4\u8282\u7701\uff0c\u8fd9\u79cd\u7ec6\u8282\u8bbe\u8ba1\u4e5f\u662f\u6bd4\u8f83\u7cbe\u5f69\u7684</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_1_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/#26-contents","title":"2.6 contents","text":"<p>\u957f\u5b57\u7b26\u4e32\u5b58\u50a8\u5b9e\u9645\u5b57\u7b26\u4e32\u5185\u5bb9\u7684\u6570\u7ec4\uff0c\u4ece\u4e00\u4e2a <code>TString</code> \u7c7b\u578b\u7684\u5bf9\u8c61\u4e2d\u53d6\u5b9e\u9645\u5b57\u7b26\u4e32\u5185\u5bb9\u7684API\uff1a</p> C<pre><code>/*\n** Get the actual string (array of bytes) from a 'TString'.\n*/\n#define getstr(ts)  ((ts)-&gt;contents)\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_1_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1/#hash-dos","title":"Hash DoS","text":"<p>\u5728Lua5.2.0\u53ca\u4e4b\u524d\uff0c\u5b57\u7b26\u4e32\u4e0d\u7ba1\u957f\u77ed\u4e00\u5f8b\u5185\u90e8\u5316\u540e\u5b58\u653e\u5728\u5b57\u7b26\u4e32\u8868\u4e2d\uff0c\u5f53\u65f6\u5b57\u7b26\u4e32\u54c8\u5e0c\u503c\u7684\u8ba1\u7b97\u4ee3\u7801\u5982\u4e0b\uff1a</p> C<pre><code>unsigned int luaS_hash (const char *str, size_t l) {\n  unsigned int h = cast(unsigned int, l);\n  size_t step = (1&gt;&gt;5)+1;\n  size_t l1;\n  for (l1=l; l1&gt;=step; l1-=step)\n    h = h ^ ((h&lt;&lt;5)+(h&gt;&gt;2)+cast(unsigned char, str[l1-l]));\n  return h;\n}\n</code></pre> <p>Note</p> <p>\u539f\u6587\uff1aLua5.2.0\u53d1\u5e03\u4e0d\u4e45\uff0c\u6709\u4eba\u5728\u90ae\u4ef6\u5217\u8868\u4e2d\u63d0\u51fa\uff0cLua\u7684\u8fd9\u4e2a\u8bbe\u8ba1\u6709\u53ef\u80fd\u5bf9\u5176\u7ed9\u4e8e Hash Dos \u653b\u51fb\u7684\u673a\u4f1a\u3002\u653b\u51fb\u8005\u53ef\u4ee5\u8f7b\u6613\u6784\u9020\u51fa\u4e0a\u5343\u4e07\u62e5\u6709\u76f8\u540c\u54c8\u5e0c\u503c\u7684\u4e0d\u540c\u5b57\u7b26\u4e32\uff0c\u4ee5\u6b64\u6570\u5341\u500d\u7684\u964d\u4f4eLua\u4ece\u5916\u90e8\u538b\u5165\u5b57\u7b26\u4e32\u8fdb\u5165\u5185\u90e8\u5b57\u7b26\u4e32\u8868\u7684\u6548\u7387\u3002\u5f53Lua\u7528\u4e8e\u5927\u91cf\u4f9d\u8d56\u5b57\u7b26\u4e32\u5904\u7406\u7684\u8bf8\u5982HTTP\u670d\u52a1\u7684\u5904\u7406\u65f6\uff0c\u8f93\u5165\u7684\u5b57\u7b26\u4e32\u4e0d\u53ef\u63a7\u5236\uff0c\u5f88\u5bb9\u6613\u88ab\u4eba\u6076\u610f\u5229\u7528</p> <p>\u4eceLua5.2.1\u5f00\u59cb\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u505a\u4e86\u5982\u4e0b\u6539\u52a8\uff1a</p> <ul> <li>\u957f\u5b57\u7b26\u4e32\u72ec\u7acb\u51fa\u6765\uff0c\u4e0d\u518d\u901a\u8fc7\u5185\u90e8\u5316\u8fdb\u5165\u5168\u5c40\u5b57\u7b26\u4e32\u8868</li> <li>\u4f7f\u7528\u4e00\u4e2a\u968f\u673a\u79cd\u5b50\u7528\u4e8e\u54c8\u5e0c\u503c\u7684\u8ba1\u7b97\uff0c\u4f7f\u653b\u51fb\u8005\u65e0\u6cd5\u8f7b\u6613\u6784\u9020\u51fa\u62e5\u6709\u76f8\u540c\u54c8\u5e0c\u503c\u7684\u4e0d\u540c\u5b57\u7b26\u4e32</li> </ul> <p>\u8fd9\u91cc\u6211\u4eec\u770b\u4e0b5.4.4\u7248\u672c\u7684\u5b9e\u73b0\uff1a</p> C<pre><code>// lstring.c\n\nunsigned int luaS_hash (const char *str, size_t l, unsigned int seed) {\n  unsigned int h = seed ^ cast_uint(l);\n  for (; l &gt; 0; l--)\n    h ^= ((h&lt;&lt;5) + (h&gt;&gt;2) + cast_byte(str[l - 1]));\n  return h;\n}\n</code></pre> <p>\u8fd9\u4e2a\u968f\u673a\u79cd\u5b50 <code>seed</code> \u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u662f\u5728 <code>Lua State</code> \u521b\u5efa\u65f6\u653e\u5728\u5168\u5c40\u8868\u4e2d\u7684\uff0c\u5b83\u5229\u7528\u4e86\u6784\u9020\u72b6\u6001\u673a\u7684\u5185\u5b58\u5730\u5740\u968f\u673a\u6027\uff0c\u4ee5\u53ca\u7528\u6237\u53ef\u914d\u7f6e\u7684\u4e00\u4e2a\u968f\u673a\u91cf\uff08\u9ed8\u8ba4\u662f\u4f7f\u7528time\u51fd\u6570\u83b7\u53d6\u65f6\u95f4\u6784\u9020\u79cd\u5b50\uff09\u540c\u65f6\u51b3\u5b9a\uff0c\u5982\u4e0b\u662f\u76f8\u5173\u4ee3\u7801\uff1a</p> C<pre><code>// lstate.c\n\n/*\n** Compute an initial seed with some level of randomness.\n** Rely on Address Space Layout Randomization (if present) and\n** current time.\n*/\n#define addbuff(b,p,e) \\\n  { size_t t = cast_sizet(e); \\\n    memcpy(b + p, &amp;t, sizeof(t)); p += sizeof(t); }\n\nstatic unsigned int luai_makeseed (lua_State *L) {\n  char buff[3 * sizeof(size_t)];\n  unsigned int h = cast_uint(time(NULL));\n  int p = 0;\n  addbuff(buff, p, L);  /* heap variable */\n  addbuff(buff, p, &amp;h);  /* local variable */\n  addbuff(buff, p, &amp;lua_newstate);  /* public function */\n  lua_assert(p == sizeof(buff));\n  return luaS_hash(buff, p, h);\n}\n</code></pre> <p>\u79cd\u5b50\u7684\u5b58\u653e\u548c\u4f7f\u7528\uff0c\u76f8\u5173\u4ee3\u7801\uff1a</p> C<pre><code>// lstate.c\n\n/* \u521b\u5efa\u72b6\u6001\u673a\u65f6\u5b58\u653e\u5728\u5168\u5c40\u72b6\u6001\u673a\u79cd */\nLUA_API lua_State *lua_newstate (lua_Alloc f, void *ud) {\n  ...\n  g-&gt;seed = luai_makeseed(L);\n  ...\n}\n\n/* \u8fd4\u56de\u6216\u8005\u6784\u5efa\u77ed\u5b57\u7b26\u4e32 */\nstatic TString *internshrstr (lua_State *L, const char *str, size_t l) {\n  ...\n  unsigned int h = luaS_hash(str, l, g-&gt;seed);\n  ...\n}\n\n/* \u6784\u5efa\u957f\u5b57\u7b26\u4e32 */\nTString *luaS_createlngstrobj (lua_State *L, size_t l) {\n  TString *ts = createstrobj(L, l, LUA_VLNGSTR, G(L)-&gt;seed);\n  ...\n}\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_2_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E7%9B%B8%E5%85%B3%E5%AE%9E%E7%8E%B0/","title":"3.2 \u5b57\u7b26\u4e32\u7684\u76f8\u5173\u5b9e\u73b0","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_2_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E7%9B%B8%E5%85%B3%E5%AE%9E%E7%8E%B0/#_1","title":"\u5b57\u7b26\u4e32\u6bd4\u8f83","text":"<p>\u77ed\u5b57\u7b26\u4e32\u7684\u6bd4\u8f83\u5f88\u7b80\u5355\uff0c\u7531\u4e8e\u88ab\u5185\u90e8\u5316\uff0c\u53ea\u9700\u8981\u6bd4\u8f83\u5185\u5b58\u5730\u5740\u5373\u53ef\uff1a</p> C<pre><code>// lstring.h\n\n/*\n** equality for short strings, which are always internalized\n*/\n#define eqshrstr(a,b)   check_exp((a)-&gt;tt == LUA_VSHRSTR, (a) == (b))\n</code></pre> <p>\u5bf9\u4e8e\u957f\u5b57\u7b26\u4e32\uff0c\u9996\u5148\u6bd4\u8f83\u957f\u5ea6\uff0c\u957f\u5ea6\u76f8\u540c\u7684\u60c5\u51b5\u4e0b\u9700\u8981\u9010\u5b57\u8282\u6bd4\u8f83\uff1a</p> C<pre><code>/*\n** equality for long strings\n*/\nint luaS_eqlngstr (TString *a, TString *b) {\n  size_t len = a-&gt;u.lnglen;\n  lua_assert(a-&gt;tt == LUA_VLNGSTR &amp;&amp; b-&gt;tt == LUA_VLNGSTR);\n  return (a == b) ||  /* same instance or... */\n    ((len == b-&gt;u.lnglen) &amp;&amp;  /* equal length and ... */\n     (memcmp(getstr(a), getstr(b), len) == 0));  /* equal contents */\n}\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/03_%E5%AD%97%E7%AC%A6%E4%B8%B2/3_2_%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E7%9B%B8%E5%85%B3%E5%AE%9E%E7%8E%B0/#_2","title":"\u77ed\u5b57\u7b26\u4e32\u7684\u5185\u90e8\u5316","text":"<p>\u76f4\u63a5\u4e0a\u5185\u90e8\u5316\u7684\u4ee3\u7801\uff1a</p> C<pre><code>// lstring.c\n\n/*\n** Checks whether short string exists and reuses it or creates a new one.\n*/\nstatic TString *internshrstr (lua_State *L, const char *str, size_t l) {\n  TString *ts;\n  global_State *g = G(L);\n  stringtable *tb = &amp;g-&gt;strt;\n  unsigned int h = luaS_hash(str, l, g-&gt;seed);\n  TString **list = &amp;tb-&gt;hash[lmod(h, tb-&gt;size)];\n  lua_assert(str != NULL);  /* otherwise 'memcmp'/'memcpy' are undefined */\n  for (ts = *list; ts != NULL; ts = ts-&gt;u.hnext) {\n    if (l == ts-&gt;shrlen &amp;&amp; (memcmp(str, getstr(ts), l * sizeof(char)) == 0)) {\n      /* found! */\n      if (isdead(g, ts))  /* dead (but not collected yet)? */\n        changewhite(ts);  /* resurrect it */\n      return ts;\n    }\n  }\n  /* else must create a new string */\n  if (tb-&gt;nuse &gt;= tb-&gt;size) {  /* need to grow string table? */\n    growstrtab(L, tb);\n    list = &amp;tb-&gt;hash[lmod(h, tb-&gt;size)];  /* rehash with new size */\n  }\n  ts = createstrobj(L, l, LUA_VSHRSTR, h);\n  memcpy(getstr(ts), str, l * sizeof(char));\n  ts-&gt;shrlen = cast_byte(l);\n  ts-&gt;u.hnext = *list;\n  *list = ts;\n  tb-&gt;nuse++;\n  return ts;\n}\n</code></pre> <p>\u6211\u4eec\u8be6\u7ec6\u5206\u6790\u4e0b\uff1a</p> C<pre><code>global_State *g = G(L);\nstringtable *tb = &amp;g-&gt;strt;\n</code></pre> <p>\u8fd9\u91cc\u8ba4\u8bc1\u4e86\u77ed\u5b57\u7b26\u4e32\u5b58\u653e\u5728\u5168\u5c40\u5b57\u7b26\u4e32\u8868\u8fd9\u4e2a\u8bf4\u6cd5\uff0c<code>strt</code> \u5c31\u662f <code>string table</code> \u7684\u7b80\u5199</p> C<pre><code>unsigned int h = luaS_hash(str, l, g-&gt;seed);\nTString **list = &amp;tb-&gt;hash[lmod(h, tb-&gt;size)];\n</code></pre> <p><code>luaS_hash</code> \u5728\u4e0a\u8282\u7684Lua\u4e3a\u5e94\u5bf9DoS\u653b\u51fb\u505a\u51fa\u7684\u4fee\u6539\u4e2d\u6709\u63d0\u5230\uff0c\u8fd9\u4e2a\u51fd\u6570\u7528\u4e8e\u8ba1\u7b97\u5b57\u7b26\u4e32\u7684\u54c8\u5e0c\u503c\u3002\u7136\u540e\u548c\u7ecf\u5178\u7684\u94fe\u5f0f\u5bfb\u5740\u54c8\u5e0c\u8868\u7684\u5b9e\u73b0\u4e00\u81f4\uff0clua\u4e5f\u7528\u5f62\u5982 <code>index = hash(key) % capacity</code> \u7684\u903b\u8f91\u8ba1\u7b97\u5f97\u5230\u54c8\u5e0c\u6876\u7684\u4e0b\u6807\u3002\u6240\u4ee5\u8fd9\u91cc\u5f97\u5230\u7684 <code>list</code> \u5c31\u662f\u5f53\u524d\u5b57\u7b26\u4e32\u5b58\u50a8\u7684\u6876\uff08\u94fe\u8868\uff09</p> C<pre><code>for (ts = *list; ts != NULL; ts = ts-&gt;u.hnext) {\n  if (l == ts-&gt;shrlen &amp;&amp; (memcmp(str, getstr(ts), l * sizeof(char)) == 0)) {\n    /* found! */\n    if (isdead(g, ts))  /* dead (but not collected yet)? */\n      changewhite(ts);  /* resurrect it */\n    return ts;\n  }\n}\n</code></pre> <p>\u4e0a\u9762\u8fd9\u90e8\u5206\u5c31\u662f\u5728\u6876\u4e2d\u67e5\u662f\u5426\u6709\u5df2\u7ecf\u5b58\u8fc7\u7684\u76f8\u540c\u5b57\u7b26\u4e32\uff0c\uff08\u8fd9\u4e5f\u662f\u5185\u90e8\u5316\u7684\u6838\u5fc3\uff0c\u5408\u5e76\u76f8\u540c\u5185\u5bb9\u7684\u5b57\u7b26\u4e32\uff09\u5982\u679c\u6709\uff0c\u90a3\u4e48\u5c31\u76f4\u63a5\u8fd4\u56de\u5b83\uff0c\u4e0d\u7528\u518d\u521b\u5efa\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\u8fd9\u91cc\u7684 <code>isdead</code> \u548c <code>changewhite</code> \u7684\u5904\u7406\uff0c\u539f\u6587\u5bf9\u8fd9\u91cc\u6709\u6e05\u695a\u5730\u89e3\u91ca\uff1a</p> <p>Note</p> <p>\u8fd9\u91cc\u9700\u8981\u68c0\u67e5\u8868\u4e2d\u7684\u5b57\u7b26\u4e32\u662f\u5426\u662f\u6b7b\u6389\u7684\u5b57\u7b26\u4e32\u3002\u8fd9\u662f\u56e0\u4e3aLua\u7684\u5783\u573e\u6536\u96c6\u8fc7\u7a0b\u662f\u5206\u6b65\u5b8c\u6210\u7684\u3002\u800c\u5411\u5b57\u7b26\u4e32\u6c60\u6dfb\u52a0\u65b0\u5b57\u7b26\u4e32\u5728\u4efb\u4f55\u6b65\u9aa4\u4e4b\u95f4\u90fd\u53ef\u80fd\u53d1\u751f\u3002\u6709\u53ef\u80fd\u5728\u6807\u8bb0\u5b8c\u5b57\u7b26\u4e32\u540e\u53d1\u73b0\u6709\u4e9b\u5b57\u7b26\u4e32\u6ca1\u6709\u4efb\u4f55\u5f15\u7528\uff0c\u4f46\u5728\u4e0b\u4e2a\u6b65\u9aa4\u4e2d\u53c8\u4ea7\u751f\u4e86\u76f8\u540c\u7684\u5b57\u7b26\u4e32\u5bfc\u81f4\u8fd9\u4e2a\u5b57\u7b26\u4e32\u590d\u6d3b</p> C<pre><code>if (tb-&gt;nuse &gt;= tb-&gt;size) {  /* need to grow string table? */\n  growstrtab(L, tb);\n  list = &amp;tb-&gt;hash[lmod(h, tb-&gt;size)];  /* rehash with new size */\n}\n\n// lstring.c\nstatic void growstrtab (lua_State *L, stringtable *tb) {\n  if (l_unlikely(tb-&gt;nuse == MAX_INT)) {  /* too many strings? */\n    luaC_fullgc(L, 1);  /* try to free some... */\n    if (tb-&gt;nuse == MAX_INT)  /* still too many? */\n      luaM_error(L);  /* cannot even create a message... */\n  }\n  if (tb-&gt;size &lt;= MAXSTRTB / 2)  /* can grow string table? */\n    luaS_resize(L, tb-&gt;size * 2);\n}\n\n/*\n** Resize the string table. If allocation fails, keep the current size.\n** (This can degrade performance, but any non-zero size should work\n** correctly.)\n*/\nvoid luaS_resize (lua_State *L, int nsize) {\n  stringtable *tb = &amp;G(L)-&gt;strt;\n  int osize = tb-&gt;size;\n  TString **newvect;\n  if (nsize &lt; osize)  /* shrinking table? */\n    tablerehash(tb-&gt;hash, osize, nsize);  /* depopulate shrinking part */\n  newvect = luaM_reallocvector(L, tb-&gt;hash, osize, nsize, TString*);\n  if (l_unlikely(newvect == NULL)) {  /* reallocation failed? */\n    if (nsize &lt; osize)  /* was it shrinking table? */\n      tablerehash(tb-&gt;hash, nsize, osize);  /* restore to original size */\n    /* leave table as it was */\n  }\n  else {  /* allocation succeeded */\n    tb-&gt;hash = newvect;\n    tb-&gt;size = nsize;\n    if (nsize &gt; osize)\n      tablerehash(newvect, osize, nsize);  /* rehash for new size */\n  }\n}\n</code></pre> <p>\u65e2\u7136\u662f\u54c8\u5e0c\u8868\uff0c\u81ea\u7136\u79bb\u4e0d\u5f00\u8d1f\u8f7d\u56e0\u5b50\u8fc7\u5927\uff08\u54c8\u5e0c\u51b2\u7a81\u4e25\u91cd\uff09\u5bfc\u81f4\u6269\u5bb9\u8fd9\u4e2a\u8bdd\u9898\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u4e5f\u7ed9\u51fa\u4e86Lua\u7684\u65b9\u6848\uff0c\u53ef\u4ee5\u770b\u51faLua\u7684\u8d1f\u8f7d\u56e0\u5b50\u9ed8\u8ba4\u662f1\uff0c\u5373 <code>size / capacity = 1</code> \u65f6\u4f1a\u89e6\u53d1\u6269\u5bb9</p> C<pre><code>ts = createstrobj(L, l, LUA_VSHRSTR, h);\nmemcpy(getstr(ts), str, l * sizeof(char));\nts-&gt;shrlen = cast_byte(l);\nts-&gt;u.hnext = *list;\n*list = ts;\ntb-&gt;nuse++;\nreturn ts;\n\n/*\n** creates a new string object\n*/\nstatic TString *createstrobj (lua_State *L, size_t l, int tag, unsigned int h) {\n  TString *ts;\n  GCObject *o;\n  size_t totalsize;  /* total size of TString object */\n  totalsize = sizelstring(l);\n  o = luaC_newobj(L, tag, totalsize);\n  ts = gco2ts(o);\n  ts-&gt;hash = h;\n  ts-&gt;extra = 0;\n  getstr(ts)[l] = '\\0';  /* ending 0 */\n  return ts;\n}\n</code></pre> <p>\u5269\u4e0b\u7684\u8fd9\u90e8\u5206\u5219\u662f\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u77ed\u5b57\u7b26\u4e32\u7684\u903b\u8f91\uff0c\u5176\u6838\u5fc3\u662f <code>createstrobj</code> \u51fd\u6570\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e3a\u4e86\u517c\u5bb9C\u63a5\u53e3\uff0cLua\u4f1a\u5728\u5b57\u7b26\u4e32\u672b\u5c3e\u52a0\u4e0a\u4e00\u4e2a <code>\\0</code>\uff0c\u4f46\u8fd9\u4e2a\u7ed3\u5c3e\u7b26\u5e76\u4e0d\u8ba1\u7b97\u5728\u5b57\u7b26\u4e32\u957f\u5ea6\u5185</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_1_%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/","title":"4.1 \u8868\u7684\u6570\u636e\u7ed3\u6784","text":"<p>Lua \u7528 table \u6765\u8868\u793a\u4e00\u5207\u6570\u636e\u7ed3\u6784\uff0c\u4e3a\u4e86\u6548\u7387\uff0cLua \u5c06 table \u7684\u5b58\u50a8\u5206\u4e3a\u4e86 <code>\u6570\u7ec4</code> \u548c <code>\u54c8\u5e0c\u8868</code> \u4e24\u4e2a\u90e8\u5206\u3002</p> <ul> <li>\u6570\u7ec4\u90e8\u5206\u63d0\u4f9b\u4e86\u7d27\u51d1\u4e14\u9ad8\u6548\u7684\u968f\u673a\u8bbf\u95ee\u3002\u5b83\u7684\u7d22\u5f15\u4ece1\u5f00\u59cb\uff0c\u8fd9\u662f Lua \u533a\u522b\u4e8e\u5176\u4ed6\u8bed\u8a00\u7684\u4e00\u4e2a\u5730\u65b9\u3002</li> <li>\u65e0\u6cd5\u5b58\u8fdb\u6570\u7ec4\u7684\u5176\u4ed6\u6570\u636e\u5219\u5b58\u50a8\u5728\u54c8\u5e0c\u8868\u4e2d\uff0c\u5b83\u7684\u952e\u53ef\u4ee5\u662f\u9664nil\u5916\u7684\u4efb\u610f\u503c\u3002</li> </ul> <p>\u8fd9\u6837\u7684\u5206\u5f00\u5b58\u50a8\u5bf9\u4f7f\u7528\u8005\u6765\u8bf4\u5b8c\u5168\u900f\u660e\uff0c\u4f46\u662f\u6211\u4eec\u9700\u8981\u638c\u63e1\u5b83\u5b58\u50a8\u7684\u539f\u7406\u548c\u903b\u8f91\uff0c\u5426\u5219\u4f1a\u9020\u6210\u9884\u60f3\u4e0d\u5230\u7684\u6027\u80fd\u5f00\u9500\u3002\u5b83\u7684\u6570\u636e\u7ed3\u6784\u5b9a\u4e49\u5982\u4e0b\uff1a</p> C<pre><code>typedef struct Table {\n  CommonHeader;\n  lu_byte flags;  /* 1&lt;&lt;p means tagmethod(p) is not present */\n  lu_byte lsizenode;  /* log2 of size of 'node' array */\n  unsigned int alimit;  /* \"limit\" of 'array' array */\n  TValue *array;  /* array part */\n  Node *node;\n  Node *lastfree;  /* any free position is before this position */\n  struct Table *metatable;\n  GCObject *gclist;\n} Table;\n</code></pre> <p>\u7b80\u5355\u4ecb\u7ecd\u4e0b\u5b83\u7684\u6bcf\u4e2a\u57df\uff1a</p> <ul> <li>CommonHeader\uff1a\u53ef\u56de\u6536\u5bf9\u8c61\u9ed8\u8ba4\u5728\u5934\u90e8\u5206\u914d\u7684\u5185\u5b58</li> <li>flags\uff1a\u8868\u793a\u8fd9\u4e2a\u8868\u63d0\u4f9b\u4e86\u54ea\u4e9b\u5143\u65b9\u6cd5\uff0c\u7f6e 1 \u7684\u4f4d\u4ee3\u8868\u5bf9\u5e94\u7684\u5143\u65b9\u6cd5\u6ca1\u6709\u5b9e\u73b0\uff0c\u5143\u65b9\u6cd5\u5bf9\u5e94\u7684 bit \u5b9a\u4e49\u5728 ltm.h \u6587\u4ef6\u4e2d</li> <li>lsizenode\uff1a\u5b58\u50a8\u54c8\u5e0c\u8868\u7684\u5927\u5c0f\uff0c\u5b83\u7684\u503c\u662f\u4ee52\u4e3a\u5e95\u7684\u5bf9\u6570\u3002\u6bd4\u5982\u54c8\u5e0c\u8868\u7684\u957f\u5ea6\u662f256\uff0c\u90a3\u4e48 lsizenode \u7684\u503c\u4e3a8\uff0c\u7531\u6b64\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e24\u4e2a\u4fe1\u606f\uff1a<ul> <li>\u54c8\u5e0c\u8868\u6269\u5bb9\u662f\u5728\u539f\u57fa\u7840\u4e0a\u52a0\u4e00\u500d\uff0c\u54c8\u5e0c\u8868\u7684\u5185\u5b58\u5927\u5c0f\u59cb\u7ec8\u662f 2 \u7684\u5e42</li> <li>\u8fd9\u4e2a\u57df\u4e4b\u6240\u4ee5\u662f byte \u7c7b\u578b\uff0c\u662f\u56e0\u4e3a\u8db3\u591f\u4e86</li> </ul> </li> <li>alimit\uff1a\u8868\u793a\u6570\u7ec4\u90e8\u5206\u7684\u903b\u8f91\u8fb9\u754c\uff0c\u4e0b\u6587\u8be6\u89e3</li> <li>array\uff1a\u6307\u5411\u6570\u7ec4\u90e8\u5206\u7684\u6307\u9488</li> <li>node\uff1a\u6307\u5411\u54c8\u5e0c\u90e8\u5206\u8d77\u59cb\u4f4d\u7f6e\u7684\u6307\u9488</li> <li>lastfree\uff1a\u6307\u5411\u54c8\u5e0c\u90e8\u5206\u6700\u540e\u4f4d\u7f6e\u7684\u6307\u9488</li> <li>metatable\uff1a\u6307\u5411\u5f53\u524d\u8868\u7684\u5143\u8868\u7684\u6307\u9488</li> <li>gclist\uff1aGC\u76f8\u5173\u7684\u94fe\u8868\uff0c\u540e\u7eed\u8bb2GC\u518d\u63a2\u8ba8</li> </ul>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_1_%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#alimit","title":"alimit","text":"<p><code>alimit</code> \u7406\u89e3\u4e3a array limit\uff0c\u662f Lua 5.4 \u5f15\u5165\u7684\u4e00\u4e2a\u5b57\u6bb5\uff0c\u7528\u4e8e\u6807\u8bb0 Table \u6570\u7ec4\u90e8\u5206\u7684 <code>\u903b\u8f91\u8fb9\u754c</code>\u3002\u5b83\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u52a8\u6001\u8c03\u6574\u6570\u7ec4\u90e8\u5206\u7684\u6709\u6548\u8303\u56f4\uff0c\u4ece\u800c\u4f18\u5316\u8868\u7684\u8bbf\u95ee\u6548\u7387\u3002</p> <p>\u600e\u4e48\u7406\u89e3\u6240\u8c13\u7684\u903b\u8f91\u8fb9\u754c\uff1f\u9996\u5148\uff0cLua \u5bf9\u6570\u7ec4\u7684\u5185\u5b58\u5206\u914d\u5e76\u4e0d\u662f\u6700\u5927\u7d22\u5f15\u662f\u591a\u5c11\u5c31\u5206\u914d\u591a\u5c11\uff0c\u800c\u662f\u4e00\u4e2a\u548c\u54c8\u5e0c\u8868\u5927\u5c0f\u6302\u94a9\u81ea\u9002\u5e94\u8c03\u6574\u5927\u5c0f\u7684\u5206\u914d\u89c4\u5219\uff08\u4e0b\u6587\u4f1a\u5206\u6790\uff09\uff0c\u6700\u540e\u6570\u7ec4\u7684\u5927\u5c0f\u4f1a\u8c03\u6574\u4e3a\u4e00\u4e2a2\u7684\u5e42\u3002\u800c alimit \u4ee3\u8868\u5f53\u524d\u6570\u7ec4\u90e8\u5206\u5b9e\u9645\u4f7f\u7528\u7684\u7d22\u5f15\u8303\u56f4\u3002</p> <p>\u5148\u8bf4\u4e0b\u8fd9\u4e2a\u81ea\u9002\u5e94\u8c03\u6574\u662f\u4ec0\u4e48\u610f\u601d\uff0c\u5047\u8bbe\u6211\u4eec\u6709\u4ee5\u4e0b\u4ee3\u7801\uff1a</p> Lua<pre><code>local t = {}\nt[1] = 0\nt[100] = 0\n</code></pre> <p>\u6211\u4eec\u5f80\u4e00\u4e2a table \u4e2d\u63d2\u5165\u4e86\u4e24\u4e2a\u5143\u7d20\uff0c\u8fd9\u4e24\u4e2a\u5143\u7d20\u4e00\u5b9a\u4f1a\u5206\u914d\u5728\u6570\u7ec4\u4e2d\u5417\uff1f\u8fd9\u662f\u4e0d\u4e00\u5b9a\u7684\u3002Lua \u4f1a\u6839\u636e\u6570\u7ec4\u90e8\u5206\u7684\u6709\u6548\u7d22\u5f15\u548c\u54c8\u5e0c\u90e8\u5206\u7684\u5168\u90e8\u6b63\u6574\u6570 key\uff08\u6570\u7ec4\u4e0b\u6807\u53ea\u80fd\u662f\u6b63\u6574\u6570\uff09\u7684\u5206\u5e03\u60c5\u51b5\uff0c\u4ee5\u4e00\u4e2a\u4f4d\u56fe\u7b97\u6cd5\u8ba1\u7b97\u51fa\u4e00\u4e2a\u8fb9\u754c\uff0c\u8d85\u8fc7\u8fd9\u4e2a\u8fb9\u754c\u7684\u90e8\u5206\u4f1a\u5b58\u50a8\u5728\u54c8\u5e0c\u8868\u4e2d\uff0c\u8fd9\u662f\u6574\u4e2a\u81ea\u9002\u5e94\u8c03\u6574\u7684\u5927\u81f4\u903b\u8f91\uff0c\u540e\u9762\u8bb2 table \u76f8\u5173\u7b97\u6cd5\u65f6\u4f1a\u8be6\u7ec6\u5206\u89e3\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_1_%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#alimit_1","title":"\u90a3\u4e3a\u4ec0\u4e48\u9700\u8981 alimit ?","text":"<ul> <li>\u4f18\u5316\u6027\u80fd\uff1a\u5728 Lua \u4e2d\uff0c\u6570\u7ec4\u90e8\u5206\u7684\u5927\u5c0f\u4f1a\u6839\u636e\u8868\u7684\u4f7f\u7528\u60c5\u51b5\u52a8\u6001\u8c03\u6574\uff0c\u4f46\u5b9e\u9645\u4f7f\u7528\u7684\u8303\u56f4\u53ef\u80fd\u5c0f\u4e8e\u5206\u914d\u7684\u5927\u5c0f\u3002\u4f7f\u7528 alimit \u53ef\u4ee5\u5feb\u901f\u5224\u65ad\u54ea\u4e9b\u7d22\u5f15\u5c5e\u4e8e\u6570\u7ec4\u90e8\u5206\uff0c\u800c\u65e0\u9700\u9891\u7e41\u64cd\u4f5c\u5185\u5b58\u3002</li> <li>\u652f\u6301\u7a00\u758f\u6570\u7ec4\uff1aLua \u8868\u53ef\u4ee5\u662f\u7a00\u758f\u7684\uff0c\u5373\u7d22\u5f15\u5e76\u975e\u8fde\u7eed\u7684\u6574\u6570\u3002alimit \u5e2e\u52a9\u533a\u5206\u54ea\u4e9b\u7d22\u5f15\u5c5e\u4e8e\u6570\u7ec4\u90e8\u5206\uff0c\u54ea\u4e9b\u5e94\u8be5\u5b58\u50a8\u5728\u54c8\u5e0c\u90e8\u5206\u3002</li> </ul>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_1_%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#alimit_2","title":"\u4f7f\u7528 alimit \u7684\u573a\u666f","text":"<ul> <li>\u5feb\u901f\u8bbf\u95ee\uff1a\u901a\u8fc7 alimit\uff0cLua \u53ef\u4ee5\u5feb\u901f\u5224\u65ad\u67d0\u4e2a\u7d22\u5f15\u662f\u5426\u5728\u6570\u7ec4\u90e8\u5206\u7684\u6709\u6548\u8303\u56f4\u5185\uff0c\u800c\u65e0\u9700\u9010\u4e00\u68c0\u67e5\u3002</li> <li>\u8868\u7684\u7ed3\u6784\u53d1\u751f\u53d8\u5316\uff1a\u5982\u63d2\u5165\u6216\u5220\u9664\u5143\u7d20\uff0cLua \u4f1a\u91cd\u65b0\u8bc4\u4f30\u8868\u7684\u5206\u5e03\uff08rehash\uff09\u3002\u5728 rehash \u8fc7\u7a0b\u4e2d\uff0cLua \u4f1a\u8c03\u6574 alimit \u4ee5\u786e\u4fdd\u6570\u7ec4\u90e8\u5206\u7684\u903b\u8f91\u8fb9\u754c\u662f\u6700\u4f18\u7684\u3002</li> </ul>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_1_%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_1","title":"\u4e3a\u4ec0\u4e48\u4e0d\u518d\u5b58\u50a8\u6570\u7ec4\u7684\u5b9e\u9645\u5927\u5c0f\uff08\u7269\u7406\u5927\u5c0f\uff09\uff1f","text":"<p>\u9996\u5148\u901a\u8fc7 alimit \u53ef\u4ee5\u975e\u5e38\u8fc5\u901f\u5730\u8ba1\u7b97\u51fa\u5b9e\u9645\u5927\u5c0f\uff0c\u4e24\u8005\u540c\u65f6\u5b58\u50a8\u6709\u4e9b\u6d6a\u8d39\u3002alimit \u5bf9\u4e8e\u5224\u65ad\u7d22\u5f15\u8303\u56f4\u5e2e\u52a9\u66f4\u5927\uff0c\u56e0\u6b64\u6ca1\u6709\u5b58\u50a8\u5b9e\u9645\u5927\u5c0f\u3002</p> <p>\u901a\u8fc7 alimit \u7b97\u5b9e\u9645\u5927\u5c0f\uff0c\u672c\u8d28\u4e0a\u662f\u7b97\u4e00\u4e2a\u5927\u4e8e alimit \u7684\u6700\u5c0f2\u7684\u5e42\u3002\u5982\u679c\u4e00\u4e2a table \u9891\u7e41\u5730 rehash\uff0c\u8fd9\u90e8\u5206\u4e5f\u5b58\u5728\u4e00\u5b9a\u7684\u8ba1\u7b97\u5f00\u9500\uff0cLua \u8003\u8651\u5230\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u8ba9\u6211\u4eec\u770b\u770b\u901a\u8fc7 alimit \u8ba1\u7b97\u5b9e\u9645\u5927\u5c0f\u7684\u6e90\u7801\uff1a</p> C<pre><code>/*\n** True if value of 'alimit' is equal to the real size of the array\n** part of table 't'. (Otherwise, the array part must be larger than\n** 'alimit'.)\n*/\n#define limitequalsasize(t) (isrealasize(t) || ispow2((t)-&gt;alimit))\n\n/*\n** Returns the real size of the 'array' array\n*/\nLUAI_FUNC unsigned int luaH_realasize (const Table *t) {\n  if (limitequalsasize(t))\n    return t-&gt;alimit;  /* this is the size */\n  else {\n    unsigned int size = t-&gt;alimit;\n    /* compute the smallest power of 2 not smaller than 'n' */\n    size |= (size &gt;&gt; 1);\n    size |= (size &gt;&gt; 2);\n    size |= (size &gt;&gt; 4);\n    size |= (size &gt;&gt; 8);\n    size |= (size &gt;&gt; 16);\n#if (UINT_MAX &gt;&gt; 30) &gt; 3\n    size |= (size &gt;&gt; 32);  /* unsigned int has more than 32 bits */\n#endif\n    size++;\n    lua_assert(ispow2(size) &amp;&amp; size/2 &lt; t-&gt;alimit &amp;&amp; t-&gt;alimit &lt; size);\n    return size;\n  }\n}\n</code></pre> <p>Lua \u5bf9\u6b64\u505a\u51fa\u7684\u4f18\u5316\u662f\uff0c\u5148\u5224\u65ad\u5f53\u524d table \u7684 alimit \u662f\u5426\u548c\u5b9e\u9645\u5927\u5c0f\u4e00\u81f4\uff0c\u4e0d\u4e00\u81f4\u518d\u8ba1\u7b97\u3002\u5b83\u7684\u6838\u5fc3\u662f isrealasize \u65b9\u6cd5\uff0c\u7531\u6b64\u6211\u4eec\u5f15\u7533\u51fa\u4e0b\u9762\u7684\u6e90\u7801\uff1a</p> C<pre><code>/*\n** About 'alimit': if 'isrealasize(t)' is true, then 'alimit' is the\n** real size of 'array'. Otherwise, the real size of 'array' is the\n** smallest power of two not smaller than 'alimit' (or zero iff 'alimit'\n** is zero); 'alimit' is then used as a hint for #t.\n*/\n\n#define BITRAS      (1 &lt;&lt; 7)\n#define isrealasize(t)      (!((t)-&gt;flags &amp; BITRAS))\n#define setrealasize(t)     ((t)-&gt;flags &amp;= cast_byte(~BITRAS))\n#define setnorealasize(t)   ((t)-&gt;flags |= BITRAS)\n</code></pre> <p>\u7ed3\u5408\u4e0a\u9762\u7684\u4ee3\u7801\u548c\u5b83\u4eec\u7684\u8c03\u7528\uff0c\u8fd9\u91cc Lua \u5b9e\u9645\u4e0a\u662f\u628a\u7ed3\u679c\u8bb0\u5f55\u5728\u4e86 <code>flags</code> \u57df\u4e2d, \u5728\u7b2c 8 \u4f4d\uff08bit 7\uff09\u5982\u679c\u6807\u8bb0\u4e3a 1\uff0c\u90a3\u4e48\u4ee3\u8868\u8be5\u8868\u7684 alimit \u4e0d\u7b49\u4e8e\u6570\u7ec4\u7684\u5b9e\u9645\u5927\u5c0f\u3002\u8fd9\u91cc\u4f1a\u4ea7\u751f\u4e00\u4e2a\u7591\u95ee\uff0cflags \u672c\u6765\u662f\u7528\u4e8e\u6807\u8bb0\u5143\u65b9\u6cd5\u662f\u5426\u6709\u6548\uff0c\u5728\u7b2c 8 \u4f4d\u5b58\u50a8\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5143\u65b9\u6cd5\u7684\u5224\u65ad\u5417\uff1f\uff08TM_SUB \u662f\u5143\u65b9\u6cd5\u63a9\u7801 7\uff09</p> <p>\u8fd9\u91cc\u5176\u5b9e\u5728\u8bbe\u8ba1\u4e0a\u5df2\u7ecf\u88ab\u5207\u5f00\u4e86\uff0c\u5f53\u524d\u8868\u5982\u679c\u662f\u5143\u8868\uff0c\u90a3\u4e48\u5b83\u7684 flags \u57df\u4f1a\u88ab\u7528\u4e8e\u5143\u65b9\u6cd5\u6807\u8bb0\uff0c\u800c\u4e0d\u4f1a\u6709 BITRAS \u7684\u5224\u65ad\u3002\u5982\u679c\u5f53\u524d\u8868\u4e0d\u662f\u5143\u8868\uff0c\u90a3\u4e48 flags \u4f1a\u7528\u4e8e\u6807\u8bb0 BITRAS</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_1_%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_2","title":"\u54c8\u5e0c\u8868\u7684\u7ed3\u6784","text":"<p>Table\u7684\u6570\u636e\u7ed3\u6784</p> <p>\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0carray \u57df\u6307\u5411\u4e00\u4e2a\u6570\u7ec4\u90e8\u5206\u7684\u8d77\u59cb\u4f4d\u7f6e\u3002node \u57df\u6307\u5411\u4e00\u4e2a\u54c8\u5e0c\u8868\u7684\u8d77\u59cb\u4f4d\u7f6e\uff0c lastfree \u5219\u662f\u6307\u5411\u54c8\u5e0c\u8868\u6700\u540e\u7684\u4f4d\u7f6e\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u5173\u6ce8\u4e0b\u54c8\u5e0c\u8868\u7684\u8282\u70b9\uff0c\u5b83\u7684\u7c7b\u578b\u662f <code>Node</code>\uff0c\u5b9a\u4e49\u5982\u4e0b\uff1a</p> C<pre><code>/*\n** Nodes for Hash tables: A pack of two TValue's (key-value pairs)\n** plus a 'next' field to link colliding entries. The distribution\n** of the key's fields ('key_tt' and 'key_val') not forming a proper\n** 'TValue' allows for a smaller size for 'Node' both in 4-byte\n** and 8-byte alignments.\n*/\ntypedef union Node {\n  struct NodeKey {\n    TValuefields;  /* fields for value */\n    lu_byte key_tt;  /* key type */\n    int next;  /* for chaining */\n    Value key_val;  /* key value */\n  } u;\n  TValue i_val;  /* direct access to node's value as a proper 'TValue' */\n} Node;\n</code></pre> <p>Node \u4f5c\u4e3a\u4e00\u4e2a\u8054\u5408\u4f53\uff0c\u5b83\u5934\u90e8\u7684\u5185\u5b58\u7a7a\u95f4\u7528\u4e8e\u5b58\u50a8\u5b9e\u9645\u7684\u503c\uff0c\u8fd9\u6837\u53ef\u4ee5\u901a\u8fc7 i_val \u57df\u76f4\u63a5\u8bbf\u95ee\u3002\u5f53\u9700\u8981\u8bbf\u95ee\u952e\u548c\u94fe\u8868\u7684\u5185\u5bb9\u65f6\uff0c\u7ed3\u5408\u540e\u7eed\u7684\u5185\u5b58\u4f5c\u4e3a <code>NodeKey</code> \u7ed3\u6784\u4f53\u8bbf\u95ee\u3002next \u6307\u5411\u94fe\u8868\u4e2d\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9\uff0c\u800c key_tt \u548c key_val \u5b58\u50a8\u4e86\u952e\u7684\u7c7b\u578b\u548c\u5b9e\u9645\u503c</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_1_%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_3","title":"\u8868\u7684\u521b\u5efa\u548c\u91ca\u653e","text":"C<pre><code>Table *luaH_new (lua_State *L) {\n  GCObject *o = luaC_newobj(L, LUA_VTABLE, sizeof(Table));\n  Table *t = gco2t(o);\n  t-&gt;metatable = NULL;\n  t-&gt;flags = cast_byte(maskflags);  /* table has no metamethod fields */\n  t-&gt;array = NULL;\n  t-&gt;alimit = 0;\n  setnodevector(L, t, 0);\n  return t;\n}\n\n\nvoid luaH_free (lua_State *L, Table *t) {\n  freehash(L, t);\n  luaM_freearray(L, t-&gt;array, luaH_realasize(t));\n  luaM_free(L, t);\n}\n</code></pre> <p>\u521b\u5efa\u548c\u91ca\u653e\u7684\u903b\u8f91\u5f88\u7b80\u5355\uff0c\u521b\u5efa\u65f6\u5206\u914d\u597d\u5185\u5b58\u7a7a\u95f4\uff0c\u7136\u540e\u7ed9\u521d\u59cb\u5316\u6570\u7ec4\u90e8\u5206\u548c\u54c8\u5e0c\u90e8\u5206\u7684\u6307\u9488\u3002\u91ca\u653e\u5219\u662f\u5148\u91ca\u653e\u6389\u54c8\u5e0c\u90e8\u5206\uff0c\u7136\u540e\u662f\u6570\u7ec4\u90e8\u5206\uff0c\u6700\u540e\u91ca\u653e\u6389\u6574\u4e2a\u8868\u3002</p> <p>\u6709\u4e00\u4e2a\u70b9\u9700\u8981\u6ce8\u610f\uff0c\u8bbe\u7f6e\u54c8\u5e0c\u90e8\u5206\u7684\u903b\u8f91\u662f\u8c03\u7528 <code>setnodevector(L, t, 0)</code>\uff0c\u5b83\u7684\u903b\u8f91\u5982\u4e0b\uff1a</p> C<pre><code>/*\n** Creates an array for the hash part of a table with the given\n** size, or reuses the dummy node if size is zero.\n** The computation for size overflow is in two steps: the first\n** comparison ensures that the shift in the second one does not\n** overflow.\n*/\nstatic void setnodevector (lua_State *L, Table *t, unsigned int size) {\n  if (size == 0) {  /* no elements to hash part? */\n    t-&gt;node = cast(Node *, dummynode);  /* use common 'dummynode' */\n    t-&gt;lsizenode = 0;\n    t-&gt;lastfree = NULL;  /* signal that it is using dummy node */\n  }\n  else {\n    int i;\n    int lsize = luaO_ceillog2(size);\n    if (lsize &gt; MAXHBITS || (1u &lt;&lt; lsize) &gt; MAXHSIZE)\n      luaG_runerror(L, \"table overflow\");\n    size = twoto(lsize);\n    t-&gt;node = luaM_newvector(L, size, Node);\n    for (i = 0; i &lt; (int)size; i++) {\n      Node *n = gnode(t, i);\n      gnext(n) = 0;\n      setnilkey(n);\n      setempty(gval(n));\n    }\n    t-&gt;lsizenode = cast_byte(lsize);\n    t-&gt;lastfree = gnode(t, size);  /* all positions are free */\n  }\n}\n</code></pre> <p>\u8fd9\u91cc Lua \u4e3a\u4e86\u51cf\u5c11\u7a7a\u8868\u7684\u7ef4\u62a4\uff0c\u5b9a\u4e49\u4e86\u4e00\u4e2a\u4e0d\u53ef\u6539\u5199\u7684\u7a7a\u54c8\u5e0c\u8868\uff1adummynode\u3002\u7a7a\u8868\u88ab\u521d\u59cb\u5316\u65f6\uff0cnode \u57df\u76f4\u63a5\u6307\u5411\u8fd9\u4e2a\u5168\u5c40\u8282\u70b9\u3002\u7531\u4e8e\u5b83\u662f\u53ea\u8bfb\u7684\uff0c\u6240\u4ee5\u4e0d\u4f1a\u5f15\u8d77\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_2_%E8%A1%A8%E7%9B%B8%E5%85%B3%E7%9A%84%E7%AE%97%E6%B3%95/","title":"4.2 \u8868\u76f8\u5173\u7684\u7b97\u6cd5","text":"<p>\u5728\u4e0a\u4e00\u8282\u4e2d\uff0c\u6211\u4eec\u7b80\u8981\u63d0\u5230\u4e86\u8868\u7684\u6570\u7ec4\u90e8\u5206\u548c\u54c8\u5e0c\u90e8\u5206\u4f1a\u8fdb\u884c\u81ea\u9002\u5e94\u8c03\u6574\uff1b\u4ee5\u6b63\u6574\u6570\u4e3a\u952e\u7684\u6570\u636e\u53ef\u80fd\u4f1a\u5b58\u50a8\u5728\u6570\u7ec4\u90e8\u5206\uff0c\u4e5f\u53ef\u80fd\u5b58\u50a8\u5728\u54c8\u5e0c\u90e8\u5206\uff1b\u5b58\u50a8\u5728\u6570\u7ec4\u90e8\u5206\u65f6\uff0c\u5b83\u7684\u952e\u5c31\u662f\u6570\u7ec4\u7684\u7d22\u5f15\uff1b\u800c\u5b58\u50a8\u5728\u54c8\u5e0c\u90e8\u5206\u65f6\uff0c\u5c31\u662f\u5355\u7eaf\u7684\u952e\u503c\u5bf9\u3002Lua\u6709\u4e00\u4e2a\u6807\u51c6\u53bb\u505a\u8fd9\u4e2a\u8c03\u6574\uff0c\u4fdd\u8bc1\u6570\u7ec4\u548c\u54c8\u5e0c\u90e8\u5206\u6709\u6700\u4f18\u7684\u8fb9\u754c\u3002</p> <p>\u6211\u4eec\u5728\u6765\u770b\u8fd9\u4e2a\u4f8b\u5b50\uff1a</p> Lua<pre><code>local t = {}\nt[1] = 0\nt[100] = 0\n</code></pre> <p>\u63d2\u5165\u7684\u8fd9\u4e24\u4e2a\u5143\u7d20\u5bf9\u5916\u90e8\u4f7f\u7528\u8005\u6765\u8bf4\uff0c\u5e76\u4e0d\u80fd\u51c6\u786e\u5730\u77e5\u9053\u5b83\u4eec\u7a76\u7adf\u5199\u5165\u4e86\u6570\u7ec4\u8fd8\u662f\u54c8\u5e0c\u8868\u3002\u6211\u4eec\u5148\u8df3\u8fc7\u5b83\u7684\u5199\u5165\u903b\u8f91\uff0c\u6765\u770b\u770b table \u662f\u600e\u4e48\u5904\u7406\u67e5\u627e\u7684\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_2_%E8%A1%A8%E7%9B%B8%E5%85%B3%E7%9A%84%E7%AE%97%E6%B3%95/#_1","title":"\u67e5\u627e","text":"<p>table \u5904\u7406\u67e5\u627e\u7684\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a</p> Lua<pre><code>if key &gt; 0 and key &lt;= \u6570\u7ec4\u5927\u5c0f then --\u5728\u6570\u7ec4\u7d22\u5f15\u8303\u56f4\u5185\n    \u5c1d\u8bd5\u5728\u6570\u7ec4\u90e8\u5206\u67e5\u627e\nelse\n    \u5c1d\u8bd5\u5728\u54c8\u5e0c\u90e8\u5206\u67e5\u627e\n    --[[\n        1.\u8ba1\u7b97\u51fakey\u7684\u54c8\u5e0c\u503c\uff0c\u6839\u636e\u54c8\u5e0c\u503c\u8bbf\u95eeNode\u6570\u7ec4\u5f97\u5230\u54c8\u5e0c\u6876\u4f4d\u7f6e\n        2.\u904d\u5386\u54c8\u5e0c\u6876\u94fe\u8868\uff0c\u76f4\u5230\u627e\u5230\u5bf9\u5e94key\n    ]]\nend\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\u6765\uff0c\u4e00\u4e2a\u6b63\u6574\u6570\uff0c\u53ea\u6709\u5728\u6570\u7ec4\u7d22\u5f15\u8303\u56f4\u5185\u65f6\uff0c\u5176\u5b58\u50a8\u624d\u4f1a\u843d\u5728\u6570\u7ec4\u90e8\u5206\u3002\u5426\u5219\u4e5f\u4f1a\u5b58\u50a8\u5728\u54c8\u5e0c\u90e8\u5206\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_2_%E8%A1%A8%E7%9B%B8%E5%85%B3%E7%9A%84%E7%AE%97%E6%B3%95/#_2","title":"\u65b0\u589e","text":"<p>\u4e0a\u9762\u5173\u4e8e\u67e5\u627e\u7684\u7b97\u6cd5\u53ef\u4ee5\u770b\u51fa\u6765\uff0ctable \u7684\u54c8\u5e0c\u90e8\u5206\u91c7\u7528\u94fe\u5730\u5740\u6cd5\u3002Lua \u5c06\u54c8\u5e0c\u6876\u6240\u5728\u7684\u4f4d\u7f6e\u79f0\u4e3a <code>mainposition</code>\u3002\u54c8\u5e0c\u90e8\u5206\u7684\u94fe\u8868\u7ed3\u6784\u548c\u666e\u901a\u94fe\u5730\u5740\u6cd5\u7684\u54c8\u5e0c\u8868\u4e00\u81f4\uff1a</p> <p></p> <p>table\u7684\u54c8\u5e0c\u8868\u7ed3\u6784</p> <p>\u90a3\u4e48 Lua \u5728\u5f80 table \u65b0\u589e\u6570\u636e\u7684\u65f6\u5019\uff0c\u662f\u5982\u4f55\u5904\u7406\u7684\uff1f\u8ba9\u6211\u4eec\u5173\u6ce8\u4e24\u4e2a\u5165\u53e3\u51fd\u6570 <code>luaH_set</code> \u548c <code>luaH_setint</code>\uff1a</p> C<pre><code>void luaH_set (lua_State *L, Table *t, const TValue *key, TValue *value) {\n  const TValue *slot = luaH_get(t, key);\n  luaH_finishset(L, t, key, slot, value);\n}\n\n\nvoid luaH_setint (lua_State *L, Table *t, lua_Integer key, TValue *value) {\n  const TValue *p = luaH_getint(t, key);\n  if (isabstkey(p)) {\n    TValue k;\n    setivalue(&amp;k, key);\n    luaH_newkey(L, t, &amp;k, value);\n  }\n  else\n    setobj2t(L, cast(TValue *, p), value);\n}\n</code></pre> <p>\u548c\u4ee5\u524d\u7684\u7248\u672c\u4e0d\u540c\uff0cLua 5.4.4 \u4e2d\u5e76\u6ca1\u6709 <code>luaH_setstr</code>\u3001<code>luaH_setnum</code> \u7b49API\uff0c\u5b83\u4f7f\u7528\u4e86\u4e00\u4e2a\u516c\u5171\u7684 <code>luaH_set</code> \u6765\u6ee1\u8db3\u5168\u90e8\u7c7b\u578b\u6570\u636e\u7684\u65b0\u589e\uff0c\u8fd9\u672c\u8eab\u662f\u5f97\u76ca\u4e8e TValue \u7ed3\u6784\u7684\u4f18\u5316\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_2_%E8%A1%A8%E7%9B%B8%E5%85%B3%E7%9A%84%E7%AE%97%E6%B3%95/#luah_setint","title":"luaH_setint ?","text":"<p>\u800c <code>luaH_setint</code> \u5219\u662f\u57fa\u4e8e\u6574\u6570\u952e\u505a\u51fa\u7684\u4f18\u5316\u51fd\u6570\uff0c\u5b83\u4f1a\u5224\u65ad\u6574\u6570\u952e\u662f\u5426\u5c5e\u4e8e\u8868\u7684\u6570\u7ec4\u90e8\u5206\uff0c\u4ece\u800c\u7ed5\u8fc7\u4e86\u975e\u6574\u6570\u952e\u7684\u68c0\u67e5\u903b\u8f91\u3002\u8fd9\u6837\u5177\u6709\u66f4\u9ad8\u7684\u8bbf\u95ee\u6548\u7387\uff0c\u51cf\u5c11\u4e86\u5f88\u591a\u4e0d\u5fc5\u8981\u7684\u903b\u8f91\u8ba1\u7b97\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff1a</p> Lua<pre><code>local t = {}\nt[1] = \"a\"    -- \u6574\u6570\u952e\nt[\"key\"] = \"b\" -- \u5b57\u7b26\u4e32\u952e\n</code></pre> <p><code>t[1] = \"a\"</code></p> <ul> <li>Lua\u4f1a\u8c03\u7528 <code>luaH_setint</code></li> <li>\u5982\u679c\u952e <code>1</code> \u843d\u5728\u6570\u7ec4\u90e8\u5206\uff0c\u76f4\u63a5\u5c06 <code>\"a\"</code> \u5b58\u5165\u6570\u7ec4\u90e8\u5206</li> <li>\u5982\u679c\u952e\u8d85\u51fa\u6570\u7ec4\u8303\u56f4\u6216\u6570\u7ec4\u672a\u5206\u914d\u8db3\u591f\u5927\u5c0f\uff0c\u8c03\u6574 alimit \u6216\u5c06\u952e\u503c\u5b58\u5165\u54c8\u5e0c\u90e8\u5206</li> </ul> <p><code>t[\"key\"] = \"b\"</code></p> <ul> <li>Lua \u4f1a\u8c03\u7528 <code>luaH_set</code></li> <li>\u6839\u636e\u952e\u7684\u7c7b\u578b\uff08\u5b57\u7b26\u4e32\uff09\uff0c\u8ba1\u7b97\u5176\u54c8\u5e0c\u503c\uff0c\u627e\u5230\u5bf9\u5e94\u7684\u54c8\u5e0c\u6876\u5e76\u63d2\u5165</li> </ul>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_2_%E8%A1%A8%E7%9B%B8%E5%85%B3%E7%9A%84%E7%AE%97%E6%B3%95/#luah_newkey","title":"luaH_newkey","text":"<p>\u4e0d\u7ba1\u662f\u8c03\u7528 <code>luaH_setint</code> \u8fd8\u662f <code>luaH_set</code>\uff0c\u5982\u679c\u65b0\u589e\u7684\u952e\u4e0d\u5b58\u5728\uff0c\u90fd\u7275\u6d89\u5230\u4e00\u4e2a\u51fd\u6570 <code>luaH_newkey</code>\uff1a</p> C<pre><code>/*\n** inserts a new key into a hash table; first, check whether key's main\n** position is free. If not, check whether colliding node is in its main\n** position or not: if it is not, move colliding node to an empty place and\n** put new key in its main position; otherwise (colliding node is in its main\n** position), new key goes to an empty position.\n*/\nvoid luaH_newkey (lua_State *L, Table *t, const TValue *key, TValue *value) {\n  Node *mp;\n  TValue aux;\n  if (l_unlikely(ttisnil(key)))\n    luaG_runerror(L, \"table index is nil\");\n  else if (ttisfloat(key)) {\n    lua_Number f = fltvalue(key);\n    lua_Integer k;\n    if (luaV_flttointeger(f, &amp;k, F2Ieq)) {  /* does key fit in an integer? */\n      setivalue(&amp;aux, k);\n      key = &amp;aux;  /* insert it as an integer */\n    }\n    else if (l_unlikely(luai_numisnan(f)))\n      luaG_runerror(L, \"table index is NaN\");\n  }\n  if (ttisnil(value))\n    return;  /* do not insert nil values */\n  mp = mainpositionTV(t, key);\n  if (!isempty(gval(mp)) || isdummy(t)) {  /* main position is taken? */\n    Node *othern;\n    Node *f = getfreepos(t);  /* get a free place */\n    if (f == NULL) {  /* cannot find a free place? */\n      rehash(L, t, key);  /* grow table */\n      /* whatever called 'newkey' takes care of TM cache */\n      luaH_set(L, t, key, value);  /* insert key into grown table */\n      return;\n    }\n    lua_assert(!isdummy(t));\n    othern = mainpositionfromnode(t, mp);\n    if (othern != mp) {  /* is colliding node out of its main position? */\n      /* yes; move colliding node into free position */\n      while (othern + gnext(othern) != mp)  /* find previous */\n        othern += gnext(othern);\n      gnext(othern) = cast_int(f - othern);  /* rechain to point to 'f' */\n      *f = *mp;  /* copy colliding node into free pos. (mp-&gt;next also goes) */\n      if (gnext(mp) != 0) {\n        gnext(f) += cast_int(mp - f);  /* correct 'next' */\n        gnext(mp) = 0;  /* now 'mp' is free */\n      }\n      setempty(gval(mp));\n    }\n    else {  /* colliding node is in its own main position */\n      /* new node will go into free position */\n      if (gnext(mp) != 0)\n        gnext(f) = cast_int((mp + gnext(mp)) - f);  /* chain new position */\n      else lua_assert(gnext(f) == 0);\n      gnext(mp) = cast_int(f - mp);\n      mp = f;\n    }\n  }\n  setnodekey(L, mp, key);\n  luaC_barrierback(L, obj2gco(t), key);\n  lua_assert(isempty(gval(mp)));\n  setobj2t(L, gval(mp), value);\n}\n</code></pre> <p>\u6211\u4eec\u9010\u6bb5\u5206\u6790\uff0c\u770b\u770b\u8fd9\u4e2a\u51fd\u6570\u505a\u4e86\u4ec0\u4e48\u3002</p> <ul> <li>\u9996\u5148\u662f\u7b2c 11 ~ 24 \u884c\uff0c\u8fd9\u4e00\u6bb5\u9488\u5bf9 key \u505a\u4e86\u4e00\u4e9b\u9519\u8bef\u5904\u7406\uff0c\u4e2d\u95f4\u7684\u5206\u652f\u5bf9\u4e8e\u6d6e\u70b9\u6570\u952e\u505a\u4e86\u5904\u7406\uff1a\u5982\u679c key \u662f\u4e00\u4e2a\u6d6e\u70b9\u6570\uff0c\u4f46\u662f\u5b83\u7684\u503c\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u90a3\u4e48\u628a key \u4f5c\u4e3a\u4e00\u4e2a\u6574\u578b\u503c\u63d2\u5165\u3002</li> <li>\u7b2c 25 \u884c\uff0c\u8ba1\u7b97\u5f97\u5230 key \u7684\u54c8\u5e0c\u503c mainposition\uff0c\u4e5f\u5c31\u662f\u5b83\u5728\u54c8\u5e0c\u6570\u7ec4\u4e2d\u7684\u54c8\u5e0c\u6876\u7684\u5730\u5740</li> <li>\u5148\u770b 58 ~ 61 \u884c\uff0c\u8be5 mainposition \u4f4d\u7f6e\u7a7a\u95f2\uff0c\u8fd9\u91cc\u76f4\u63a5\u5c06 key \u548c value \u8bbe\u7f6e\u7ed9\u8be5\u4f4d\u7f6e\u7684 Node</li> <li>\u518d\u770b 26 ~ 57 \u884c\uff0c\u8be5 mainposition \u4f4d\u7f6e\u51b2\u7a81\uff08\u6211\u4eec\u6682\u4e14\u79f0\u8fd9\u91cc\u5b58\u653e\u7684\u8282\u70b9\u4e3a\u51b2\u7a81\u8282\u70b9\uff09<ul> <li>28 ~ 34 \u884c\uff0c\u5c1d\u8bd5\u627e\u4e00\u4e2a\u7a7a\u95f2\u4f4d\u7f6e\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u6267\u884c\u4e00\u6b21 rehash \u6269\u5f20\u4e00\u6b21 table\uff0c\u7136\u540e\u63d2\u5165 key \u548c value</li> <li>36 \u884c\uff0c\u6709\u73b0\u6210\u7684\u7a7a\u95f2\u4f4d\u7f6e\uff0c\u90a3\u4e48\u8ba1\u7b97\u8fd9\u4e2a\u51b2\u7a81\u8282\u70b9\u7684 mainposition<ul> <li>37 ~ 48 \u884c\uff0c\u51b2\u7a81\u8282\u70b9\u7684 mainposition \u5728\u5176\u5b83\u4f4d\u7f6e\uff0c\u90a3\u4e48\u628a\u51b2\u7a81\u8282\u70b9\u79fb\u52a8\u5230\u4e00\u4e2a\u7a7a\u95f2\u4f4d\u7f6e</li> <li>50 ~ 57 \u884c\uff0c\u51b2\u7a81\u8282\u70b9\u7684 mainposition \u5c31\u5728\u5b83\u5f53\u524d\u4f4d\u7f6e\uff0c\u90a3\u4e48\u628a\u5f53\u524d key \u548c value \u63d2\u5165\u7a7a\u95f2\u4f4d\u7f6e</li> </ul> </li> </ul> </li> </ul> <p>\u603b\u7ed3\u5c31\u662f\uff1a\u9996\u5148\uff0c\u68c0\u67e5 key \u7684\u4e3b\u4f4d\u7f6e\u662f\u5426\u7a7a\u95f2\u3002\u5982\u679c\u4e0d\u662f\uff0c\u5219\u68c0\u67e5\u51b2\u7a81\u8282\u70b9\u662f\u5426\u5728\u5176\u4e3b\u4f4d\u7f6e\uff1a\u5982\u679c\u4e0d\u662f\uff0c\u5219\u5c06\u51b2\u7a81\u8282\u70b9\u79fb\u81f3\u7a7a\u4f4d\u7f6e\u5e76\u5c06 key \u653e\u5165\u5176\u4e3b\u4f4d\u7f6e\uff1b\u5426\u5219\uff08\u51b2\u7a81\u8282\u70b9\u5728\u5176\u4e3b\u4f4d\u7f6e\uff09\uff0ckey \u5c06\u79fb\u81f3\u7a7a\u4f4d\u7f6e</p> <p>Note</p> <p>\u8fd9\u91cc\u8981\u91cd\u70b9\u6ce8\u610f\uff0c\u6574\u4e2a\u64cd\u4f5c\u90fd\u662f\u57fa\u4e8e\u54c8\u5e0c\u8868\u8fdb\u884c\u7684\uff0c\u800c\u6ca1\u6709\u5173\u4e8e\u6570\u7ec4\u7684\u903b\u8f91\u3002\u56e0\u4e3a\u5728\u6267\u884c <code>luaH_newkey</code> \u4e4b\u524d\uff0c\u4e00\u5b9a\u662f\u901a\u8fc7 <code>luaH_get</code> \u6216\u8005 <code>luaH_getint</code> \u5728\u6570\u7ec4\u90e8\u5206\u68c0\u67e5\u8fc7\u4e86\uff0c\u6570\u7ec4\u90e8\u5206\u4e0d\u5b58\u5728\u7684\u60c5\u51b5\u4e0b\uff0c\u624d\u4f1a\u8d70\u8fdb <code>luaH_newkey</code> \u7684\u903b\u8f91\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_2_%E8%A1%A8%E7%9B%B8%E5%85%B3%E7%9A%84%E7%AE%97%E6%B3%95/#rehash","title":"rehash","text":"<p>\u4ece\u524d\u9762\u7684\u4ee3\u7801\u53ef\u89c1\uff0c\u5728\u7a7a\u95f2\u7a7a\u95f4\u4e0d\u8db3\u7684\u60c5\u51b5\u4e0b\uff0ctable \u4f1a\u81ea\u52a8\u6267\u884c\u4e00\u6b21 rehash\uff0c\u8fd9\u4e2a\u51fd\u6570\u5c31\u662f\u6211\u4eec\u5728\u524d\u4e00\u8282\u63d0\u5230\u7684\u81ea\u9002\u5e94\u8c03\u6574\u6570\u7ec4\u90e8\u5206\u548c\u54c8\u5e0c\u90e8\u5206\u7a7a\u95f4\u7684\u7b97\u6cd5\uff0c\u8ba9\u6211\u4eec\u6765\u770b\u770b\uff1a</p> C<pre><code>/*\n** nums[i] = number of keys 'k' where 2^(i - 1) &lt; k &lt;= 2^i\n*/\nstatic void rehash (lua_State *L, Table *t, const TValue *ek) {\n  unsigned int asize;  /* optimal size for array part */\n  unsigned int na;  /* number of keys in the array part */\n  unsigned int nums[MAXABITS + 1];\n  int i;\n  int totaluse;\n  for (i = 0; i &lt;= MAXABITS; i++) nums[i] = 0;  /* reset counts */\n  setlimittosize(t);\n  na = numusearray(t, nums);  /* count keys in array part */\n  totaluse = na;  /* all those keys are integer keys */\n  totaluse += numusehash(t, nums, &amp;na);  /* count keys in hash part */\n  /* count extra key */\n  if (ttisinteger(ek))\n    na += countint(ivalue(ek), nums);\n  totaluse++;\n  /* compute new size for array part */\n  asize = computesizes(nums, &amp;na);\n  /* resize the table to new computed sizes */\n  luaH_resize(L, t, asize, totaluse - na);\n}\n</code></pre> <p>\u5b83\u7684\u5927\u81f4\u7b97\u6cd5\u601d\u8def\u5982\u4e0b\uff1a</p> <ul> <li>\u5206\u914d\u4e00\u4e2a\u6570\u7ec4 <code>nums</code>\uff0c\u521d\u59cb\u5b83\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f 0\uff0c\u5047\u8bbe\u5b83\u7684\u4e0b\u6807\u7528\u53d8\u91cf i \u8868\u793a\uff0c\u5b83\u7684\u6bcf\u4e2a\u5143\u7d20\u7684\u542b\u4e49\u662f key \u7684\u503c\u5728 \\({2^{(i-1)}}\\) ~ \\({2^i}\\) \u4e4b\u95f4\u7684\u5143\u7d20\u6570\u91cf\uff08\u5de6\u5f00\u53f3\u95ed\uff09</li> <li>\u904d\u5386\u6570\u7ec4\u90e8\u5206\uff0c\u7edf\u8ba1\u5143\u7d20\u6570\u91cf\u66f4\u65b0\u5230 nums</li> <li>\u904d\u5386\u54c8\u5e0c\u90e8\u5206\uff0c\u53ea\u7edf\u8ba1\u6b63\u6574\u6570\u952e\uff0c\u66f4\u65b0\u5230 nums</li> <li>\u6b64\u65f6\uff0c\u6574\u4e2a table \u7684\u6b63\u6574\u6570 key \u7684\u5206\u914d\u5df2\u7ecf\u7edf\u8ba1\u5728\u4e86 nums \u4e2d\u3002\u63a5\u7740\u904d\u5386 nums \u6570\u7ec4\uff0c\u627e\u5230\u8303\u56f4\u533a\u95f4\u5185\u5305\u542b\u7684\u6574\u6570\u6570\u91cf\u5927\u4e8e50%\uff0c\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\u7684\u7d22\u5f15\u53ef\u80fd\u6709\u5f88\u591a\u4e2a\uff0c\u53ea\u8981\u7d22\u5f15\u6700\u5927\u7684\u90a3\u4e2a</li> <li>\u8fd9\u4e2a\u7d22\u5f15\u4f5c\u4e3a\u91cd\u65b0\u6563\u5217\u540e\u7684\u6570\u7ec4\u5927\u5c0f\uff0c\u4e5f\u5c31\u662f\u4e4b\u524d\u63d0\u5230\u7684 <code>alimit</code>\uff0c\u51e1\u662f\u8d85\u8fc7\u8fd9\u4e2a\u503c\u7684 key\uff0c\u5c31\u5206\u914d\u5230\u4e86\u54c8\u5e0c\u90e8\u5206</li> </ul> <p>\u4ece\u8fd9\u4e2a\u51fd\u6570\u53ef\u4ee5\u770b\u51fa Lua \u7684\u8bbe\u8ba1\u601d\u60f3\uff1a\u7b80\u5355\u9ad8\u6548\u3001\u4e14\u5c3d\u91cf\u8282\u7701\u5185\u5b58\u3002\u5728\u91cd\u65b0\u6563\u5217\u7684\u8fc7\u7a0b\u4e2d\uff0c\u9664\u4e86\u8981\u589e\u5927 table \u7684\u5927\u5c0f\u6765\u5bb9\u7eb3\u65b0\u7684\u6570\u636e\u5916\uff0c\u8fd8\u501f\u6b64\u673a\u4f1a\u8c03\u6574\u4e86\u6570\u7ec4\u548c\u54c8\u5e0c\u4e24\u4e2a\u90e8\u5206\uff0c\u8ba9\u4e24\u90e8\u5206\u90fd\u5c3d\u53ef\u80fd\u53d1\u6325\u5176\u5bb9\u7eb3\u6548\u7387\u3002</p> <p>\u4e0b\u9762\u7684\u56fe\u662f\u8c03\u6574\u540e\u7684\u6570\u7ec4\u90e8\u5206\u7684\u793a\u610f\u56fe\uff0c\u6bcf\u4e2a 2 \u7684\u5e42\u4e4b\u95f4\u7684\u7a7a\u95f4\u7684\u5b58\u50a8\u7387\u90fd\u5927\u4e8e 50%\uff0c\u8fd9\u4e5f\u662f Lua \u8ba4\u4e3a\u6570\u7ec4\u8fbe\u5230\u6700\u5927\u5bb9\u7eb3\u6548\u7387\u7684\u6807\u51c6\uff1a</p> <p></p> <p>rehash\u8c03\u6574\u540e\u7684\u6570\u7ec4</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_2_%E8%A1%A8%E7%9B%B8%E5%85%B3%E7%9A%84%E7%AE%97%E6%B3%95/#_3","title":"\u4ee3\u4ef7\uff1f","text":"<p>\u4ece\u4e0a\u9762\u7684\u5206\u6790\u53ef\u4ee5\u770b\u51fa\uff0c Lua \u89e3\u91ca\u5668\u4f1a\u81ea\u52a8\u8fdb\u884c\u91cd\u65b0\u6563\u5217\uff0c\u5e76\u4e14\u5bf9\u4f7f\u7528\u8005\u6765\u8bf4\u662f\u900f\u660e\u7684\u3002\u4ece\u7b97\u6cd5\u548c\u4ee5\u5f80\u5bf9\u54c8\u5e0c\u8868\u6269\u5bb9\u7684\u7ecf\u9a8c\u6765\u770b\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u7684\u5f00\u9500\u4e0d\u4f1a\u5f88\u5c0f\uff0c\u7136\u800c\u6211\u4eec\u5728\u77e5\u6653\u5176\u539f\u7406\u540e\uff0c\u53ef\u4ee5\u624b\u52a8\u51cf\u5c11\u5b83\u7684\u53d1\u751f\uff0c\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> Lua<pre><code>local t = {}\nfor i = 1, 3 do\n    t[i] = true\nend\n</code></pre> <p>\u8fd9\u4e2a\u4ee3\u7801\u6267\u884c\u4f1a\u89e6\u53d1 3 \u6b21 rehash\uff1a</p> <ul> <li>\u7b2c\u4e00\u6b21\uff0c\u4e3a\u4e86\u88c5\u4e0b t[1] , Lua \u89e6\u53d1\u4e86\u4e00\u6b21 rehash\uff0c\u6570\u7ec4\u90e8\u5206\u957f\u5ea6\u8bbe\u7f6e\u4e3a 1</li> <li>\u7b2c\u4e8c\u6b21\uff0c\u6570\u7ec4\u957f\u5ea6\u8bbe\u7f6e\u4e3a 2</li> <li>\u7b2c\u4e09\u6b21\uff0c\u6570\u7ec4\u957f\u5ea6\u8bbe\u7f6e\u4e3a 4</li> </ul> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u6570\u7ec4\u90e8\u5206\u8981\u88c5\u4e0b\u4e00\u4e2a\u6570\uff0c\u9700\u8981\u6267\u884c n \u6b21 rehash\uff0c\u4fdd\u8bc1 \\({2^n}\\) \u5927\u4e8e key\u3002\u5bf9\u4e8e\u8d85\u591a\u5143\u7d20\u7684\u8868\uff0c\u6bd4\u5982100\u4e07\u4e2a\u5143\u7d20\uff0c\u5176\u5b9e\u4e5f\u4e0d\u8fc7\u89e6\u53d1\u4e86 20 \u6b21 rehash\u3002\u4f46\u662f\u5728\u4e00\u4e2a\u9700\u8981\u521b\u5efa\u5927\u91cf\u5c0f\u957f\u5ea6\u7684\u8868\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e2a\u95ee\u9898\u4f1a\u5f88\u4e25\u91cd\u3002\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u5c3d\u53ef\u80fd\u5730\u51cf\u5c11\u5b83\uff0c\u6765\u770b\u5bf9\u6bd4\uff1a</p> <p></p> <p>\u521b\u5efa\u5927\u91cf\u5c0f\u957f\u5ea6\u7684\u8868</p> <p>\u6211\u4eec\u4f7f\u7528\u9884\u586b\u5145\u7684\u65b9\u6cd5\uff0c\u51cf\u5c11\u89e6\u53d1\u91cd\u65b0\u6563\u5217\uff0c\u8fd9\u91cc\u7684\u4f18\u5316\u63d0\u9ad8\u4e86\u4e00\u500d\u591a\u7684\u901f\u5ea6\uff01</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_2_%E8%A1%A8%E7%9B%B8%E5%85%B3%E7%9A%84%E7%AE%97%E6%B3%95/#_4","title":"\u8fed\u4ee3","text":"C<pre><code>int luaH_next (lua_State *L, Table *t, StkId key) {\n  unsigned int asize = luaH_realasize(t);\n  unsigned int i = findindex(L, t, s2v(key), asize);  /* find original key */\n  for (; i &lt; asize; i++) {  /* try first array part */\n    if (!isempty(&amp;t-&gt;array[i])) {  /* a non-empty entry? */\n      setivalue(s2v(key), i + 1);\n      setobj2s(L, key + 1, &amp;t-&gt;array[i]);\n      return 1;\n    }\n  }\n  for (i -= asize; cast_int(i) &lt; sizenode(t); i++) {  /* hash part */\n    if (!isempty(gval(gnode(t, i)))) {  /* a non-empty entry? */\n      Node *n = gnode(t, i);\n      getnodekey(L, s2v(key), n);\n      setobj2s(L, key + 1, gval(n));\n      return 1;\n    }\n  }\n  return 0;  /* no more elements */\n}\n</code></pre> <p>Lua \u4e2d\u8868\u7684\u8fed\u4ee3\u5e76\u6ca1\u6709\u8bbe\u8ba1\u8fed\u4ee3\u5668\uff0c\u5f88\u5927\u539f\u56e0\u662f\u4e3a\u4e86\u517c\u5bb9\u6570\u7ec4\u90e8\u5206\u548c\u54c8\u5e0c\u90e8\u5206\u7684\u8bbf\u95ee\u3002</p> <p>luaH_next \u5927\u81f4\u7684\u903b\u8f91\u662f\u5728\u5f53\u524d key \u7684\u57fa\u7840\u4e0a\u627e\u4e0b\u4e00\u4e2a\u6709\u6548\u952e\u503c\u5bf9</p> <ul> <li>\u5982\u679c key \u662f nil\uff0c\u8868\u793a\u4ece\u5934\u5f00\u59cb\u904d\u5386\uff0c\u5426\u5219\u627e\u5230\u8be5 key \u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u4ece\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\u7ee7\u7eed</li> <li>\u4f18\u5148\u904d\u5386\u6570\u7ec4\u90e8\u5206\uff0c\u56e0\u4e3a\u987a\u5e8f\u8868\u904d\u5386\u66f4\u5feb\uff0c\u627e\u5230\u4e0b\u4e00\u4e2a\u975e\u7a7a\u503c\u3002</li> <li>\u5982\u679c\u6570\u7ec4\u90e8\u5206\u6ca1\u6709\u627e\u5230\uff0c\u518d\u904d\u5386\u54c8\u5e0c\u90e8\u5206\uff0c\u8fd9\u90e8\u5206\u5c31\u9700\u8981\u904d\u5386\u6bcf\u4e2a\u6876\uff0c\u627e\u5230\u4e0b\u4e00\u4e2a\u6709\u6548\u952e\u503c\u5bf9</li> <li>\u4e0d\u7ba1\u5728\u662f\u6570\u7ec4\u90e8\u5206\u8fd8\u662f\u54c8\u5e0c\u90e8\u5206\u627e\u5230\uff0c\u90fd\u5c06\u952e\u548c\u503c\u538b\u5165 Lua \u6808\uff0c\u5e76\u8fd4\u56de\u6210\u529f\u6216\u5931\u8d25\uff081\u62160\uff09</li> </ul>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_2_%E8%A1%A8%E7%9B%B8%E5%85%B3%E7%9A%84%E7%AE%97%E6%B3%95/#_5","title":"\u53d6\u957f\u5ea6","text":"<p>\u5728 Lua \u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u63d0\u4f9b\u5143\u65b9\u6cd5 <code>__len</code> \u6765\u81ea\u5b9a\u4e49\u8868\u7684\u53d6\u957f\u5ea6\u65b9\u6cd5\uff0cLua \u672c\u8eab\u9ed8\u8ba4\u63d0\u4f9b\u4e86 <code>#</code> \u4f5c\u4e3a\u53d6\u957f\u5ea6\u7b26\u53f7\u3002</p> <p>\u5b83\u7684\u53d6\u957f\u5ea6\u7684\u7ed3\u679c\u4e0d\u662f table \u7684\u5168\u90e8\u5143\u7d20\u7684\u6570\u91cf\uff0c\u800c\u662f table \u7684\u5e8f\u5217\u90e8\u5206\u7684\u957f\u5ea6\uff0c\u8fd9\u4e2a\u5e8f\u5217\u90e8\u5206\u6307\u8868\u7684\u7b2c\u4e00\u4e2a\u952e\u7684\u503c\u8fde\u7eed\u7684\u6570\u636e\u5b50\u96c6\uff0c\u6bd4\u5982\uff1a</p> Lua<pre><code>print(#{1,2,3,4,5,nil,10}) -- \u8f93\u51fa 5\n</code></pre> <p>\u8fd9\u548c\u6570\u7ec4\u90e8\u5206\u65e0\u5173\uff0c\u5c3d\u7ba1\u5b83\u770b\u8d77\u6765\u50cf\u662f\u6570\u7ec4\uff0c\u8fd9\u4e2a\u6240\u8c13\u7684\u5e8f\u5217\u5bf9\u54c8\u5e0c\u90e8\u5206\u4e5f\u662f\u4e00\u6837\u7684\u89c4\u5219\uff1a</p> Lua<pre><code>local t1 = {\n    [1] = 1,\n    [2] = 2,\n}\nprint(#t1) -- \u8f93\u51fa 2\n\nlocal t2 = {\n    [1] = 1,\n    [2] = 2,\n    [5] = 5,\n}\nprint(#t2) -- \u8f93\u51fa 2\n</code></pre> <p>\u5982\u679c\u4e00\u4e2a\u8868\u6df7\u5408\u4e86\u8fd9\u4e24\u79cd\u98ce\u683c\uff0c\u90a3\u4e48\u4f18\u5148\u53d6\u6570\u7ec4\u90e8\u5206\u7684\u957f\u5ea6\uff1a</p> Lua<pre><code>print(#{[1] = 1, [2] = 2, 1, 2, 3}) -- \u8f93\u51fa 3\n</code></pre> <p>\u53d6\u957f\u5ea6\u5bf9\u5e94\u7684\u6e90\u7801\u51fd\u6570\u662f <code>luaH_getn</code>\uff0c\u8fd9\u91cc\u4e0d\u8d58\u8ff0\u4e86\uff0c\u5b83\u7684\u7b97\u6cd5\u601d\u8def\u5927\u81f4\u5c31\u662f\u5148\u5728\u6570\u7ec4\u90e8\u5206\u53d6\u957f\u5ea6\uff0c\u6ca1\u6709\u53d6\u6210\u529f\u5c31\u5728\u54c8\u5e0c\u90e8\u5206\u53d6</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/04_%E8%A1%A8/4_2_%E8%A1%A8%E7%9B%B8%E5%85%B3%E7%9A%84%E7%AE%97%E6%B3%95/#_6","title":"\u603b\u7ed3","text":"<p>Lua \u7684\u8868\u5185\u90e8\u5206\u4e3a\u6570\u7ec4\u90e8\u5206\u548c\u54c8\u5e0c\u90e8\u5206\uff0c\u867d\u7136\u5bf9\u4f7f\u7528\u8005\u662f\u900f\u660e\u7684\uff0c\u4f46\u662f\u7406\u89e3\u5176\u5b58\u50a8\u539f\u7406\u4f1a\u5e2e\u52a9\u6211\u4eec\u66f4\u6b63\u786e\u5730\u4f7f\u7528\u5b83\uff1a</p> <ul> <li>\u5c3d\u91cf\u907f\u514d\u6df7\u7528\u6570\u7ec4\u548c\u54c8\u5e0c\uff0c\u63d0\u5347\u6548\u7387</li> <li>\u53ef\u4ee5\u901a\u8fc7\u9884\u5148\u5206\u914d\u7684\u65b9\u5f0f\uff0c\u51cf\u5c11 rehash</li> </ul>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_1_Lua%E6%89%A7%E8%A1%8C%E7%9A%84%E5%A4%A7%E8%87%B4%E8%BF%87%E7%A8%8B/","title":"5.1 Lua\u6267\u884c\u7684\u5927\u81f4\u8fc7\u7a0b","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_1_Lua%E6%89%A7%E8%A1%8C%E7%9A%84%E5%A4%A7%E8%87%B4%E8%BF%87%E7%A8%8B/#_1","title":"\u548c\u5176\u4ed6\u8bed\u8a00\u7684\u6267\u884c\u5dee\u5f02","text":"<p>\u4e00\u822c\u8bed\u8a00\u5206\u4e3a\u7f16\u8bd1\u578b\u8bed\u8a00\uff08Compiled Language\uff09\u548c\u89e3\u91ca\u578b\u8bed\u8a00\uff08Interpreted Language\uff09\u3002\u524d\u8005\u4f1a\u5148\u5c06\u4ee3\u7801\u7f16\u8bd1\u4e3a\u76ee\u6807\u673a\u5668\u53ef\u8fd0\u884c\u7684\u673a\u5668\u7801\uff0c\u800c\u540e\u7531\u76ee\u6807\u673a\u5668\u76f4\u63a5\u8fd0\u884c\uff0c\u7f16\u8bd1\u578b\u8bed\u8a00\u7684\u7279\u70b9\u662f\u5728\u7f16\u8bd1\u9636\u6bb5\u5b9e\u73b0\u8de8\u5e73\u53f0\uff0c\u4e0d\u540c\u5e73\u53f0\u7684\u7f16\u8bd1\u7ed3\u679c\u4e0d\u4e00\u6837\uff0c\u7531\u4e8e\u5b83\u80fd\u7531\u673a\u5668\u76f4\u63a5\u6267\u884c\uff0c\u901f\u5ea6\u4f1a\u5f88\u5feb\u3002\u89e3\u91ca\u578b\u8bed\u8a00\u5219\u662f\u5c06\u4ee3\u7801\u4ea4\u7ed9\u89e3\u91ca\u5668\u7ffb\u8bd1\u6267\u884c\uff0c\u5b83\u7684\u7279\u70b9\u662f\u7531\u89e3\u91ca\u5668\u6765\u5b9e\u73b0\u8de8\u5e73\u53f0\uff0c\u5e73\u53f0\u7684\u5dee\u5f02\u7531\u8bed\u8a00\u81ea\u8eab\u7684\u89e3\u91ca\u5668\u6765\u89e3\u51b3\uff0c\u7531\u4e8e\u5b83\u9700\u8981\u7531\u89e3\u91ca\u5668\u6765\u6267\u884c\uff0c\u76f8\u6bd4\u524d\u8005\u4f1a\u6162\u4e0d\u5c11\u3002</p> <p></p> <p>\u8bed\u8a00\u95f4\u7684\u6267\u884c\u5dee\u5f02</p> <p>Lua \u4f5c\u4e3a\u4e00\u95e8\u89e3\u91ca\u578b\u8bed\u8a00\uff0c\u5b83\u5b9e\u73b0\u4e86\u81ea\u5df1\u7684\u865a\u62df\u673a\u5145\u5f53\u89e3\u91ca\u5668\u7684\u89d2\u8272\uff0c\u6765\u89e3\u91ca\u6267\u884c Lua \u4ee3\u7801\u3002\u8fd9\u91cc\u6709\u4e00\u70b9\u9700\u8981\u6ce8\u610f\uff0cLua \u4f1a\u5148\u5c06\u4ee3\u7801\u8fdb\u884c\u8bed\u6cd5\u8bcd\u6cd5\u5206\u6790\uff0c\u751f\u6210\u865a\u62df\u673a\u80fd\u770b\u61c2\u7684\u5b57\u8282\u7801\uff08\u540e\u79f0OpCode\uff09\uff0c\u518d\u7531\u865a\u62df\u673a\u6267\u884c\u3002\u73b0\u5728\u4e0d\u5c11\u89e3\u91ca\u578b\u8bed\u8a00\u548c Lua \u91c7\u7528\u4e86\u4e00\u6837\u7684\u601d\u8def\uff0c\u867d\u7136\u6700\u7ec8\u662f\u5728\u89e3\u91ca\u5668\u4e2d\u6267\u884c\uff0c\u4f46\u662f\u4ecd\u7136\u9884\u5148\u5236\u5b9a\u4e86\u4e00\u5957\u8bed\u8a00\u5b9a\u5236\u5316\u7684\u7f16\u8bd1\u89c4\u5219\uff0c\u5c06\u4ee3\u7801\u7f16\u8bd1\u4e3a\u5bf9\u5e94\u7684\u5b57\u8282\u7801\u540e\u518d\u4ea4\u7ed9\u89e3\u91ca\u5668\u6267\u884c\uff0c\u8fd9\u6837\u505a\u4f1a\u52a0\u5feb\u4ee3\u7801\u7684\u6267\u884c\u901f\u5ea6\u4f46\u662f\u4ecd\u7136\u6709\u90e8\u5206\u8bed\u8a00\u662f\u91c7\u7528\u76f4\u63a5\u89e3\u91ca\u6267\u884c\u3002\u6bd4\u5982 Bash\u3001AWK\u3001\u65e9\u671f\u7684 PHP\u3001Basic \u7b49</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_1_Lua%E6%89%A7%E8%A1%8C%E7%9A%84%E5%A4%A7%E8%87%B4%E8%BF%87%E7%A8%8B/#lua-jit","title":"Lua \u7684\u5373\u65f6\u7f16\u8bd1\u548cJIT\u7684\u533a\u522b","text":"<p>Lua \u867d\u7136\u662f\u5148\u7f16\u8bd1\u4e3a\u5b57\u8282\u7801\uff0c\u518d\u4ea4\u7531\u865a\u62df\u673a\u6267\u884c\uff0c\u4f46\u7f16\u8bd1\u4e5f\u662f\u53d1\u751f\u5728\u8fd0\u884c\u9636\u6bb5\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4 Lua \u662f\u5373\u65f6\u7f16\u8bd1\u7684\u3002\u5373\u65f6\u7f16\u8bd1\u5e76\u4e0d\u4f1a\u59a8\u788d\u5b83\u4f5c\u4e3a\u89e3\u91ca\u578b\u8bed\u8a00\u5728\u8fd0\u884c\u65f6\u53ef\u4fee\u6539\u7684\u7279\u6027\uff0c\u4f46 Lua \u7684\u5373\u65f6\u7f16\u8bd1\u548c\u4f20\u7edf\u7684 JIT \u6709\u6240\u4e0d\u540c\u3002</p> <p>Lua \u7684\u7f16\u8bd1\u6267\u884c\u8fc7\u7a0b\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\uff1a</p> <ul> <li>\u5373\u65f6\u7f16\u8bd1\u9636\u6bb5\uff08\u6e90\u4ee3\u7801 \u2192 \u5b57\u8282\u7801\uff09<ul> <li>\u5f53 Lua \u811a\u672c\u88ab\u52a0\u8f7d\u65f6\uff0cLua \u865a\u62df\u673a\u4f1a\u5c06\u6e90\u4ee3\u7801\u5373\u65f6\u7f16\u8bd1\u4e3a\u5b57\u8282\u7801</li> <li>\u8fd9\u4e00\u6b65\u53d1\u751f\u5728\u8fd0\u884c\u65f6\uff0c\u5373\u6bcf\u6b21\u52a0\u8f7d\u811a\u672c\u65f6\u90fd\u4f1a\u8fdb\u884c\uff0c\u8fd9\u4e2a\u7f16\u8bd1\u8fc7\u7a0b\u7531 <code>lua_load</code> \u51fd\u6570\u5b8c\u6210</li> </ul> </li> <li>\u89e3\u91ca\u8fd0\u884c\u9636\u6bb5\uff08\u5b57\u8282\u7801 \u2192 \u6267\u884c\uff09<ul> <li>\u7f16\u8bd1\u540e\u7684\u5b57\u8282\u7801\u5e76\u4e0d\u4f1a\u88ab\u8fdb\u4e00\u6b65\u7f16\u8bd1\u4e3a\u673a\u5668\u7801\uff0c\u800c\u662f\u7531 Lua \u865a\u62df\u673a\u9010\u6761\u89e3\u91ca\u6267\u884c</li> </ul> </li> </ul> <p>Lua \u7684\u5373\u65f6\u7f16\u8bd1\u4e0e\u771f\u6b63\u7684 JIT \u7f16\u8bd1\u7684\u533a\u522b\u5728\u4e8e\uff1aLua \u5373\u65f6\u7f16\u8bd1\u7684\u7ed3\u679c\u5e76\u975e\u76ee\u6807\u673a\u5668\u7801\uff0c\u800c\u662f\u4e00\u79cd\u4e2d\u95f4\u8868\u793a\uff0c\u53ea\u6709\u5b83\u7684\u865a\u62df\u673a\u80fd\u591f\u89e3\u91ca\u6267\u884c\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_1_Lua%E6%89%A7%E8%A1%8C%E7%9A%84%E5%A4%A7%E8%87%B4%E8%BF%87%E7%A8%8B/#lua-jit_1","title":"Lua \u4e3a\u4f55\u4e0d\u91c7\u7528 JIT \u7f16\u8bd1\uff1f","text":"<p>\u5b83\u7684\u5b98\u65b9\u89e3\u91ca\u5668\uff08PUC-Rio Lua\uff09\u5e76\u6ca1\u6709\u96c6\u6210 JIT \u7f16\u8bd1\u5668\uff0c\u539f\u56e0\u5982\u4e0b\uff1a</p> <ul> <li>\u8de8\u5e73\u53f0\u6027\uff1a<ul> <li>Lua \u4ee5\u7b80\u5355\u548c\u8f7b\u91cf\u4e3a\u6838\u5fc3\u8bbe\u8ba1\u76ee\u6807\uff0c\u5b98\u65b9\u89e3\u91ca\u5668\u652f\u6301\u591a\u79cd\u5e73\u53f0\uff0c\u800c\u5b57\u8282\u7801\u548c\u865a\u62df\u673a\u7684\u5b9e\u73b0\u66f4\u5bb9\u6613\u79fb\u690d</li> <li>JIT \u7f16\u8bd1\u5668\u9700\u8981\u9488\u5bf9\u7279\u5b9a\u7684 CPU \u67b6\u6784\u751f\u6210\u673a\u5668\u7801\uff0c\u79fb\u690d\u6027\u8f83\u5dee</li> </ul> </li> <li>\u5d4c\u5165\u5f0f\u4f7f\u7528\uff1a<ul> <li>Lua \u4e3b\u8981\u88ab\u8bbe\u8ba1\u4e3a\u5d4c\u5165\u5f0f\u811a\u672c\u8bed\u8a00\uff0c\u5178\u578b\u573a\u666f\u5305\u62ec\u5d4c\u5165\u6e38\u620f\u5f15\u64ce\u3001\u5e94\u7528\u7a0b\u5e8f\u7b49</li> <li>\u5b57\u8282\u7801\u89e3\u91ca\u8db3\u4ee5\u6ee1\u8db3\u5927\u90e8\u5206\u9700\u6c42\uff0c\u540c\u65f6\u51cf\u5c11\u4e86 JIT \u7f16\u8bd1\u7684\u590d\u6742\u6027\u548c\u5185\u5b58\u5f00\u9500</li> </ul> </li> <li>\u6027\u80fd\u9700\u6c42\uff1a<ul> <li>Lua \u7684\u6027\u80fd\u5728\u8bb8\u591a\u5d4c\u5165\u5f0f\u573a\u666f\u4e0b\u5df2\u7ecf\u8db3\u591f</li> <li>\u5bf9\u4e8e\u66f4\u9ad8\u6027\u80fd\u9700\u6c42\u7684\u573a\u666f\uff0c\u53ef\u4ee5\u4f7f\u7528 LuaJIT\uff08Lua \u7684\u4e00\u4e2a JIT \u7f16\u8bd1\u5668\u7248\u672c\uff0c\u5c06\u5b57\u8282\u7801\u76f4\u63a5\u7f16\u8bd1\u4e3a\u673a\u5668\u7801\uff0c\u6781\u5927\u63d0\u5347\u4e86\u6027\u80fd\uff09</li> </ul> </li> </ul>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_1_Lua%E6%89%A7%E8%A1%8C%E7%9A%84%E5%A4%A7%E8%87%B4%E8%BF%87%E7%A8%8B/#_2","title":"\u865a\u62df\u673a\u6982\u89c8","text":"<p>\u9664\u4e86 Lua\uff0c\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u8bed\u8a00\u4e5f\u5b9e\u73b0\u4e86\u81ea\u5df1\u7684\u865a\u62df\u673a\u6bd4\u5982 Java \u548c Python\u3002\u4e00\u822c\u4e00\u4e2a\u8bed\u8a00\u7684\u865a\u62df\u673a\u7684\u804c\u8d23\u5982\u4e0b\uff1a</p> <ul> <li>\u5c06\u6e90\u4ee3\u7801\u7f16\u8bd1\u6210\u865a\u62df\u673a\u53ef\u8bc6\u522b\u6267\u884c\u7684\u5b57\u8282\u7801</li> <li>\u4e3a\u51fd\u6570\u8c03\u7528\u51c6\u5907\u8c03\u7528\u6808</li> <li>\u5185\u90e8\u7ef4\u6301\u4e00\u4e2a\u6307\u4ee4\u6307\u9488\uff08IP\uff0cInstruction Pointer\uff09\u6765\u4fdd\u5b58\u4e0b\u4e00\u4e2a\u5c06\u6267\u884c\u7684\u6307\u4ee4\u5730\u5740\u3002\u5728 Lua \u4e2d\uff0c\u8be5 IP \u5bf9\u5e94\u7684\u662f PC \u6307\u9488\uff0c\u540e\u7eed\u4f1a\u8bb2</li> <li>\u6a21\u62df\u4e00\u4e2a CPU \u7684\u8fd0\u884c\uff1a\u5faa\u73af\u62ff\u51fa\u7531 IP \u6307\u5411\u7684\u5b57\u8282\u7801\uff0c\u6839\u636e\u5b57\u8282\u7801\u683c\u5f0f\u8fdb\u884c\u89e3\u7801\uff0c\u7136\u540e\u6267\u884c</li> </ul> <p>\u8fd9\u6837\u4e00\u6765\uff0c\u4e00\u53f0\u62bd\u8c61\u7684\u8ba1\u7b97\u673a\u5c31\u51fa\u73b0\u4e86\uff0c\u8fd9\u4e5f\u662f\u5b83\u4eec\u88ab\u79f0\u4e3a\u865a\u62df\u673a\u7684\u539f\u56e0\u3002</p> <p>\u865a\u62df\u673a\u6709\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f\uff1a\u57fa\u4e8e\u6808\uff08stack-based\uff09\u548c\u57fa\u4e8e\u5bc4\u5b58\u5668\uff08register-based\uff09\uff0c\u5e02\u9762\u4e0a\u5e38\u89c1\u7684\u90fd\u662f\u524d\u8005\uff0c\u800c Lua \u5c5e\u4e8e\u540e\u8005\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_1_Lua%E6%89%A7%E8%A1%8C%E7%9A%84%E5%A4%A7%E8%87%B4%E8%BF%87%E7%A8%8B/#_3","title":"\u57fa\u4e8e\u6808\u7684\u865a\u62df\u673a","text":"<p>\u5bf9\u4e8e\u8fd9\u79cd\u865a\u62df\u673a\uff0c\u5b57\u8282\u7801\u7684\u64cd\u4f5c\u6570\u4ece\u6808\u9876\u5f39\u51fa\uff0c\u6267\u884c\u5b8c\u64cd\u4f5c\u540e\u518d\u538b\u5165\u6808\u9876\uff0c\u4e0b\u56fe\u662f\u4e00\u4e2a\u52a0\u6cd5\u64cd\u4f5c\u540e\u6808\u7ed3\u6784\u7684\u53d8\u5316\uff1a</p> <p></p> <p>\u57fa\u4e8e\u6808\u7684\u865a\u62df\u673a</p> <p>\u8fd9\u4e2a\u64cd\u4f5c\u5bf9\u5e94\u7684\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a</p> Bash<pre><code>POP 2\nPOP 1\nADD 2,1,result\nPUSH result\n</code></pre> <p>\u5b8c\u6210\u4e00\u4e2a\u52a0\u6cd5\u64cd\u4f5c\u9700\u8981 4 \u6761\u5b57\u8282\u7801\uff0c\u9700\u8981\u7528\u989d\u5916\u7684\u6307\u4ee4\u51c6\u5907\u6570\u636e\u662f\u8fd9\u79cd\u8bbe\u8ba1\u7684\u7f3a\u70b9\u3002\u4f46\u662f\u4f18\u70b9\u662f\u6307\u4ee4\u4e0d\u9700\u8981\u5173\u5fc3\u64cd\u4f5c\u6570\u7684\u5730\u5740\uff0c\u5728\u6267\u884c\u64cd\u4f5c\u524d\u5df2\u7ecf\u5c06\u64cd\u4f5c\u6570\u51c6\u5907\u5728\u6808\u9876\u4e86</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_1_Lua%E6%89%A7%E8%A1%8C%E7%9A%84%E5%A4%A7%E8%87%B4%E8%BF%87%E7%A8%8B/#_4","title":"\u57fa\u4e8e\u5bc4\u5b58\u5668\u7684\u865a\u62df\u673a","text":"<p>\u548c\u57fa\u4e8e\u6808\u7684\u865a\u62df\u673a\u4e0d\u540c\uff0c\u8fd9\u79cd\u865a\u62df\u673a\u5c06\u64cd\u4f5c\u6570\u5b58\u653e\u5728 \u201cCPU\u7684\u5bc4\u5b58\u5668\u201d \u4e2d\uff0c\u8fd9\u4e2a\u5bc4\u5b58\u5668\u4e0d\u662f\u7269\u7406\u610f\u4e49\u4e0a\u7684\u5bc4\u5b58\u5668\uff0c\u800c\u662f\u865a\u62df\u673a\u7684\u4e00\u79cd\u62bd\u8c61\u5b9e\u73b0\u3002\u5b83\u5b9e\u73b0\u524d\u9762\u7684\u52a0\u6cd5\u64cd\u4f5c\u7684\u793a\u610f\u56fe\u5982\u4e0b\uff1a</p> <p></p> <p>\u57fa\u4e8e\u5bc4\u5b58\u5668\u7684\u865a\u62df\u673a</p> <p>\u5b83\u5bf9\u5e94\u7684\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a</p> Bash<pre><code>ADD R1,R2,R3 #\u5bc4\u5b58\u5668R1\u4e0eR2\u76f8\u52a0\u7ed3\u679c\u4fdd\u5b58\u5728\u5bc4\u5b58\u5668R3\u4e2d\n</code></pre> <p>\u8fd9\u79cd\u865a\u62df\u673a\u7684\u4f18\u70b9\u662f\uff0c\u6307\u4ee4\u7b80\u77ed\uff0c\u4f46\u7f3a\u70b9\u662f\u7a0b\u5e8f\u9700\u8981\u5173\u6ce8\u64cd\u4f5c\u6570\u7684\u4f4d\u7f6e\u3002Lua\u9009\u62e9\u8fd9\u79cd\u5bc4\u5b58\u5668\u7684\u4e3b\u8981\u76ee\u7684\u662f\u5c3d\u53ef\u80fd\u9ad8\u6548\u3002</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_1_Lua%E6%89%A7%E8%A1%8C%E7%9A%84%E5%A4%A7%E8%87%B4%E8%BF%87%E7%A8%8B/#_5","title":"\u6267\u884c\u6e90\u7801\u6982\u89c8","text":"<p>\u8fd9\u91cc\u4ee5\u4e00\u4e2a\u5b8f\u89c2\u7684\u89d2\u5ea6\u6d4f\u89c8\u6574\u4e2a\u7f16\u8bd1\u89e3\u91ca\u548c\u6267\u884c\u7684\u6d41\u7a0b\uff0c\u5177\u4f53\u51fd\u6570\u7684\u5206\u6790\u53c2\u8003\u51fd\u6570\u89e3\u8bfb</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_1_Lua%E6%89%A7%E8%A1%8C%E7%9A%84%E5%A4%A7%E8%87%B4%E8%BF%87%E7%A8%8B/#lual_dofile","title":"luaL_dofile","text":"<p>\u8fd9\u662f Lua \u6267\u884c\u6587\u4ef6\u7684\u8c03\u7528\u51fd\u6570\uff0c\u672c\u8eab\u662f\u4e2a\u5b8f\uff0c\u7b49\u6548\u4e8e\u5148\u8c03\u7528 <code>luaL_loadfile</code>\uff0c\u518d\u8c03\u7528 <code>lua_ocall</code>\uff1a</p> C<pre><code>#define luaL_dofile(L, fn) \\\n    (luaL_loadfile(L, fn) || lua_pcall(L, 0, LUA_MULTRET, 0))\n</code></pre> <p>luaL_loadfile \u8d1f\u8d23\u8fdb\u884c\u8bcd\u6cd5\u8bed\u6cd5\u5206\u6790\uff0clua_pcall \u5219\u5c06\u5206\u6790\u7ed3\u679c\u653e\u5230\u865a\u62df\u673a\u4e2d\u6267\u884c</p>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_1_Lua%E6%89%A7%E8%A1%8C%E7%9A%84%E5%A4%A7%E8%87%B4%E8%BF%87%E7%A8%8B/#_6","title":"\u7f16\u8bd1\u89e3\u91ca\u6d41\u7a0b","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_x_%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0%E8%A7%A3%E8%AF%BB/","title":"5.x \u865a\u62df\u673a\u76f8\u5173\u51fd\u6570\u89e3\u8bfb","text":""},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_x_%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0%E8%A7%A3%E8%AF%BB/#lual_loadfilex","title":"luaL_loadfilex","text":"C<pre><code>/*\n** \u7528\u4e8e\u52a0\u8f7d Lua \u811a\u672c\u6587\u4ef6\u6216\u4ece\u6807\u51c6\u8f93\u5165\u8bfb\u53d6\u811a\u672c\u5185\u5bb9\uff0c\u5e76\u5c06\u5176\u7f16\u8bd1\u4e3a Lua \u7684\u5b57\u8282\u7801\n** \u8f93\u5165\uff1a\n**     L - \u5f53\u524d\u72b6\u6001\u673a\n**     filename - \u811a\u672c\u6587\u4ef6\u540d\u79f0\n**     mode - \u6307\u5b9a\u52a0\u8f7d\u6a21\u5f0f\uff08t - \u6587\u672c\uff0cb - \u4e8c\u8fdb\u5236\uff0cbt or NULL - \u6839\u636e\u9996\u5b57\u7b26\u81ea\u52a8\u68c0\u67e5\uff09\n** \u8f93\u51fa\uff1a\n**     \u7f16\u8bd1\u7ed3\u679c\u7684\u72b6\u6001\uff08LUA_OK\u7b49\uff09\n*/\nLUALIB_API int luaL_loadfilex (lua_State *L, const char *filename,\n                                             const char *mode) {\n  LoadF lf;\n  int status, readstatus;\n  int c;\n\n  // \u5f97\u5230\u6587\u4ef6\u540d\u5728\u6808\u4e0a\u7684\u4f4d\u7f6e\n  int fnameindex = lua_gettop(L) + 1;  /* index of filename on the stack */\n\n  // \u5904\u7406filename\u53c2\u6570\n  // - \u5982\u679c filename \u4e3a NULL\uff0c\u5219\u4ece\u6807\u51c6\u8f93\u5165\u52a0\u8f7d\u811a\u672c\u5e76\u5728\u6808\u9876\u538b\u5165 =stdin\uff08\u6807\u8bc6\u8f93\u5165\u6765\u6e90\uff09\n  // - \u5982\u679c\u63d0\u4f9b\u4e86 filename\uff0c\u5c1d\u8bd5\u4ee5\u53ea\u8bfb\u6a21\u5f0f\u6253\u5f00\u6587\u4ef6\u3002\u5982\u679c\u5931\u8d25\uff0c\u5219\u8c03\u7528 errfile \u62a5\u9519\n  if (filename == NULL) {\n    lua_pushliteral(L, \"=stdin\");\n    lf.f = stdin;\n  }\n  else {\n    lua_pushfstring(L, \"@%s\", filename);\n    lf.f = fopen(filename, \"r\");\n    if (lf.f == NULL) return errfile(L, \"open\", fnameindex);\n  }\n\n  // \u8df3\u8fc7\u6587\u4ef6\u4e2d\u7684\u6ce8\u91ca\n  // - \u8c03\u7528 skipcomment \u8df3\u8fc7\u6587\u4ef6\u4e2d\u7684\u6ce8\u91ca\u90e8\u5206\u3002c \u4fdd\u5b58\u7b2c\u4e00\u4e2a\u975e\u6ce8\u91ca\u5b57\u7b26\n  // - \u5982\u679c\u8df3\u8fc7\u6ce8\u91ca\u540e\u9700\u8981\u8c03\u6574\u884c\u53f7\uff08\u5982\u6587\u4ef6\u9996\u884c\u4e3a\u6ce8\u91ca\uff09\uff0c\u5c06\u6362\u884c\u7b26 \\n \u6dfb\u52a0\u5230\u7f13\u51b2\u533a\n  if (skipcomment(&amp;lf, &amp;c))  /* read initial portion */\n    lf.buff[lf.n++] = '\\n';  /* add line to correct line numbers */\n\n  // \u5982\u679c\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u91cd\u65b0\u4ee5\u4e8c\u8fdb\u5236\u6a21\u5f0f\u6253\u5f00\n  // \u5982\u679c\u6587\u4ef6\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e0e LUA_SIGNATURE \u5339\u914d\uff0c\u8868\u660e\u53ef\u80fd\u662f Lua \u7684\u9884\u7f16\u8bd1\u4e8c\u8fdb\u5236\u6587\u4ef6\n  if (c == LUA_SIGNATURE[0] &amp;&amp; filename) {  /* binary file? */\n    lf.f = freopen(filename, \"rb\", lf.f);  /* reopen in binary mode */\n    if (lf.f == NULL) return errfile(L, \"reopen\", fnameindex);\n    skipcomment(&amp;lf, &amp;c);  /* re-read initial portion */\n  }\n\n  // \u5982\u679c\u7b2c\u4e00\u4e2a\u5b57\u7b26\u662f\u975e\u7a7a\u5b57\u7b26\uff0c\u5c06\u5176\u5b58\u5165\u7f13\u51b2\u533a\uff0c\u4f5c\u4e3a\u6d41\u7684\u7b2c\u4e00\u4e2a\u6709\u6548\u5b57\u7b26\n  if (c != EOF)\n    lf.buff[lf.n++] = c;  /* 'c' is the first character of the stream */\n\n  // \u8c03\u7528 lua_load \u7f16\u8bd1\u6587\u4ef6\u5185\u5bb9\u4e3a Lua \u5b57\u8282\u7801\n  // - \u53c2\u6570 getF \u662f\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u4ece lf \u4e2d\u8bfb\u53d6\u5185\u5bb9\u5e76\u63d0\u4f9b\u7ed9 lua_load\n  status = lua_load(L, getF, &amp;lf, lua_tostring(L, -1), mode);\n\n  // \u4f7f\u7528 ferror \u68c0\u67e5\u6587\u4ef6\u662f\u5426\u8bfb\u53d6\u9519\u8bef\n  // - \u5982\u679c\u6709\u9519\u8bef\uff0c\u5c06 Lua \u6808\u6062\u590d\u5230\u8c03\u7528\u6b64\u51fd\u6570\u4e4b\u524d\u7684\u72b6\u6001\uff0c\u5e76\u8fd4\u56de\u9519\u8bef\u7801\n  readstatus = ferror(lf.f);\n  if (filename) fclose(lf.f);  /* close file (even in case of errors) */\n  if (readstatus) {\n    lua_settop(L, fnameindex);  /* ignore results from 'lua_load' */\n    return errfile(L, \"read\", fnameindex);\n  }\n\n  // \u6e05\u7406\u548c\u8fd4\u56de\n  // - \u5728\u6210\u529f\u52a0\u8f7d\u6587\u4ef6\u540e\uff0c\u79fb\u9664\u6808\u4e0a\u7684\u6587\u4ef6\u540d\u4fe1\u606f\uff0c\u4fdd\u6301\u6808\u7684\u6574\u6d01\n  lua_remove(L, fnameindex);\n  return status;\n}\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_x_%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0%E8%A7%A3%E8%AF%BB/#lua_load","title":"lua_load","text":"C<pre><code>/*\n** \u5728\u7f16\u8bd1\u89e3\u91ca\u9636\u6bb5\uff0c\u8d1f\u8d23\u4e24\u4e2a\u4e8b\uff1a\n**     1.\u5728\u6267\u884c\u7f16\u8bd1\u524d\u52a0\u9501\u786e\u4fdd\u7ebf\u7a0b\u5b89\u5168\uff0c\u5e76\u521d\u59cb\u5316\u4e00\u4e2a\u6587\u4ef6\u8bfb\u53d6\u6d41\n**     2.\u5728\u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u7ed9\u7f16\u8bd1\u7ed3\u679c\u8bbe\u7f6e\u5168\u5c40\u8868\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u4e0a\u503c\n** \u8f93\u5165\uff1a\n**     L - \u5f53\u524d\u72b6\u6001\u673a\n**     reader - \u56de\u8c03\u51fd\u6570\uff0c\u7528\u4e8e\u9010\u6b65\u8bfb\u53d6\u4ee3\u7801\u5757\u7684\u5185\u5bb9\n**     data - \u4f20\u9012\u7ed9 reader \u7684\u7528\u6237\u6570\u636e\uff0c\u901a\u5e38\u662f\u6587\u4ef6\u6d41\u6216\u5185\u5b58\u4e2d\u7684\u5b57\u7b26\u4e32\uff0c\u5728 luaL_loadfilex \u4f20\u8fc7\u6765\u7684\u662f\u6307\u5b9a\u6587\u4ef6\u7684\u6587\u4ef6\u6d41\n**     chunkname - \u4ee3\u7801\u5757\u7684\u540d\u5b57\uff0c\u7528\u4e8e\u9519\u8bef\u63d0\u793a\n**     mode - \u7f16\u8bd1\u6a21\u5f0f\uff0c\u6587\u672c\u8fd8\u662f\u4e8c\u8fdb\u5236\n** \u8f93\u51fa\uff1a\n**     \u6210\u529f\u65f6\u8fd4\u56de LUA_OK\uff0c\u5e76\u5c06\u7f16\u8bd1\u540e\u7684 Lua \u51fd\u6570\uff08LClosure\uff09\u538b\u5165\u6808\u9876\n**     \u5931\u8d25\u65f6\u8fd4\u56de\u9519\u8bef\u4ee3\u7801\uff0c\u5e76\u5c06\u9519\u8bef\u4fe1\u606f\u538b\u5165\u6808\u9876\n*/\nLUA_API int lua_load (lua_State *L, lua_Reader reader, void *data,\n                      const char *chunkname, const char *mode) {\n  ZIO z;\n  int status;\n\n  // \u52a0\u9501\uff0c\u786e\u4fdd\u7ebf\u7a0b\u5b89\u5168\n  lua_lock(L);\n\n  // \u7f3a\u7701 chunkname\n  if (!chunkname) chunkname = \"?\";\n\n  // \u521d\u59cb\u5316 ZIO \u6d41\n  // - z \u662f\u4e00\u4e2a ZIO \u7ed3\u6784\uff0c\u5b83\u5c01\u88c5\u4e86\u8bfb\u53d6\u4ee3\u7801\u5757\u5185\u5bb9\u7684\u903b\u8f91\n  // - \u5c06 reader \u548c data \u6307\u5b9a\u7ed9\u8fd9\u4e2a ZIO\uff0c\u786e\u4fdd\u7528 reader \u6307\u5b9a\u7684\u65b9\u5f0f\u8bfb\u53d6 data \u7684\u6587\u4ef6\u5185\u5bb9\n  luaZ_init(L, &amp;z, reader, data);\n\n  // \u8c03\u7528\u89e3\u6790\u5668\n  // - \u6b64\u51fd\u6570\u8d1f\u8d23\u5bf9\u4ee3\u7801\u5757\u7684\u89e3\u6790\u548c\u7f16\u8bd1\uff0c\u5b83\u8fd0\u884c\u5728\u4e00\u4e2a\u53d7\u4fdd\u62a4\u7684\u73af\u5883\u4e2d\uff0c\u53ef\u4ee5\u6355\u83b7\u5e76\u5904\u7406\u8fd0\u884c\u65f6\u9519\u8bef\n  // - \u89e3\u6790\u5b8c\u6210\u540e\uff0c\u5c06\u751f\u6210\u7684 Lua \u51fd\u6570\uff08LClosure\uff09\u538b\u5165\u6808\u9876\n  status = luaD_protectedparser(L, &amp;z, chunkname, mode);\n\n  // \u8bbe\u7f6e\u5168\u5c40\u73af\u5883\n  // - L-&gt;top - 1 \u6307\u5411\u7684\u662f\u4e0a\u4e00\u6b65\u751f\u6210\u7684\u653e\u5728\u6808\u9876\u7684 Lua \u51fd\u6570\u5bf9\u8c61\n  // - s2v \u7406\u89e3\u4e3a StackValue to TValue\uff0c\u5b83\u5c06\u4e00\u4e2a\u6808\u5143\u7d20\u8f6c\u5316\u4e3a\u901a\u7528\u7684 TValue \u7ed3\u6784\u4f53\n  // - clLvalue \u8fdb\u4e00\u6b65\u5c06 TValue \u8f6c\u5316\u4e3a LClosure (Lua\u95ed\u5305)\n  // - \u5982\u679c\u6709\u4e0a\u503c\uff0c\u83b7\u53d6\u5168\u5c40\u8868\u5e76\u5c06\u5168\u5c40\u8868\u8bbe\u7f6e\u4e3a\u8be5\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u4e0a\u503c\n  // - luaC_barrier \u786e\u4fdd\u5783\u573e\u56de\u6536\u7684\u6b63\u786e\u6027\uff0c\u7ef4\u62a4\u5f15\u7528\u5173\u7cfb\n  if (status == LUA_OK) {  /* no errors? */\n    LClosure *f = clLvalue(s2v(L-&gt;top - 1));  /* get newly created function */\n    if (f-&gt;nupvalues &gt;= 1) {  /* does it have an upvalue? */\n      /* get global table from registry */\n      const TValue *gt = getGtable(L);\n      /* set global table as 1st upvalue of 'f' (may be LUA_ENV) */\n      setobj(L, f-&gt;upvals[0]-&gt;v, gt);\n      luaC_barrier(L, f-&gt;upvals[0], gt);\n    }\n  }\n\n  // \u91ca\u653e\u9501\u5e76\u8fd4\u56de\u7ed3\u679c\n  lua_unlock(L);\n  return status;\n}\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_x_%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0%E8%A7%A3%E8%AF%BB/#f_parser","title":"f_parser","text":"C<pre><code>/*\n** lua_load \u51fd\u6570\u5de5\u4f5c\u6d41\u7a0b\u7684\u4e00\u90e8\u5206\n** \u8f93\u5165\uff1a\n**     L - \u5f53\u524d\u72b6\u6001\u673a\n**     ud - \u4e00\u4e2a\u901a\u7528\u7684\u7528\u6237\u6570\u636e\u6307\u9488\uff0c\u5728\u8fd9\u91cc\u662f\u4e00\u4e2a\u6307\u5411 SParser \u7ed3\u6784\u4f53\u7684\u6307\u9488\uff0c\u5305\u542b\u4e86\u89e3\u6790\u9700\u8981\u7684\u4fe1\u606f\n** \u8f93\u51fa\uff1a\n**     \u6ca1\u6709\u8fd4\u56de\uff0c\u81ea\u52a8\u68c0\u67e5\u6587\u4ef6\u6d41\u662f\u4e8c\u8fdb\u5236\u8fd8\u662f\u6587\u672c\uff0c\u8f6c\u53d1\u8c03\u7528 luaU_undump \u548c luaY_parser\n*/\nstatic void f_parser (lua_State *L, void *ud) {\n  LClosure *cl;\n\n  // \u5c06 ud \u5f3a\u5236\u8f6c\u6362\u4e3a SParser \u6307\u9488\n  // - SParser \u5305\u542b\u89e3\u6790\u65f6\u6240\u9700\u7684\u8f93\u5165\u6d41\uff08z\uff09\u3001\u7f13\u51b2\u533a\uff08buff\uff09\u3001\u52a8\u6001\u6570\u636e\u7ed3\u6784\uff08dyd\uff09\u4ee5\u53ca\u6e90\u6587\u4ef6\u7684\u540d\u5b57\uff08name\uff09\n  struct SParser *p = cast(struct SParser *, ud);\n\n  // \u68c0\u67e5\u6587\u4ef6\u6d41\u7c7b\u578b\uff0c\u8f6c\u53d1\u8c03\u7528\u89e3\u6790\u51fd\u6570\n  // - \u4e8c\u8fdb\u5236\u8c03\u7528 luaU_undump\n  // - \u6587\u672c\u6e90\u7801\u8c03\u7528 luaY_parser\n  int c = zgetc(p-&gt;z);  /* read first character */\n  if (c == LUA_SIGNATURE[0]) {\n    checkmode(L, p-&gt;mode, \"binary\");\n    cl = luaU_undump(L, p-&gt;z, p-&gt;name);\n  }\n  else {\n    checkmode(L, p-&gt;mode, \"text\");\n    cl = luaY_parser(L, p-&gt;z, &amp;p-&gt;buff, &amp;p-&gt;dyd, p-&gt;name, c);\n  }\n\n  // \u4e00\u81f4\u6027\u6821\u9a8c\uff0c\u6821\u9a8c\u751f\u6210\u7684\u95ed\u5305\u7684\u5b9e\u9645 upvalues \u6570\u91cf\u662f\u5426\u7b49\u4e8e\u51fd\u6570\u539f\u578b\u4e2d\u5b9a\u4e49\u7684\u6570\u91cf\n  // - nupvalues: \u95ed\u5305\u4e2d\u5b9e\u9645\u7684 upvalues \u6570\u91cf\n  // - sizeupvalues: \u51fd\u6570\u539f\u578b\u4e2d\u58f0\u660e\u7684 upvalues \u6570\u91cf\n  lua_assert(cl-&gt;nupvalues == cl-&gt;p-&gt;sizeupvalues);\n\n  // \u521d\u59cb\u5316\u95ed\u5305\u7684 Upvalues\uff08\u5916\u90e8\u53d8\u91cf\u7684\u5f15\u7528\uff09\n  // - Upvalues \u662f\u95ed\u5305\u6267\u884c\u73af\u5883\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u786e\u4fdd\u51fd\u6570\u53ef\u4ee5\u6b63\u786e\u8bbf\u95ee\u5916\u90e8\u53d8\u91cf\n  luaF_initupvals(L, cl);\n}\n</code></pre>"},{"location":"02_%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lua/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/05_%E8%99%9A%E6%8B%9F%E6%9C%BA/5_x_%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0%E8%A7%A3%E8%AF%BB/#luay_parser","title":"luaY_parser","text":"C<pre><code>/*\n** lua_load \u51fd\u6570\u5de5\u4f5c\u6d41\u7a0b\u7684\u6838\u5fc3\u90e8\u5206\uff0c\u5c06\u6587\u672c\u6d41\u6e90\u7801\u89e3\u6790\u751f\u6210\u53ef\u6267\u884c\u7684\u51fd\u6570\u95ed\u5305\n** \u8f93\u5165\uff1a\n**     L - \u5f53\u524d\u72b6\u6001\u673a\n**     z - \u8f93\u5165\u6d41\u5bf9\u8c61\uff0c\u5c01\u88c5\u4e86\u8f93\u5165\u6570\u636e\uff08\u6e90\u7801\u7684\u6587\u672c\u6d41\uff09\n**     buff - \u52a8\u6001\u7f13\u51b2\u533a\uff0c\u7528\u4e8e\u5b58\u50a8\u89e3\u6790\u8fc7\u7a0b\u4e2d\u7684\u4e34\u65f6\u6570\u636e\n**     dyd - \u52a8\u6001\u6570\u636e\u7ed3\u6784\uff0c\u5305\u542b\u4f5c\u7528\u57df\u53d8\u91cf\u3001\u6807\u7b7e\u3001\u8df3\u8f6c\u7b49\u52a8\u6001\u4fe1\u606f\n**     name - \u6e90\u6587\u4ef6\u7684\u540d\u79f0\uff0c\u7528\u4e8e\u751f\u6210\u8c03\u8bd5\u4fe1\u606f\n**     firstchar - \u8f93\u5165\u6d41\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\uff0c\u901a\u5e38\u5728\u8c03\u7528\u65f6\u5df2\u7ecf\u8bfb\u53d6\n** \u8f93\u51fa\uff1a\n**     \u8fd4\u56de\u751f\u6210\u7684\u51fd\u6570\u95ed\u5305\uff08\u6ce8\u610f\u8bcd\u6cd5\u5206\u6790\u5668\u7684\u8868\u51fa\u6808\u4e86\uff0c\u51fd\u6570\u95ed\u5305\u4ecd\u7136\u5728\u6808\u4e0a\uff09\n*/\nLClosure *luaY_parser (lua_State *L, ZIO *z, Mbuffer *buff,\n                       Dyndata *dyd, const char *name, int firstchar) {\n  LexState lexstate;\n  FuncState funcstate;\n\n  // \u521b\u5efa\u4e3b\u51fd\u6570\u95ed\u5305\n  // - \u4f7f\u7528 luaF_newLclosure \u521b\u5efa\u4e00\u4e2a LClosure \u5bf9\u8c61\u3002\u4e3b\u95ed\u5305\u5bf9\u5e94\u6574\u4e2a Lua \u6e90\u7801\u6587\u4ef6\u7684\u9876\u5c42\u51fd\u6570\n  // - \u4f7f\u7528 setclLvalue2s \u5c06\u95ed\u5305\u5bf9\u8c61\u653e\u7f6e\u5728 Lua \u5806\u6808\u9876\u7aef\uff0c\u786e\u4fdd\u4e0d\u4f1a\u88ab\u5783\u573e\u56de\u6536\u5668\u9519\u8bef\u6e05\u7406\n  // - \u589e\u52a0\u5806\u6808\u9876\u6307\u9488\uff0c\u4ee5\u5b58\u653e\u95ed\u5305\n  LClosure *cl = luaF_newLclosure(L, 1);  /* create main closure */\n  setclLvalue2s(L, L-&gt;top, cl);  /* anchor it (to avoid being collected) */\n  luaD_inctop(L);\n\n  // \u521b\u5efa\u8bcd\u6cd5\u5206\u6790\u5668\u7684\u54c8\u5e0c\u8868\n  // - \u4e3a\u8bcd\u6cd5\u5206\u6790\u5668\u521b\u5efa\u4e00\u5f20\u54c8\u5e0c\u8868\uff0c\u5b58\u50a8\u6807\u8bc6\u7b26\u7b49\u4fe1\u606f\n  // - \u5c06\u8be5\u8868\u653e\u7f6e\u5728 Lua \u5806\u6808\u9876\u7aef\uff0c\u9632\u6b62\u5176\u88ab\u5783\u573e\u56de\u6536\u5668\u6e05\u7406\n  lexstate.h = luaH_new(L);  /* create table for scanner */\n  sethvalue2s(L, L-&gt;top, lexstate.h);  /* anchor it */\n  luaD_inctop(L);\n\n  // \u521d\u59cb\u5316\u51fd\u6570\u539f\u578b\n  // - \u521b\u5efa\u51fd\u6570\u539f\u578b: \u8c03\u7528 luaF_newproto \u521b\u5efa\u51fd\u6570\u539f\u578b\u5bf9\u8c61\uff08Proto\uff09\uff0c\u5e76\u5c06\u5176\u5173\u8054\u5230\u95ed\u5305\u7684 p \u5b57\u6bb5\n  // - \u5bf9\u8c61\u5c4f\u969c: \u4f7f\u7528 luaC_objbarrier \u786e\u4fdd\u5783\u573e\u56de\u6536\u5668\u6b63\u786e\u5904\u7406\u65b0\u521b\u5efa\u5bf9\u8c61\u4e4b\u95f4\u7684\u5f15\u7528\n  // - \u8bbe\u7f6e\u8c03\u8bd5\u4fe1\u606f: \u5c06 source \u5b57\u6bb5\u8bbe\u7f6e\u4e3a\u6e90\u7801\u7684\u540d\u79f0\n  funcstate.f = cl-&gt;p = luaF_newproto(L);\n  luaC_objbarrier(L, cl, cl-&gt;p);\n  funcstate.f-&gt;source = luaS_new(L, name);  /* create and anchor TString */\n  luaC_objbarrier(L, funcstate.f, funcstate.f-&gt;source);\n\n  // \u521d\u59cb\u5316\u8bcd\u6cd5\u548c\u8bed\u6cd5\u5206\u6790\u5668\n  // - \u5173\u8054\u52a8\u6001\u6570\u636e: \u5c06\u52a8\u6001\u7f13\u51b2\u533a\u548c\u52a8\u6001\u6570\u636e\u4e0e\u8bcd\u6cd5\u5206\u6790\u5668\u72b6\u6001\u5173\u8054\n  // - \u6e05\u7a7a\u52a8\u6001\u6570\u636e: \u91cd\u7f6e\u52a8\u6001\u4f5c\u7528\u57df\u53d8\u91cf\u3001\u8df3\u8f6c\u76ee\u6807\u548c\u6807\u7b7e\u7684\u8ba1\u6570\n  // - \u8bbe\u7f6e\u8f93\u5165\u6d41: \u8c03\u7528 luaX_setinput \u521d\u59cb\u5316\u8bcd\u6cd5\u5206\u6790\u5668\uff0c\u8bbe\u7f6e\u8f93\u5165\u6d41 z\u3001\u8c03\u8bd5\u4fe1\u606f source \u548c\u9996\u5b57\u7b26 firstchar\n  lexstate.buff = buff;\n  lexstate.dyd = dyd;\n  dyd-&gt;actvar.n = dyd-&gt;gt.n = dyd-&gt;label.n = 0;\n  luaX_setinput(L, &amp;lexstate, z, funcstate.f-&gt;source, firstchar);\n\n  // \u89e3\u6790\u4e3b\u51fd\u6570\n  // - \u8c03\u7528\u6838\u5fc3\u51fd\u6570 mainfunc\uff0c\u89e3\u6790\u6574\u4e2a Lua \u6e90\u7801\u6587\u4ef6\uff0c\u6784\u5efa\u8bed\u6cd5\u6811\u548c\u51fd\u6570\u539f\u578b\n  mainfunc(&amp;lexstate, &amp;funcstate);\n\n  // \u68c0\u67e5\u89e3\u6790\u4e00\u81f4\u6027\n  // - \u68c0\u67e5\u8bed\u6cd5\u89e3\u6790\u662f\u5426\u6b63\u786e\u7ed3\u675f\uff1a\n  //     - \u6ca1\u6709\u591a\u4f59\u7684\u5d4c\u5957\u51fd\u6570\n  //     - FuncState \u4e2d\u7684 nups\uff08upvalue \u6570\u91cf\uff09\u4e3a 1\n  //     - LexState \u4e2d fs\uff08\u5f53\u524d\u7684\u51fd\u6570\u72b6\u6001\uff09\u4e3a NULL\n  // - \u68c0\u67e5\u52a8\u6001\u6570\u636e\u662f\u5426\u6e05\u7a7a\n  lua_assert(!funcstate.prev &amp;&amp; funcstate.nups == 1 &amp;&amp; !lexstate.fs);\n  /* all scopes should be correctly finished */\n  lua_assert(dyd-&gt;actvar.n == 0 &amp;&amp; dyd-&gt;gt.n == 0 &amp;&amp; dyd-&gt;label.n == 0);\n\n  // \u6e05\u7406\u5806\u6808\u5e76\u8fd4\u56de\n  L-&gt;top--;  /* remove scanner's table */\n  return cl;  /* closure is on the stack, too */\n}\n</code></pre>"},{"location":"03_%E6%B8%B8%E6%88%8F%E7%BC%96%E7%A8%8B/%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95/01_Lz4/","title":"01.Lz4","text":""},{"location":"03_%E6%B8%B8%E6%88%8F%E7%BC%96%E7%A8%8B/%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95/01_Lz4/#_1","title":"\u6982\u8ff0","text":"<p>LZ4 \u662f\u4e00\u79cd\u65e0\u635f\u538b\u7f29\u7b97\u6cd5\uff0c\u63d0\u4f9b\u6bcf\u6838 &gt; 500 MB/s \u7684\u538b\u7f29\u901f\u5ea6\uff0c\u5e76\u53ef\u901a\u8fc7\u591a\u6838 CPU \u8fdb\u884c\u6269\u5c55\u3002\u5b83\u5177\u6709\u6781\u5feb\u7684\u89e3\u7801\u5668\uff0c\u6bcf\u6838\u901f\u5ea6\u53ef\u8fbe\u6570 GB/s\uff0c\u901a\u5e38\u4f1a\u8fbe\u5230\u591a\u6838\u7cfb\u7edf\u7684 RAM \u901f\u5ea6\u6781\u9650\u3002</p> <p>\u4f5c\u4e3a Unity AssetBundle \u4e3b\u63a8\u7684\u538b\u7f29\u7b97\u6cd5\uff0c\u5b83\u76f8\u6bd4 Lzma \u62e5\u6709\u66f4\u5feb\u7684\u901f\u5ea6\uff08\u5927\u7ea6\u662f Lzma \u7684\u5341\u500d\u4ee5\u4e0a\uff09\u3002\u5e76\u4e14\u662f\u57fa\u4e8e\u5757\u538b\u7f29\u7684\uff08Chunk Based\uff09\uff0c\u53ef\u4ee5\u6309\u9700\u9009\u62e9\u52a0\u8f7d\u90e8\u5206\u5757\uff0c\u800c\u4e0d\u7528\u5c06\u6574\u4e2a\u6587\u4ef6\u5168\u90e8\u52a0\u8f7d\uff0c\u8fd9\u5bf9\u4e8e\u5185\u5b58\u6765\u8bf4\u662f\u66f4\u53cb\u597d\u7684\u3002\u552f\u4e00\u76f8\u8f83\u4e8e Lzma \u7684\u52a3\u52bf\u662f\u538b\u7f29\u7387\uff0c\u5927\u7ea6\u6bd4 Lzma \u9ad8\u51fa 30%</p>"},{"location":"03_%E6%B8%B8%E6%88%8F%E7%BC%96%E7%A8%8B/%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95/01_Lz4/#lz4","title":"Lz4 \u7684\u539f\u7406","text":"<p>Lz4 \u538b\u7f29\u540e\u7684\u6587\u4ef6\u7531\u5757\u7ec4\u6210\uff0c\u6bcf\u4e00\u4e2a\u538b\u7f29\u5757\u5219\u7531\u82e5\u5e72\u5e8f\u5217\u7ec4\u6210\uff0c\u5b83\u7684\u6838\u5fc3\u539f\u7406\u7b80\u5355\u6982\u62ec\u5c31\u662f\u627e\u51fa\u91cd\u590d\u7684\u5b57\u8282\u5e8f\u5217\uff0c\u6309\u7167\u56fa\u5b9a\u89c4\u5219\u4ee5\u66f4\u7701\u7a7a\u95f4\u7684\u5f62\u5f0f\u5b58\u50a8\u3002\u5148\u6765\u770b\u5b83\u7684\u5e8f\u5217\u793a\u610f\u56fe\uff1a</p> <p></p> <p>Lz4\u7684\u5e8f\u5217</p> <p>\u9996\u5148\uff0c\u5f00\u5934\u7684\u4e00\u4e2a\u5b57\u8282\u79f0\u4e3a\u4e00\u4e2a\u6807\u8bb0\uff08Token\uff09\uff0c\u8fd9\u4e2a\u6807\u8bb0\u7531\u4e24\u4e2a 4 \u4f4d\u7ec4\u6210\uff08\u56e0\u6b64\u503c\u7684\u8303\u56f4\u4ece 0 \u5230 15\uff09</p> <p>\u9ad8 4 \u4f4d\u7528\u4e8e\u5b58\u50a8\u5b57\u9762\u91cf\uff08Literal\uff09\u7684\u957f\u5ea6\uff0c\u5b57\u9762\u91cf\u662f\u6307\u538b\u7f29\u8fc7\u7a0b\u4e2d\u65e0\u6cd5\u88ab\u538b\u7f29\u7684\u539f\u59cb\u5b57\u8282\u3002\u7531\u4e8e 4 \u4f4d\u80fd\u8868\u793a\u7684\u503c\u8303\u56f4\u6709\u9650\uff0c\u56e0\u6b64\u56fe\u4e2d Literal length+ \uff08\u56fe\u4e2d\u9ec4\u8272\u533a\u57df\uff09\u7528\u4e8e\u652f\u6301\u66f4\u5927\u7684\u957f\u5ea6\u503c\u7684\u5b58\u50a8\uff0c\u8fd9\u662f\u4e00\u4e2a\u53ef\u9009\u7684\u533a\u57df\u3002\u5982\u679c 4 \u4f4d\u4e4b\u5185\u8db3\u591f\u5b58\u50a8\u5b57\u9762\u91cf\u7684\u957f\u5ea6\uff0c\u8fd9\u4e2a\u533a\u57df\u5c31\u4e0d\u5b58\u5728\uff0cToken \u4e4b\u540e\u4f1a\u7d27\u8ddf Literals\uff08\u5b57\u9762\u91cf\uff09\u3002\u5982\u679c\u8be5 4 \u4f4d\u5b58\u50a8\u7684\u503c\u4e3a 0\uff0c\u5219\u4ee3\u8868\u6ca1\u6709\u5b57\u9762\u91cf\u3002\u5982\u679c\u4e3a 15\uff084 \u4f4d\u5168 1\uff09\uff0c\u5219\u589e\u52a0\u4e00\u4e2a Literal length+ \u533a\u57df\uff0c\u5176\u4ee3\u8868\u7684\u503c\u4e3a 0 - 255\uff08\u4e00\u4e2a\u5b57\u8282\u7684\u5927\u5c0f\uff09\uff0c\u6b64\u65f6\u5b57\u9762\u91cf\u7684\u957f\u5ea6 = 15 + \u8fd9\u4e2a\u5b57\u8282\u7684\u503c\u3002\u5982\u679c\u8fd9\u4e2a\u5b57\u8282\u7684\u503c\u4ecd\u7136\u6ee1\u4e86\uff08255\uff09\uff0c\u5219\u7ee7\u7eed\u589e\u52a0\u4e00\u4e2a\u65b0\u7684\u5b57\u8282\uff0c\u76f4\u5230\u53ef\u4ee5\u8868\u793a\u5b57\u9762\u91cf\u7684\u957f\u5ea6\u4e3a\u6b62\u3002\uff08\u56e0\u6b64\u56fe\u4e2d\u5199\u7684\u662f 0-n bytes\uff09</p> <p>\u8fd9\u4e24\u4e2a\u533a\u57df\u4e4b\u540e\uff0c\u5219\u662f\u5b57\u9762\u91cf\u7684\u5b58\u50a8\u533a\u57df\uff0c\u5b57\u9762\u91cf\u662f\u672a\u538b\u7f29\u7684\u5b57\u8282\uff0c\u6309\u539f\u6837\u590d\u5236\u3002</p> <p>\u7d27\u63a5\u7740\u662f\u504f\u79fb\u91cf\uff08Offset\uff09\uff0c\u8fd9\u662f\u4e00\u4e2a\u4e24\u4e2a\u5b57\u8282\u7684\u503c\uff080-65535\uff09\uff0c\u5b83\u8868\u793a\u8981\u4ece\u4e2d\u590d\u5236\u5339\u914d\u7684\u4f4d\u7f6e\u3002\u8bf7\u6ce8\u610f\uff0c0 \u662f\u65e0\u6548\u503c\uff0c\u4e0d\u4f1a\u88ab\u4f7f\u7528\u30021 \u8868\u793a\u201c\u5f53\u524d\u4f4d\u7f6e - 1 \u5b57\u8282\u201d\uff0c\u53e6\u5916\u9700\u8981\u6ce8\u610f\uff0c\u8fd9\u4e2a\u503c\u4f7f\u7528\u5c0f\u7aef\u683c\u5f0f\u5b58\u50a8\uff08\u4f4e\u4f4d\u5728\u524d\uff0c\u9ad8\u4f4d\u5728\u540e\uff09\u3002\u901a\u8fc7\u504f\u79fb\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u91cd\u590d\u5b57\u8282\u7684\u8d77\u59cb\u4f4d\u7f6e</p> <p>\u6211\u4eec\u4f7f\u7528\u91cd\u590d\u5b57\u8282\u7684\u8d77\u59cb\u4f4d\u7f6e\u52a0\u4e0a\u5339\u914d\u957f\u5ea6\u7684\u503c\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u91cd\u590d\u4f4d\u7f6e\u4ece\u54ea\u4e2a\u4f4d\u7f6e\u5f00\u59cb\u5230\u54ea\u4e2a\u4f4d\u7f6e\u7ed3\u675f\u3002\u5339\u914d\u957f\u5ea6\u662f\u6307\u4ece\u5728 Token \u7684\u4f4e 4 \u4f4d\u503c\u5b58\u50a8\uff0c\u5982\u679c\u4e0d\u591f\uff0c\u518d\u542f\u7528\u540e\u9762\u7684\u53ef\u9009\u533a\u57df\uff0c\u53ef\u9009\u533a\u57df\u7684\u89c4\u5219\u548c\u5b57\u9762\u91cf\u957f\u5ea6\u7684\u89c4\u5219\u4e00\u81f4\uff0c\u4f46\u8fd9\u91cc\u6709\u4e00\u70b9\u7ec6\u5c0f\u7684\u5dee\u5f02\uff0c\u5339\u914d\u957f\u5ea6\u8981\u6c42\u6700\u5c0f\u503c\u4e3a 4\uff0c\u4e5f\u5c31\u662f\u8bf4\u81f3\u5c11\u8981 4 \u4e2a\u91cd\u590d\u7684\u5b57\u8282\u624d\u53ef\u4ee5\u538b\u7f29\uff0c\u8fd9\u5e94\u8be5\u662f\u4e3a\u4e86\u538b\u7f29\u7387\u81f3\u5c11\u4e0d\u80fd\u8d85\u8fc7 1 \u800c\u8bbe\u8ba1\u7684\uff0c\u6bd5\u7adf\u538b\u7f29\u540e\u53d8\u5927\u4e86\u662f\u4e0d\u884c\u7684\u3002\u8fd9\u91cc\u5b58\u50a8\u7684\u503c\u5982\u679c\u4e3a 0\uff0c\u4ee3\u8868\u5339\u914d\u957f\u5ea6\u4e3a 4 \u4e2a\u5b57\u8282\uff0c\u5982\u679c\u503c\u4e3a 15\uff0c\u4ee3\u8868\u5339\u914d\u957f\u5ea6\u4e3a 19+ \u4e2a\u5b57\u8282\uff08\u53ef\u80fd\u542f\u7528\u4e86\u53ef\u9009\u533a\u57df\uff09</p>"},{"location":"03_%E6%B8%B8%E6%88%8F%E7%BC%96%E7%A8%8B/%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95/01_Lz4/#_2","title":"\u8fdb\u884c\u4e00\u6b21\u8ba1\u7b97","text":"<p>\u539f\u59cb\u5b57\u8282\u5e8f\u5217</p> <p>\u5047\u8bbe\u6211\u4eec\u6709\u4e0a\u9762\u8fd9\u4e2a\u5b57\u8282\u5e8f\u5217\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5b57\u8282\u7f16\u53f7\u4e00\u4e2a\u7d22\u5f15\uff0c\u6700\u5927\u503c\u662fF\uff0811111111\uff09\uff0c\u73b0\u5728\u5f00\u59cb\u5bf9\u5b83\u8fdb\u884c\u6a21\u62df\u538b\u7f29\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <p></p> <p>\u6a21\u62df\u538b\u7f29\u6b65\u9aa4</p>"},{"location":"03_%E6%B8%B8%E6%88%8F%E7%BC%96%E7%A8%8B/%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95/01_Lz4/#_3","title":"\u538b\u7f29\u8ba1\u7b97","text":"<p>\u73b0\u5728\u6211\u4eec\u5f97\u5230\uff1a</p> <ul> <li>\u5b57\u9762\u91cf\u4e3a[C, C, C, A, B, C, D, E, F, B, B, B]\uff0c\u957f\u5ea6\u4e3a12\u3002</li> <li>\u504f\u79fb\u91cf\u4e3a9</li> <li>\u5339\u914d\u957f\u5ea6\u4e3a6</li> </ul> <p>\u9996\u5148\u7b2c\u4e00\u4e2a\u5e8f\u5217\u7528\u6765\u5b58\u50a8\u5b57\u9762\u91cf\uff1a</p> Text Only<pre><code>Token\uff1a\n- \u9ad8 4 \u4f4d\uff1a12\uff08\u5b57\u9762\u91cf\u957f\u5ea6\uff0c\u5c0f\u4e8e 15 \u65e0\u9700\u989d\u5916\u5b57\u8282\uff09\n- \u4f4e 4 \u4f4d\uff1a0\uff08\u4e0d\u5b58\u50a8\u5339\u914d\uff09\nLiterals\uff1a[C, C, C, A, B, C, D, E, F, B, B, B]\nOffset\uff1a\u7531\u4e8e\u8be5\u5e8f\u5217\u4ec5\u8868\u793a\u5b57\u9762\u91cf\uff0c\u56e0\u6b64\u4e0d\u5b58\u50a8Offset\n</code></pre> <p>\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u7528\u6765\u5b58\u50a8\u5339\u914d\u6570\u636e\uff1a</p> Text Only<pre><code>\u5339\u914d\u4fe1\u606f:\n- \u504f\u79fb\u91cf: 9\n- \u5339\u914d\u957f\u5ea6: 6\nToken:\n- \u9ad84\u4f4d: 0 (\u6ca1\u6709\u5b57\u9762\u91cf)\n- \u4f4e4\u4f4d: 2 (\u5339\u914d\u957f\u5ea6 = 6-4 = 2)\nToken = 0x02\n\u504f\u79fb\u91cf\u7f16\u7801: 0x0009 \u2192 \u5c0f\u7aef\u5e8f [0x09][0x00]\n</code></pre> <p>\u5f97\u5230\u6700\u7ec8\u538b\u7f29\u7ed3\u679c\uff1a</p> Text Only<pre><code>[0xC0][C][C][C][A][B][C][D][E][F][B][B][B][0x02][0x09][0x00]\n\n\u539f\u59cb\u6570\u636e: 18\u5b57\u8282\n\u538b\u7f29\u6570\u636e: 16\u5b57\u8282\n\u538b\u7f29\u7387: 16/18 \u2248 88.9%\n\u8282\u7701: 2\u5b57\u8282 (11.1%)\n</code></pre>"},{"location":"03_%E6%B8%B8%E6%88%8F%E7%BC%96%E7%A8%8B/%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95/01_Lz4/#_4","title":"\u89e3\u538b\u8ba1\u7b97","text":"<p>\u89e3\u538bToken1 (0xC0)\uff1a</p> Text Only<pre><code>\u5b57\u9762\u91cf\u957f\u5ea6: 12\n\u5339\u914d\u957f\u5ea6: 0\n\u64cd\u4f5c: \u590d\u523612\u4e2a\u5b57\u9762\u91cf\n\u8f93\u51fa: C C C A B C D E F B B B\n</code></pre> <p>\u89e3\u538bToken2 (0x02)\uff1a</p> Text Only<pre><code>\u5b57\u9762\u91cf\u957f\u5ea6: 0\n\u5339\u914d\u957f\u5ea6: 2+4 = 6\n\u504f\u79fb\u91cf: 9\n\u64cd\u4f5c: \u4ece\u4f4d\u7f6e3\u5f00\u59cb\u590d\u52366\u4e2a\u5b57\u8282\n\u8f93\u51fa: A B C D E F (\u590d\u5236\u4f4d\u7f6e3-8)\n</code></pre> <p>\u6700\u7ec8\u7ed3\u679c\u4e0e\u539f\u6570\u636e\u4e00\u81f4\uff1a</p> Text Only<pre><code>C C C A B C D E F B B B A B C D E F\n</code></pre>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/01_%E4%BB%80%E4%B9%88%E6%98%AF%E5%86%85%E5%AD%98/","title":"01.\u4ec0\u4e48\u662f\u5185\u5b58","text":"<p>\u6211\u4eec\u6240\u8bf4\u7684\u5185\u5b58\u901a\u5e38\u6709\u591a\u4e2a\u542b\u4e49\uff0c\u4ece\u64cd\u4f5c\u7cfb\u7edf\u7ba1\u7406\u5c42\u9762\u53ef\u4ee5\u5c06\u5185\u5b58\u5206\u4e3a\u7269\u7406\u5185\u5b58\u548c\u865a\u62df\u5185\u5b58</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/01_%E4%BB%80%E4%B9%88%E6%98%AF%E5%86%85%E5%AD%98/#_1","title":"\u7269\u7406\u5185\u5b58","text":"<p>\u7269\u7406\u5185\u5b58\u901a\u5e38\u6307 RAM (Random Access Memory)\uff0c\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ul> <li>\u6613\u5931\u6027\uff1a\u65ad\u7535\u540e\u6570\u636e\u4f1a\u4e22\u5931</li> <li>\u9ad8\u901f\u8bbf\u95ee\uff1a\u6bd4\u786c\u76d8\u7b49\u5b58\u50a8\u8bbe\u5907\u5feb\u5f97\u591a</li> <li>\u968f\u673a\u8bbf\u95ee\uff1a\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u4efb\u610f\u5730\u5740\u7684\u6570\u636e</li> <li>\u4e34\u65f6\u5b58\u50a8\uff1a\u7528\u4e8e\u5b58\u653e\u6b63\u5728\u8fd0\u884c\u7684\u7a0b\u5e8f\u548c\u6570\u636e</li> </ul> <p>\u7269\u7406\u5185\u5b58\u5c42\u9762\u6211\u4eec\u9700\u8981\u5173\u6ce8\u4e24\u4e2a\u70b9\uff1aCPU \u8bbf\u95ee\u5185\u5b58\u7684\u8fc7\u7a0b\u3001\u79fb\u52a8\u8bbe\u5907\u7684\u5185\u5b58\u67b6\u6784\u5dee\u5f02</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/01_%E4%BB%80%E4%B9%88%E6%98%AF%E5%86%85%E5%AD%98/#cpu","title":"CPU \u8bbf\u95ee\u5185\u5b58\u662f\u4e00\u4e2a\u6162\u901f\u7684\u8fc7\u7a0b","text":"<p>CPU \u5728\u8bbf\u95ee\u5185\u5b58\u4e4b\u524d\uff0c\u4f1a\u5148\u53bb\u4f9d\u6b21\u8bbf\u95ee L1\u3001L2\u3001L3 Cache\uff0c\u5982\u679c\u6ca1\u6709\u5f97\u5230\u60f3\u8981\u7684\u6570\u636e\uff08\u79f0\u4e3a\u4e00\u6b21 Cache Miss\uff09\uff0c\u5219\u4f1a\u8bbf\u95ee\u4e3b\u5185\u5b58\uff0c\u7136\u540e\u56de\u5230 Cache\u3002\u6574\u4e2a\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u6bd4\u8f83\u6162\u7684\uff0c\u5982\u679c\u6267\u884c\u6307\u4ee4\u6216\u8005\u5185\u5b58\u5730\u5740\u4e0d\u8fde\u7eed\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4f1a\u5bfc\u81f4\u5927\u91cf\u7684 Cache Miss\uff0c\u9020\u6210\u5927\u91cf\u7684\u4e3b\u5185\u5b58\u548c Cache \u4e4b\u95f4\u7684\u4ea4\u6362\uff0c\u5927\u91cf\u7684\u65f6\u95f4\u4f1a\u88ab\u6d6a\u8d39\u5728\u5185\u5b58\u7684\u8bfb\u53d6\u4e0a\u3002</p> <p>\u6240\u4ee5\u7269\u7406\u5185\u5b58\u7684\u4e00\u4e2a\u6838\u5fc3\u95ee\u9898\u662f\u5982\u4f55\u51cf\u5c11 Cache Miss\u3002Unity \u63a8\u51fa\u7684 DOTS \u6280\u672f\u7684\u4e00\u4e2a\u7406\u5ff5\u5c31\u662f\u628a\u4e0d\u8fde\u7eed\u7684\u5185\u5b58\u5c3d\u91cf\u53d8\u4e3a\u8fde\u7eed\u7684\u5185\u5b58\uff0c\u4ee5\u6b64\u51cf\u5c11 Cache Miss\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/01_%E4%BB%80%E4%B9%88%E6%98%AF%E5%86%85%E5%AD%98/#_2","title":"\u79fb\u52a8\u8bbe\u5907\u7684\u5185\u5b58\u67b6\u6784\u5dee\u5f02","text":"<p>\u76ee\u524d\u5e02\u9762\u4e0a\u5927\u591a\u6570\u7684\u79fb\u52a8\u8bbe\u5907\u90fd\u6ca1\u6709\u72ec\u7acb\u7684 GPU \u548c\u72ec\u7acb\u7684\u663e\u5b58\uff0c\u901a\u5e38\u662f CPU \u540c\u65f6\u80a9\u8d1f\u7740 GPU \u7684\u804c\u8d23\uff0c\u56e0\u6b64\u4e00\u822c\u7528\u4e8e\u663e\u793a\u6e32\u67d3\u7684\u8d44\u4ea7\u4f1a\u5728\u5185\u5b58\u4e2d\u5b58\u5728\u4e24\u4efd\uff1a</p> <ul> <li>\u4e00\u4efd\u662f\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u7684\u539f\u59cb\u6570\u636e\uff0c\u5b83\u4eec\u7531 Unity \u7ba1\u7406\u8d77\u6765\uff0c\u5f53 CPU \u9700\u8981\u8bfb\u53d6\u6216\u4fee\u6539\u8d44\u6e90\u65f6\u4f7f\u7528\u3002</li> <li>\u53e6\u5916\u4e00\u4efd\u662f\u5728 \u201c\u663e\u5b58\u201d \u4e2d\u7684\u526f\u672c\uff0c\u5b83\u4eec\u662f\u7ecf\u8fc7\u538b\u7f29\u3001\u683c\u5f0f\u8f6c\u6362\u540e\u7684 GPU \u53cb\u597d\u7684\uff0c\u5b9e\u9645\u7528\u4e8e\u6e32\u67d3\u7684\u6570\u636e\u683c\u5f0f\uff0c\u53ef\u4ee5\u88ab\u76f4\u63a5\u9ad8\u901f\u8bbf\u95ee\u7528\u4e8e\u6e32\u67d3\u3002</li> </ul> <p>\u53e6\u5916\uff0c\u79fb\u52a8\u8bbe\u5907 CPU \u7684\u677f\u8f7d\u9762\u79ef\u4e5f\u66f4\u5c0f\uff0c\u7f13\u5b58\u7ea7\u6570\u66f4\u5c11\uff0c\u7f13\u5b58\u5927\u5c0f\u66f4\u5c0f\u3002\u79fb\u52a8\u8bbe\u5907 CPU \u8bbf\u95ee\u5185\u5b58\u7684\u6548\u7387\u6bd4 PC \u7b49\u5e73\u53f0\u66f4\u4f4e\uff0c\u4ee3\u4ef7\u66f4\u5927\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/01_%E4%BB%80%E4%B9%88%E6%98%AF%E5%86%85%E5%AD%98/#_3","title":"\u865a\u62df\u5185\u5b58","text":"<p>\u865a\u62df\u5185\u5b58\uff08Virtual memory\uff09\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u5185\u5b58\u7ba1\u7406\u7684\u4e00\u79cd\u6280\u672f\u3002\u5b83\u4f7f\u5f97\u5e94\u7528\u7a0b\u5e8f\u8ba4\u4e3a\u5b83\u62e5\u6709\u8fde\u7eed\u53ef\u7528\u7684\u5185\u5b58\uff08\u4e00\u4e2a\u8fde\u7eed\u5b8c\u6574\u7684\u5730\u5740\u7a7a\u95f4\uff09\uff0c\u800c\u5b9e\u9645\u4e0a\u7269\u7406\u5185\u5b58\u901a\u5e38\u88ab\u5206\u9694\u6210\u591a\u4e2a\u5185\u5b58\u788e\u7247\uff0c\u8fd8\u6709\u90e8\u5206\u6682\u65f6\u5b58\u50a8\u5728\u5916\u90e8\u78c1\u76d8\u5b58\u50a8\u5668\u4e0a\uff0c\u5728\u9700\u8981\u65f6\u8fdb\u884c\u6570\u636e\u4ea4\u6362\u3002\u4e0e\u6ca1\u6709\u4f7f\u7528\u865a\u62df\u5185\u5b58\u6280\u672f\u7684\u7cfb\u7edf\u76f8\u6bd4\uff0c\u4f7f\u7528\u8fd9\u79cd\u6280\u672f\u4f7f\u5f97\u5927\u578b\u7a0b\u5e8f\u7684\u7f16\u5199\u53d8\u5f97\u66f4\u5bb9\u6613\uff0c\u5bf9\u771f\u6b63\u7684\u7269\u7406\u5185\u5b58\uff08\u4f8b\u5982 RAM \uff09\u7684\u4f7f\u7528\u4e5f\u66f4\u6709\u6548\u7387\u3002\u6b64\u5916\uff0c\u865a\u62df\u5185\u5b58\u6280\u672f\u53ef\u4ee5\u4f7f\u591a\u4e2a\u8fdb\u7a0b\u5171\u4eab\u540c\u4e00\u4e2a\u8fd0\u884c\u5e93\uff0c\u5e76\u901a\u8fc7\u5206\u5272\u4e0d\u540c\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\u6765\u63d0\u9ad8\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u3002</p> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0c\u865a\u62df\u5185\u5b58\u4e0d\u53ea\u662f \u201c\u7528\u78c1\u76d8\u7a7a\u95f4\u6765\u6269\u5c55\u7269\u7406\u5185\u5b58\u201d \u7684\u610f\u601d\u2014\u2014\u8fd9\u53ea\u662f\u6269\u5145\u5185\u5b58\u7ea7\u522b\u4ee5\u4f7f\u5176\u5305\u542b\u786c\u76d8\u9a71\u52a8\u5668\u800c\u5df2\u3002\u628a\u5185\u5b58\u6269\u5c55\u5230\u78c1\u76d8\u53ea\u662f\u4f7f\u7528\u865a\u62df\u5185\u5b58\u6280\u672f\u7684\u4e00\u4e2a\u7ed3\u679c\uff0c\u5b83\u7684\u4f5c\u7528\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8986\u76d6\u6216\u8005\u628a\u5904\u4e8e\u4e0d\u6d3b\u52a8\u72b6\u6001\u7684\u7a0b\u5e8f\u4ee5\u53ca\u5b83\u4eec\u7684\u6570\u636e\u5168\u90e8\u4ea4\u6362\u5230\u78c1\u76d8\u4e0a\u7b49\u65b9\u5f0f\u6765\u5b9e\u73b0\u3002\u5bf9\u865a\u62df\u5185\u5b58\u7684\u5b9a\u4e49\u662f\u57fa\u4e8e\u5bf9\u5730\u5740\u7a7a\u95f4\u7684\u91cd\u5b9a\u4e49\u7684\uff0c\u5373\u628a\u5730\u5740\u7a7a\u95f4\u5b9a\u4e49\u4e3a \u201c\u8fde\u7eed\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u201d\uff0c\u4ee5\u501f\u6b64 \u201c\u6b3a\u9a97\u201d \u7a0b\u5e8f\uff0c\u4f7f\u5b83\u4eec\u4ee5\u4e3a\u81ea\u5df1\u6b63\u5728\u4f7f\u7528\u4e00\u5927\u5757\u7684 \u201c\u8fde\u7eed\u201d \u5730\u5740\u3002</p> <p></p> <p>\u865a\u62df\u5185\u5b58</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/01_%E4%BB%80%E4%B9%88%E6%98%AF%E5%86%85%E5%AD%98/#_4","title":"\u5185\u5b58\u4ea4\u6362\u548c\u5185\u5b58\u538b\u7f29","text":"<p>\u5185\u5b58\u4ea4\u6362\u662f\u6307\u8bbe\u5907\u5c06\u65e0\u7528\u7684\u5185\u5b58\u6570\u636e\u5199\u5165\u5230\u786c\u76d8\uff0c\u4ee5\u817e\u51fa\u5185\u5b58\u7a7a\u95f4\u7684\u884c\u4e3a\u3002PC \u8bbe\u5907\u652f\u6301\u5185\u5b58\u4ea4\u6362\uff0c\u79fb\u52a8\u8bbe\u5907\u4e0d\u652f\u6301\uff0c\u4e0d\u652f\u6301\u7684\u539f\u56e0\u6709\u4ee5\u4e0b\u4e24\u70b9\uff1a</p> <ul> <li>\u79fb\u52a8\u8bbe\u5907\u7684 IO \u6027\u80fd\u8f83\u5dee\uff0c\u505a\u5185\u5b58\u4ea4\u6362\u4f1a\u4e25\u91cd\u5f71\u54cd\u6027\u80fd</li> <li>\u79fb\u52a8\u8bbe\u5907\u7684\u5916\u7f6e\u5b58\u50a8\u53ef\u64e6\u5199\u6b21\u6570\u8f83\u5c11\uff0c\u9891\u7e41\u7684\u5185\u5b58\u4ea4\u6362\u4f1a\u51cf\u5c11\u5916\u7f6e\u5b58\u50a8\u7684\u5bff\u547d</li> </ul> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0ciOS \u652f\u6301\u4e86\u5185\u5b58\u538b\u7f29\uff08Android \u4e0d\u652f\u6301\uff09\uff0c\u5927\u81f4\u539f\u7406\u662f\u628a\u65e0\u7528\u7684\u5185\u5b58\u6570\u636e\u538b\u7f29\u8d77\u6765\u653e\u5230\u6307\u5b9a\u4f4d\u7f6e\uff0c\u4ee5\u6b64\u8282\u7701\u5185\u5b58\u7a7a\u95f4\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/02_Android%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/","title":"02.Android\u5185\u5b58\u7ba1\u7406","text":"<p>Android \u662f\u57fa\u4e8e Linux \u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u6240\u4ee5 Android \u7684\u5185\u5b58\u7ba1\u7406\u4e0e Linux \u7684\u5185\u5b58\u7ba1\u7406\u662f\u7c7b\u4f3c\u7684\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/02_Android%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#_1","title":"\u5185\u5b58\u57fa\u672c\u5355\u4f4d","text":"<p>\u5b83\u7684\u5185\u5b58\u57fa\u672c\u5355\u4f4d\u662f\u4e00\u4e2a Page\uff0c\u5927\u5c0f\u4e3a 4KB\uff08\u4e0d\u4ee3\u8868\u6240\u6709\u6570\u636e\u662f\u6309\u7167 4KB \u8fdb\u884c\u5185\u5b58\u5bf9\u9f50\uff09\u3002\u56de\u6536\u548c\u5206\u914d\u4ee5 Page \u4e3a\u5355\u4f4d\u3002\u5185\u5b58\u7a7a\u95f4\u5206\u4e3a\u5185\u6838\u6001\u548c\u7528\u6237\u6001\uff0c\u5185\u6838\u6001\u7684\u5185\u5b58\u662f\u7528\u6237\u6001\u4e25\u683c\u7981\u6b62\u8bbf\u95ee\u7684\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/02_Android%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#low-memory-killer","title":"low memory killer","text":"<p>\u8be6\u7ec6\u4ecb\u7ecd\u53c2\u8003</p> <p>https://developer.android.com/games/optimize/vitals/lmk?hl=zh-cn</p> <p></p> <p>\u865a\u62df\u5185\u5b58</p> <p>lmk \u7684\u539f\u7406\u662f\u6839\u636e\u8fdb\u7a0b\u7684\u4f18\u5148\u7ea7\uff0c\u5728\u5185\u5b58\u4e0d\u8db3\u65f6\uff0c\u4f18\u5148\u6740\u6b7b\u4f18\u5148\u7ea7\u4f4e\u7684\u8fdb\u7a0b\u3002\u6240\u4ee5\u4e00\u822c\u5728\u524d\u53f0\u6e38\u620f\u8fdb\u7a0b\u5206\u914d\u8fc7\u591a\u5185\u5b58\u65f6\uff0c\u4f18\u5148\u6740\u6389\u4e86\u540e\u53f0\u8fdb\u7a0b\uff0c\u5982\u679c\u5185\u5b58\u5206\u914d\u8fd8\u5728\u7ee7\u7eed\uff0c\u5219\u80af\u5462\u4e2a\u4f1a\u5f71\u54cd\u5230\u58f0\u97f3\u3001\u684c\u9762\uff0c\u751a\u81f3\u6740\u6389\u5f53\u524d\u524d\u53f0\u8fdb\u7a0b\uff0c\u5982\u679c\u524d\u53f0\u8fdb\u7a0b\u88ab\u6740\u6389\u65f6\uff0c\u5185\u5b58\u5206\u914d\u6ca1\u6709\u6765\u5f97\u53ca\u91ca\u653e\uff0c\u5219\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u5d29\u6e83\uff0c\u4e5f\u5c31\u662f\u6700\u9ad8\u5230 System \u8fd9\u4e00\u7ea7\u522b\u3002Native \u5185\u6838\u5c42\u4e0d\u4f1a\u53d7\u5f71\u54cd\u3002</p> <p>lmk \u901a\u5e38\u53d7\u5230\u5ffd\u7565\uff0c\u6bd4\u5982\u540e\u53f0\u88ab\u6740\u6389\u7684\u5176\u4ed6\u8fdb\u7a0b\uff0c\u6216\u8005\u97f3\u4e50\u505c\u4e86\uff0c\u4f46\u662f\u6e38\u620f\u8fd8\u5728\u8fd0\u884c\u3002\u4f46\u6211\u4eec\u4ecd\u7136\u9700\u8981\u5173\u6ce8\uff0c\u8fd9\u53d8\u5411\u5730\u66b4\u9732\u4e86\u6e38\u620f\u5185\u5b58\u7684\u8fc7\u591a\u5206\u914d\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/02_Android%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/#_2","title":"\u5185\u5b58\u6307\u6807","text":"<ul> <li>RSS\uff1aResident Set Size\uff0c\u5e38\u9a7b\u5185\u5b58\u3002</li> <li>PSS\uff1aProportional Set Size\uff0c\u6bd4\u4f8b\u5185\u5b58\u3002</li> <li>USS\uff1aUnique Set Size\uff0c\u552f\u4e00\u5185\u5b58\u3002</li> </ul> <p>RSS \u662f\u4f60\u7684\u5e94\u7528\u5360\u7528\u7684\u5185\u5b58 + \u7531\u4e8e\u8c03\u7528\u516c\u5171\u5e93\uff0c\u516c\u5171\u5e93\u6240\u5206\u914d\u51fa\u6765\u7684\u5185\u5b58\u3002PSS \u548c RSS \u7c7b\u4f3c\uff0c\u4f46\u662f\u4f1a\u6839\u636e\u516c\u5171\u5e93\u7684\u5171\u4eab\u7a0b\u5ea6\u8fdb\u884c\u6bd4\u4f8b\u5206\u914d\uff0c\u6bd4\u5982\u516c\u5171\u5e93\u88ab 10 \u4e2a\u8fdb\u7a0b\u4f7f\u7528\uff0c\u5b83\u88ab\u5206\u914d\u4e86 10MB \u7684\u5185\u5b58\uff0c\u90a3\u4e48\u6bcf\u4e2a\u8fdb\u7a0b\u7684 PSS \u5c31\u662f 1MB\u3002USS \u662f\u4f60\u7684\u5e94\u7528\u5360\u7528\u7684\u5185\u5b58\uff0c\u4e0d\u5305\u62ec\u516c\u5171\u5e93\u7684\u5185\u5b58\u3002</p> <p>\u6240\u4ee5\u4e00\u822c\u5982\u679c\u6211\u4eec RSS \u9ad8\u4f46 USS \u4f4e\uff0c\u8bf4\u660e\u6211\u4eec\u8c03\u7528\u4e86\u67d0\u4e2a\u590d\u6742\u5ea6\u8f83\u9ad8\u7684\u516c\u5171\u5e93\u3002\u8fd9\u4e9b\u5185\u5b58\u6307\u6807\u53ef\u4ee5\u901a\u8fc7 Procrank \u5de5\u5177\uff08\u4e00\u6b3e\u7528\u4e8e Android \u5e73\u53f0\u7684\u5185\u5b58\u5206\u6790\u5de5\u5177\uff09\u67e5\u770b\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/03_Unity%E5%86%85%E5%AD%98%E7%AE%80%E4%BB%8B/","title":"03.Unity\u5185\u5b58\u7b80\u4ecb","text":""},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/03_Unity%E5%86%85%E5%AD%98%E7%AE%80%E4%BB%8B/#unity","title":"Unity\u5f15\u64ce\u6982\u8ff0","text":"<p>Unity \u662f\u4e00\u4e2a C++ \u5f15\u64ce\uff0c\u5e76\u4e0d\u662f C# \u5f15\u64ce\uff0c\u5e95\u5c42\u4ee3\u7801\u5168\u90e8\u662f\u7531 C++ \u5199\u7684\uff0c\u9664\u4e86\u4e00\u4e9b Editor \u91cc\u9762\u7684 Services \u53ef\u80fd\u4f1a\u7528\u5230 NodeJS \u8fd9\u4e9b\u7f51\u7edc\u7684\u8bed\u8a00\uff0cRuntime \u91cc\u9762\u7528\u5230\u7684\u6bcf\u884c Unity \u5e95\u5c42\u4ee3\u7801\u90fd\u662f C++ \u7684\u3002</p> <p>Unity \u5b9e\u9645\u4e0a\u5206\u4e3a\u4e09\u5c42\uff1a</p> <ul> <li>\u6700\u5e95\u5c42\u662f Runtime\uff0c\u5168\u662f Native C++ \u4ee3\u7801\u3002</li> <li>\u6700\u4e0a\u5c42\u662f C#\uff0cUnity \u672c\u8eab\u4e5f\u6709\u4e00\u4e9b C#\uff0c\u4f8b\u5982 Unity \u7684 Editor \u662f\u7528 C# \u5199\u7684\uff0c\u8fd8\u6709\u4e9b Package \u4e5f\u662f C# \u5199\u7684\u3002</li> <li>\u4e2d\u95f4\u8fd8\u6709\u4e00\u5c42\u53eb Binding\uff0c\u53ef\u4ee5\u770b\u89c1\u5f88\u591a\u7684 .bindings.cs \u6587\u4ef6\uff08\u57fa\u4e8e C# \u7684 binding \u8bed\u8a00\uff0c\u4e00\u5f00\u59cb\u662f Unity \u81ea\u5b9a\u4e49\u7684\u4e00\u79cd\u8bed\u8a00\uff09\uff0c\u8fd9\u4e9b\u6587\u4ef6\u7684\u4f5c\u7528\u5c31\u662f\u628a C++ \u548c C# \u8054\u7cfb\u5728\u4e00\u8d77\uff0c\u4e3a C# \u5c42\u63d0\u4f9b\u6240\u6709\u7684 API\u3002\u56e0\u6b64\u4f7f\u7528 Unity \u65f6\u770b\u89c1\u7684 C# API\uff0c\u90fd\u662f\u5728 Binding \u5c42\u4e2d\u81ea\u5b9a\u4e49\u7684\u3002\u8fd9\u4e9b\u6587\u4ef6\u5e95\u5c42\u8fd0\u884c\u7684\u65f6\u5019\u8fd8\u662f C++\uff0c\u53ea\u662f\u4e2a Wrapper\uff08\u5c01\u88c5\uff09\u3002</li> </ul> <p>\u6700\u65e9\u7528\u6237\u4ee3\u7801\u662f\u8fd0\u884c\u5728 C# \u4e0a\uff0c\u662f MonoRuntime\u3002\u73b0\u5728\u53ef\u4ee5\u901a\u8fc7 IL2CPP \u5c06\u5176\u8f6c\u6210 C++ \u4ee3\u7801\uff0c\u6240\u4ee5\u73b0\u5728\u51e0\u4e4e\u6ca1\u6709\u7eaf\u6b63\u7684 C# \u5728\u8fd0\u884c\u4e86\u3002</p> <p>Unity \u7684 VM\uff08\u865a\u62df\u673a\uff1aVirtual Machine\uff09\u4f9d\u65e7\u8fd8\u662f\u5b58\u5728\uff0c\u4e3b\u8981\u7528\u4e8e\u8de8\u5e73\u53f0\uff0c\u6709\u4e86\u4e00\u5c42 VM \u62bd\u8c61\u540e\uff0c\u8de8\u5e73\u53f0\u7684\u5de5\u4f5c\u4f1a\u5bb9\u6613\u5f88\u591a\uff0cIL2CPP \u672c\u8d28\u4e5f\u662f VM \u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/03_Unity%E5%86%85%E5%AD%98%E7%AE%80%E4%BB%8B/#unity_1","title":"Unity \u7684\u5185\u5b58","text":"<p>Unity\u7684\u5185\u5b58\uff0c\u53ef\u4ee5\u4ece\u4ee5\u4e0b\u51e0\u4e2a\u5c42\u9762\u53bb\u7406\u89e3</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/03_Unity%E5%86%85%E5%AD%98%E7%AE%80%E4%BB%8B/#1","title":"1. \u6309\u7167\u5206\u914d\u65b9\u5f0f\u5212\u5206","text":"<p>\u6309\u7167\u5206\u914d\u65b9\u5f0f\u5206\u4e3a\uff1aNative Memory\uff08\u539f\u751f\u5185\u5b58\uff09\u548c Managed Memory\uff08\u6258\u7ba1\u5185\u5b58\uff09\u3002Native Memory \u5e76\u4e0d\u4f1a\u88ab\u7cfb\u7edf\u81ea\u52a8\u7ba1\u7406\uff0c\u9700\u8981\u624b\u52a8\u53bb\u91ca\u653e\u3002\u800c Managed Memory \u7684\u5185\u5b58\u7ba1\u7406\u662f\u81ea\u52a8\u7684\uff0c\u4f1a\u901a\u8fc7 GC \u6765\u91ca\u653e\u3002</p> <p>\u6b64\u5916 Unity \u5728 Editor \u548c Runtime \u4e0b\uff0c\u5185\u5b58\u7684\u7ba1\u7406\u65b9\u5f0f\u662f\u4e0d\u540c\u7684\uff0c\u9664\u4e86\u5185\u5b58\u5927\u5c0f\u4e0d\u540c\uff0c\u5185\u5b58\u7684\u5206\u914d\u65f6\u673a\u4ee5\u53ca\u5206\u914d\u65b9\u5f0f\u4e5f\u4e0d\u540c\u3002\u4f8b\u5982 Asset\uff0c\u5728Runtime \u65f6\uff0c\u53ea\u6709\u7528\u6237\u4ee3\u7801 Load \u7684\u65f6\u5019\u624d\u4f1a\u8fdb\u5185\u5b58\u3002\u800c Editor \u6a21\u5f0f\u4e0b\uff0c\u4e3a\u4e86\u7f16\u8f91\u7684\u4fbf\u5229\u6027\uff0c\u53ea\u8981\u6253\u5f00 Unity \u5c31\u4f1a\u8fdb\u5185\u5b58\uff08\u6240\u4ee5\u6253\u5f00\u5f88\u6162\uff09\u3002\u540e\u7eed\u6709\u63a8\u51fa Asset Pipeline 2.0\uff0c\u4e00\u5f00\u59cb\u5bfc\u5165\u4e00\u4e9b\u57fa\u672c\u7684 Asset\uff0c\u5269\u4e0b\u7684 Asset \u53ea\u6709\u4f7f\u7528\u7684\u65f6\u5019\u624d\u4f1a\u5bfc\u5165\uff0c\u8fd9\u6837\u5373\u4f7f\u662f\u5f88\u5927\u7684\u5de5\u7a0b\uff0c\u4e5f\u53ef\u4ee5\u5c3d\u91cf\u51cf\u5c11\u4f7f\u7528\u8005\u5bf9\u4e0d\u5173\u5fc3\u7684 Asset \u4ed8\u51fa\u5bfc\u5165\u65f6\u95f4\u7684\u4ee3\u4ef7\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/03_Unity%E5%86%85%E5%AD%98%E7%AE%80%E4%BB%8B/#2","title":"2. \u6309\u7167\u5185\u5b58\u7ba1\u7406\u65b9\u5f0f\u5212\u5206","text":"<p>\u6309\u7167\u7ba1\u7406\u65b9\u5f0f\u5206\u4e3a\uff1a\u5f15\u64ce\u7ba1\u7406\u5185\u5b58\u548c\u7528\u6237\u7ba1\u7406\u5185\u5b58\u3002\u5f15\u64ce\u7ba1\u7406\u5185\u5b58\u5373\u5f15\u64ce\u8fd0\u884c\u7684\u65f6\u5019\u5206\u914d\u7684\u4e00\u4e9b\u5185\u5b58\uff0c\u4f8b\u5982\u5f88\u591a\u7684 Manager \u548c Singleton \uff0c\u8fd9\u4e9b\u5185\u5b58\u5f00\u53d1\u8005\u4e00\u822c\u662f\u78b0\u89e6\u4e0d\u5230\u7684\u3002\u7528\u6237\u7ba1\u7406\u5185\u5b58\u4e5f\u5c31\u662f\u5f00\u53d1\u8005\u5f00\u53d1\u65f6\u4f7f\u7528\u5230\u7684\u5185\u5b58\uff0c\u662f\u6211\u4eec\u5e73\u65f6\u63a5\u89e6\u6700\u591a\u7684\u90e8\u5206\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/03_Unity%E5%86%85%E5%AD%98%E7%AE%80%E4%BB%8B/#3-unity","title":"3. Unity \u76d1\u6d4b\u4e0d\u5230\u7684\u5185\u5b58","text":"<ul> <li>\u7528\u6237\u5206\u914d\u7684 Native \u5185\u5b58\u3002\u6bd4\u5982\u81ea\u5df1\u5199\u7684 Native \u63d2\u4ef6\uff08C++\u63d2\u4ef6\uff09\u5bfc\u5165 Unity \uff0c\u8fd9\u90e8\u5206 Unity \u662f\u68c0\u6d4b\u4e0d\u5230\u7684\uff0c\u56e0\u4e3a Unity \u6ca1\u6cd5\u5206\u6790\u5df2\u7f16\u8bd1\u7684 C++ \u662f\u5982\u4f55\u5206\u914d\u548c\u4f7f\u7528\u5185\u5b58\u7684</li> <li>Lua \uff0c\u5b83\u5b8c\u5168\u81ea\u5df1\u7ba1\u7406\u7684\uff0cUnity \u4e5f\u6ca1\u6cd5\u7edf\u8ba1\u5230\u5b83\u5185\u90e8\u7684\u60c5\u51b5</li> </ul>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/","title":"04.Unity Native Memory","text":""},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#native-memory","title":"Native Memory \u4ecb\u7ecd","text":""},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#1-allocatormemory-label","title":"1. Allocator\u4e0eMemory Label","text":"<p>Unity \u5728\u91cc\u9762\u91cd\u8f7d\u4e86 C++ \u7684\u6240\u6709\u5206\u914d\u5185\u5b58\u7684\u64cd\u4f5c\u7b26\uff0c\u4f8b\u5982 alloc\uff0cnew \u7b49\u3002\u6bcf\u4e2a\u64cd\u4f5c\u7b26\u5728\u88ab\u4f7f\u7528\u7684\u65f6\u5019\u8981\u6c42\u6709\u4e00\u4e2a\u989d\u5916\u7684\u53c2\u6570\u5c31\u662f Memory Label\uff0c\u5728 Memory Profiler \uff08Windows/Analysis/Memory Profiler\uff09\u4e2d\u67e5\u770b Memory Details \u91cc\u7684 Name \u5f88\u591a\u5c31\u662f Memory Label\u3002\u5b83\u6307\u7684\u5c31\u662f\u5f53\u524d\u7684\u8fd9\u4e00\u5757\u5185\u5b58\u5185\u5b58\u8981\u5206\u914d\u5230\u54ea\u4e2a\u7c7b\u578b\u6c60\u91cc\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#2-getruntimememory","title":"2. GetRuntimeMemory","text":"<p>Unity \u5728\u5e95\u5c42\u4f1a\u7528 Allocator\uff0c\u4f7f\u7528\u91cd\u8f7d\u8fc7\u7684\u5206\u914d\u7b26\u5206\u914d\u5185\u5b58\u7684\u65f6\u5019\uff0c\u4f1a\u6839\u636e Memory Label \u5206\u914d\u5230\u4e0d\u540c\u7684 Allocator\u6c60 \u91cc\u9762\u3002\u6bcf\u4e2a Allocator \u6c60\uff0c\u5355\u72ec\u505a\u81ea\u5df1\u7684\u8ddf\u8e2a\u3002\u5f53\u8981\u5728 Runtime \u53bb Get \u4e00\u4e2a Memory Label \u4e0b\u9762\u6c60\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4ece\u5bf9\u5e94\u7684 Allocator \u4e2d\u53d6\uff0c\u53ef\u4ee5\u4ece\u4e2d\u77e5\u9053\u6709\u4ec0\u4e48\u4e1c\u897f\uff0c\u6709\u591a\u5c11\u5146\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#3-newasroot","title":"3. NewAsRoot","text":"<p>\u524d\u9762\u63d0\u5230\u7684 Allocator \u7684\u751f\u6210\u662f\u4f7f\u7528 NewAsRoot\uff0c\u751f\u6210\u4e00\u4e2a\u6240\u8c13\u7684 Memory Island\uff0c\u5b83\u4e0b\u9762\u4f1a\u6709\u5f88\u591a\u7684\u5b50\u5185\u5b58\u3002\u4f8b\u5982\u4e00\u4e2a Shader\uff0c\u5f53\u52a0\u8f7d\u4e00\u4e2a shader \u8fdb\u5185\u5b58\u7684\u65f6\u5019\uff0c\u9996\u5148\u4f1a\u751f\u6210\u4e00\u4e2a shader \u7684 Root\uff0c\u4e5f\u5c31\u662f Memory Island\u3002\u7136\u540e Shader \u5e95\u4e0b\u7684\u6570\u636e\uff0c\u4f8b\u5982 Subshader\uff0cPass\uff0cParameters \u7b49\uff0c\u4f1a\u4f5c\u4e3a\u8be5 Root \u5e95\u4e0b\u7684\u6210\u5458\uff0c\u4f9d\u6b21\u7684\u5206\u914d\u3002\u6240\u4ee5\u6700\u540e\u7edf\u8ba1 Runtime \u7684\u5185\u5b58\u65f6\uff0c\u7edf\u8ba1\u8fd9\u4e9b Root \u5373\u53ef\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#4","title":"4. \u8fd4\u8fd8\u64cd\u4f5c\u7cfb\u7edf","text":"<p>\u56e0\u4e3a\u662f C++ \u7684\uff0c\u6240\u4ee5\u5f53 delete \u6216 free \u4e00\u4e2a\u5185\u5b58\u7684\u65f6\u5019\uff0c\u4f1a\u7acb\u523b\u8fd4\u56de\u7ed9\u7cfb\u7edf\u3002\u8fd9\u548c\u6258\u7ba1\u5185\u5b58\u4e0d\u4e00\u6837\uff0c\u6258\u7ba1\u5185\u5b58\u9700\u8981 GC \u540e\u624d\u8fd4\u56de\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#native-memory_1","title":"Native Memory \u6700\u4f73\u5b9e\u8df5","text":"<p>\u5728\u4f7f\u7528Unity\u7684\u65f6\u5019\uff0c\u5982\u679c\u67d0\u4e9b\u65b9\u9762\u4f7f\u7528\u4e0d\u5f53\uff0c\u4f1a\u9020\u6210 Native Memory \u7684\u589e\u957f\uff0c\u6240\u4ee5\u8fd9\u90e8\u5206\u4e5f\u662f\u53ef\u4ee5\u4f18\u5316\u8c03\u6574\u7684\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#1-scene","title":"1. Scene","text":"<p>\u9996\u5f53\u5176\u51b2\uff0c\u6700\u5e38\u89c1\u7684\u5bfc\u81f4 Native Memory \u589e\u957f\u7684\u539f\u56e0\uff0c\u5c31\u662fScene\u3002\u56e0\u4e3a Unity \u662f C++ \u5f15\u64ce\uff0c\u6240\u6709\u7684\u5b9e\u4f53\u6700\u7ec8\u90fd\u4f1a\u53cd\u6620\u5728 C++ \u4e0a\uff0c\u800c\u4e0d\u4f1a\u53cd\u6620\u5728\u6258\u7ba1\u5806\u4e0a\u3002\u6240\u4ee5\u5f53 Scene \u6784\u5efa\u4e00\u4e2a GameObject \u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4e0a\u5728 Unity \u7684\u5e95\u5c42\u4f1a\u6784\u5efa\u4e00\u4e2a\u6216\u591a\u4e2a Object \u6765\u5b58\u50a8\u8fd9\u4e00\u4e2a GameObject \u7684\u4fe1\u606f\uff08Component\u4fe1\u606f\u7b49\uff09\u3002\u6240\u4ee5\u5f53\u4e00\u4e2a Scene \u91cc\u9762\u6709\u8fc7\u591a\u7684 GameObject \u5b58\u5728\u7684\u65f6\u5019\uff0cNative Memory \u5c31\u4f1a\u663e\u8457\u7684\u4e0a\u5347\uff0c\u751a\u81f3\u53ef\u80fd\u5bfc\u81f4\u5185\u5b58\u6ea2\u51fa\u3002</p> <p>\u6ce8\u610f</p> <p>\u6240\u4ee5\u8fd9\u91cc\u6709\u4e00\u4e2a\u7ecf\u9a8c\u4e4b\u8c08\uff1a\u5f53\u53d1\u73b0 Native Memory \u5927\u91cf\u4e0a\u5347\u65f6\uff0c\u9996\u5148\u53bb\u7740\u91cd\u68c0\u67e5\u4f60\u7684 Scene</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#2-audio","title":"2. Audio","text":""},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#21-dsp-buffer","title":"2.1 DSP buffer","text":"<p>\u6307\u4e00\u4e2a\u58f0\u97f3\u7684\u7f13\u51b2\uff0c\u5f53\u4e00\u4e2a\u58f0\u97f3\u8981\u64ad\u653e\u7684\u65f6\u5019\uff0c\u9700\u8981\u5411 CPU \u53bb\u53d1\u9001\u6307\u4ee4\u3002\u5982\u679c\u58f0\u97f3\u7684\u6570\u636e\u91cf\u975e\u5e38\u7684\u5c0f\uff0c\u4f1a\u9020\u6210\u9891\u7e41\u7684\u5411 CPU \u53d1\u6307\u4ee4\uff0c\u9020\u6210 IO \u538b\u529b\u3002\u5728 Unity \u7684 FMOD \u58f0\u97f3\u5f15\u64ce\u91cc\u9762\uff0c\u4e00\u822c\u4f1a\u6709\u4e00\u4e2a Buffer\uff0c\u5f53 Buffer \u586b\u5145\u6ee1\u4e86\u624d\u4f1a\u53bb\u5411 CPU \u53d1\u9001\u4e00\u6b21\u64ad\u653e\u58f0\u97f3\u7684\u6307\u4ee4\u3002\u6240\u4ee5 DSP Buffer\u5927\u5c0f\u7684\u8bbe\u7f6e\u975e\u5e38\u8003\u7a76\uff0c\u4e00\u822c\u4f1a\u5bfc\u81f4\u4e24\u79cd\u95ee\u9898\uff1a</p> <ul> <li>\u8bbe\u7f6e\u7684\u503c\u8fc7\u5927\uff0c\u4f1a\u5bfc\u81f4\u58f0\u97f3\u7684\u5ef6\u8fdf\uff0c\u56e0\u4e3a\u586b\u5145\u6ee1\u9700\u8981\u5f88\u591a\u7684\u58f0\u97f3\u6570\u636e\uff0c\u5f53\u6211\u4eec\u58f0\u97f3\u6570\u636e\u4e0d\u5927\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u4ea7\u751f\u5ef6\u65f6\u3002</li> <li>\u8bbe\u7f6e\u7684\u503c\u8fc7\u5c0f\uff0c\u4f1a\u5bfc\u81f4 CPU \u8d1f\u62c5\u4e0a\u5347\uff0c\u56e0\u4e3a\u4f1a\u9891\u7e41\u7684\u53d1\u9001\u3002</li> </ul>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#22-audio-import-settings","title":"2.2 Audio Import Settings","text":"<ul> <li>Force To Mono\uff1a\u200b\u8fd9\u4e2a\u9009\u9879\u4f5c\u7528\u662f\u5f3a\u5236\u5355\u58f0\u9053\uff0c\u5f88\u591a\u58f0\u97f3\u4e3a\u4e86\u8ffd\u6c42\u8d28\u91cf\u4f1a\u8bbe\u7f6e\u6210\u53cc\u58f0\u9053\uff0c\u5bfc\u81f4\u58f0\u97f3\u5728\u5305\u4f53\u548c\u5185\u5b58\u4e2d\uff0c\u5360\u7528\u7684\u7a7a\u95f4\u52a0\u500d\uff0c\u4f46\u662f95%\u4ee5\u4e0a\u7684\u58f0\u97f3\uff0c\u4e24\u4e2a\u58f0\u9053\u662f\u5b8c\u5168\u4e00\u6837\u7684\u6570\u636e\u3002\u56e0\u6b64\u5bf9\u58f0\u97f3\u4e0d\u662f\u5f88\u654f\u611f\u7684\u9879\u76ee\u5efa\u8bae\u52fe\u9009\u6b64\u9879\uff0c\u6765\u964d\u4f4e\u5185\u5b58\u7684\u5360\u7528\u3002</li> <li>Compression Format\uff1a\u4e0d\u540c\u7684\u5e73\u53f0\u6709\u4e0d\u540c\u7684\u58f0\u97f3\u683c\u5f0f\u7684\u652f\u6301\uff0ciOS \u5bf9 MP3 \u6709\u786c\u4ef6\u652f\u6301\uff0cAndroid \u6682\u65f6\u6ca1\u6709\u786c\u4ef6\u652f\u6301\u3002\u5efa\u8bae iOS \u4f7f\u7528 ADPCM \u548c MP3 \u683c\u5f0f\uff0cAndroid \u4f7f\u7528 Vorbis \u683c\u5f0f\u3002</li> <li>Load Type\uff1a\u51b3\u5b9a\u58f0\u97f3\u5728\u5185\u5b58\u4e2d\u7684\u5b58\u5728\u5f62\u6001\uff1a<ul> <li>Decompress On Load\uff1a\u5f53audio clip\u88ab\u52a0\u8f7d\u65f6\uff0c\u89e3\u538b\u58f0\u97f3\u6570\u636e\uff0c\u9002\u7528\u4e8e\u5c0f\u578b\u97f3\u9891\u6587\u4ef6\uff08&lt; 200kb\uff09</li> <li>Compressed In Memory\uff1a\u58f0\u97f3\u6570\u636e\u5c06\u4ee5\u538b\u7f29\u7684\u5f62\u5f0f\u4fdd\u5b58\u5728\u5185\u5b58\u5f53\u4e2d\uff0c\u9002\u7528\u4e8e\u4e2d\u578b\u97f3\u9891\u6587\u4ef6\uff08&gt;= 200kb\uff09</li> <li>Streaming\uff1a\u4ece\u78c1\u76d8\u8bfb\u53d6\u58f0\u97f3\u6570\u636e\uff0c\u9002\u7528\u4e8e\u5927\u578b\u97f3\u9891\u6587\u4ef6\uff0c\u4f8b\u5982\u80cc\u666f\u97f3</li> </ul> </li> </ul> <p>\u6ce8\u610f</p> <ul> <li>Decompress On Load\uff0c\u8981\u6c42\u6587\u4ef6\u5fc5\u987b\u5c0f\u4e8e 200kb\uff0c\u56e0\u4e3a\u5185\u90e8\u5185\u5b58\u7ba1\u7406\u7684\u95ee\u9898\uff0c\u5982\u679c\u662f\u5927\u4e8e 200kb \u7684\u6587\u4ef6\uff0c\u90a3\u4e48\u4e5f\u8fd8\u662f\u53ea\u4f1a\u88ab\u5206\u914d\u5230\u4e0d\u8db3 200kb \u7684\u5185\u5b58\u3002</li> <li>Bitrate\uff1a\u53ef\u4ee5\u5bf9\u97f3\u9891\u6587\u4ef6\u672c\u8eab\u8fdb\u884c\u538b\u7f29\uff0c\u964d\u4f4e\u6587\u4ef6\u7684\u6bd4\u7279\u7387\uff08bitrate\uff09\uff0c\u524d\u63d0\u97f3\u9891\u54c1\u8d28\u4e0d\u4f1a\u88ab\u7834\u574f\u592a\u4e25\u91cd\u3002</li> </ul>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#3-code-size","title":"3. Code Size","text":"<p>\u4ee3\u7801\u6587\u4ef6\u4e5f\u662f\u5360\u5185\u5b58\u7684\uff0c\u9700\u8981\u52a0\u8f7d\u8fdb\u5185\u5b58\u6267\u884c\u3002\u4e00\u4e2a\u5178\u578b\u7684\u4f8b\u5b50\u662f\u6a21\u677f\u6cdb\u578b\u7684\u6ee5\u7528\uff0c\u4f8b\u5982\u4e00\u4e2a\u6a21\u677f\u51fd\u6570\u6709\u56db\u4e94\u4e2a\u4e0d\u540c\u7684\u6cdb\u578b\u53c2\u6570\uff0c\u7c7b\u578b\u4e5f\u4e0d\u5c3d\u76f8\u540c\uff08float\uff0cint\uff0cdouble\u7b49\uff09\uff0c\u6700\u540e\u5c55\u5f00\u5f97\u5230\u7684\u4e00\u4e2a cpp \u6587\u4ef6\u53ef\u80fd\u4f1a\u5f88\u5927\u3002\u56e0\u4e3a\u5b9e\u9645\u4e0a C++ \u7f16\u8bd1\u7684\u65f6\u5019\u7528\u7684\u6240\u6709\u7684 Class\uff0c\u6240\u6709\u7684 Template \u6700\u7ec8\u90fd\u4f1a\u88ab\u5c55\u5f00\u6210\u9759\u6001\u7c7b\u578b\u3002\u56e0\u6b64\u5f53\u6a21\u677f\u51fd\u6570\u6709\u5f88\u591a\u6392\u5217\u7ec4\u5408\u65f6\uff0c\u6700\u540e\u7f16\u8bd1\u4f1a\u5f97\u5230\u6240\u6709\u7684\u6392\u5217\u7ec4\u5408\u4ee3\u7801\uff0c\u5bfc\u81f4\u6587\u4ef6\u5f88\u5927\u3002</p> <p>\u8fd9\u4e0d\u5149\u4f1a\u5f71\u54cd\u5230\u6700\u7ec8\u4ee3\u7801\u6587\u4ef6\u7684\u5927\u5c0f\uff0c\u5bfc\u81f4 Native Memory \u95f4\u63a5\u589e\u957f\uff0c\u540c\u65f6\u4e5f\u4f1a\u5f71\u54cdIL2CPP\u7f16\u8bd1\u901f\u5ea6\uff0c\u63a5\u89e6\u8fc7 C++ \u7f16\u8bd1\u5e94\u8be5\u77e5\u9053\uff0c\u5355\u4e00\u4e00\u4e2a cpp \u6587\u4ef6\u7f16\u8bd1\u7684\u8bdd\u662f\u6ca1\u529e\u6cd5\u5e76\u884c\u7684\uff0c\u53ea\u80fd\u5355\u6838\u5904\u7406\uff0c\u6240\u4ee5\u4e5f\u95f4\u63a5\u5730\u5bfc\u81f4\u6253\u5305\u6162\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#4-assetbundle","title":"4. AssetBundle","text":""},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#41-typetree","title":"4.1 TypeTree","text":"<p>\u8fd9\u4e2a\u4e1c\u897f\u5b58\u5728\u662f\u4e3a\u4e86\u505a\u8fd9\u4ef6\u4e8b\uff1aUnity\u524d\u540e\u6709\u5f88\u591a\u7684\u7248\u672c\uff0c\u4e0d\u540c\u7684\u7248\u672c\u4e2d\u5f88\u591a\u7684\u7c7b\u578b\u53ef\u80fd\u4f1a\u6709\u6570\u636e\u7ed3\u6784\u7684\u6539\u53d8\uff0c\u4e3a\u4e86\u505a\u6570\u636e\u7ed3\u6784\u7684\u517c\u5bb9\uff0c\u4f1a\u5728\u751f\u6210\u6570\u636e\u7c7b\u578b\u5e8f\u5217\u5316\u7684\u65f6\u5019\uff0c\u987a\u4fbf\u751f\u6210\u4e00\u4e2a\u53eb TypeTree \u7684\u4e1c\u897f\u3002\u5c31\u662f\u5f53\u524d\u8fd9\u4e2a\u7248\u672c\u7528\u5230\u4e86\u54ea\u4e9b\u53d8\u91cf\uff0c\u5b83\u4eec\u5bf9\u5e94\u7684\u6570\u636e\u7c7b\u578b\u662f\u4ec0\u4e48\uff0c\u5f53\u8fdb\u884c\u53cd\u5e8f\u5217\u5316\u7684\u65f6\u5019\uff0c\u6839\u636e TypeTree \u53bb\u505a\u53cd\u5e8f\u5217\u5316\u3002\u5982\u679c\u4e0a\u4e00\u4e2a\u7248\u672c\u7684\u7c7b\u578b\u5728\u8fd9\u4e2a\u7248\u672c\u6ca1\u6709\uff0c\u90a3 TypeTree \u91cc\u5c31\u6ca1\u6709\u5b83\uff0c\u6240\u4ee5\u4e0d\u4f1a\u53bb\u78b0\u5230\u5b83\u3002\u5982\u679c\u6709\u65b0\u7684 TypeTree\uff0c\u4f46\u662f\u5728\u5f53\u524d\u7248\u672c\u4e0d\u5b58\u5728\u7684\u8bdd\uff0c\u90a3\u8981\u7528\u5b83\u7684\u9ed8\u8ba4\u503c\u6765\u5e8f\u5217\u5316\u3002\u4ece\u800c\u4fdd\u8bc1\u4e86\u5728\u4e0d\u540c\u7248\u672c\u4e4b\u95f4\u4e0d\u4f1a\u5e8f\u5217\u5316\u51fa\u9519\u3002</p> <p>\u5728\u6784\u5efa AssetBundle \u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u4ee3\u7801\u5173\u6389 TypeTree \u7684\u751f\u6210\uff1a</p> C#<pre><code>BuildAssetBundleOptions.DisableWriteTypeTree\n</code></pre> <p>\u4ec0\u4e48\u65f6\u5019\u53ef\u4ee5\u5173\u5462\uff1f\u5f53\u4f60\u53ef\u4ee5\u4fdd\u8bc1\u6784\u5efa AssetBundle \u7684 Unity\u7248\u672c\u548c\u4f7f\u7528\u5b83\u7684 Unity \u7684\u7248\u672c\u662f\u4e00\u6a21\u4e00\u6837\u7684\u65f6\u5019\uff08\u5bf9\u517c\u5bb9\u6027\u4e0d\u4f1a\u6709\u5f71\u54cd\uff09\uff0c\u5c31\u53ef\u4ee5\u5173\u95ed\u3002\u8fd9\u6837\u6709\u4e09\u4e2a\u597d\u5904\uff1a\u4e00\u3001\u53ef\u4ee5\u51cf\u5c11\u5185\u5b58\uff1b\u4e8c\u3001AssetBundle \u5305\u5927\u5c0f\u4f1a\u51cf\u5c11\uff1b\u4e09\u3001build \u548c Runtime \u4f1a\u53d8\u5feb\uff0c\u56e0\u4e3a\u4e0d\u4f1a\u53bb\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316 TypeTree\uff08\u5982\u679c\u5f00\u4e86 TypeTree\uff0c\u5e8f\u5217\u5316\u4f1a\u505a\u4e24\u6b65\uff0c\u9996\u5148\u53bb\u5e8f\u5217\u5316 TypeTree\uff0c\u7136\u540e\u518d\u53bb\u5e8f\u5217\u5316\u5b9e\u9645\u7684\u4e1c\u897f\uff0c\u53cd\u5e8f\u5217\u5316\u4e5f\u4e00\u6837\uff09</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#42-lz4-lzma","title":"4.2 \u538b\u7f29\u65b9\u5f0f\uff08Lz4 \u548c Lzma\uff09","text":"<p>Unity \u76ee\u524d\u4e3b\u63a8 Lz4\uff08\u4e5f\u5c31\u662fChunkBased\uff0cBuildAssetBundleOptions.ChunkBasedCompression\uff09\uff0cLz4 \u975e\u5e38\u5feb\uff0c\u5927\u6982\u662f Lzma \u7684\u5341\u500d\u4ee5\u4e0a\u7684\u901f\u5ea6\uff0c\u4f46\u5e73\u5747\u538b\u7f29\u6bd4\u4f8b\u6bd4 Lzma \u5dee 30% \u5de6\u53f3\uff0c\u5373\u5305\u4f53\u66f4\u5927\u3002\u4f46 Lzma \u57fa\u672c\u53ef\u4ee5\u4e0d\u7528\u4e86\uff0c\u56e0\u4e3a Lzma \u89e3\u538b\u548c\u8bfb\u53d6\u901f\u5ea6\u90fd\u975e\u5e38\u6162\uff0c\u5e76\u4e14\u5185\u5b58\u5360\u6bd4\u9ad8\uff0c\u56e0\u4e3a\u5b83\u7684\u8bfb\u53d6\u4e0d\u662f\u57fa\u4e8e ChunkBased\uff0c\u800c\u662f Stream\uff0c\u4e5f\u5c31\u662f\u4e00\u6b21\u5168\u89e3\u538b\u51fa\u6765\u3002ChunkBased \u53ef\u4ee5\u9010\u5757\u89e3\u538b\uff0c\u6bcf\u6b21\u89e3\u538b\u53ef\u4ee5\u91cd\u7528\u4e4b\u524d\u7684\u5185\u5b58\uff0c\u51cf\u5c11\u5185\u5b58\u7684\u5cf0\u503c\u3002</p> <p>Lz4\u5f00\u6e90\u4ed3\u5e93</p> <p>Lz4\u76ee\u524d\u662f\u5f00\u6e90\u7684\uff0c\u53ef\u4ee5\u4e86\u89e3\u4e0b\u5b83\u7684\u539f\u7406\uff1ahttps://github.com/lz4/lz4</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#43","title":"4.3 \u5927\u5c0f\u548c\u6570\u91cf","text":"<p>AssetBundle \u5206\u4e24\u90e8\u5206\uff0c\u4e00\u90e8\u5206\u662f\u5934\uff08\u7528\u4e8e\u7d22\u5f15\uff09\uff0c\u4e00\u90e8\u5206\u662f\u5b9e\u9645\u7684\u6253\u5305\u7684\u6570\u636e\u90e8\u5206\u3002\u5982\u679c\u6bcf\u4e2a Asset \u90fd\u5355\u72ec\u6253\u6210\u4e00\u4e2a AssetBundle\uff0c\u90a3\u4e48\u53ef\u80fd\u6240\u6709\u95ee\u9898\u52a0\u8d77\u6765\u5934\u7684\u90e8\u5206\u6bd4\u6570\u636e\u8fd8\u5927\u3002\u6240\u4ee5\u8fd9\u4e2a\u5927\u5c0f\u4e0d\u9002\u5408\u592a\u5927\u4e5f\u4e0d\u80fd\u592a\u5c0f\uff0c\u5b98\u65b9\u5efa\u8bae\u4e00\u4e2aAssetBundle\u5728 1-2M\uff0c\u4f46\u662f\u73b0\u5728\u8fdb\u5165 5g \u65f6\u4ee3\u7684\u8bdd\uff0c\u53ef\u4ee5\u9002\u5f53\u52a0\u5927\uff0c\u56e0\u4e3a\u7f51\u7edc\u5e26\u5bbd\u66f4\u5927\u4e86\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#5-resources","title":"5. Resources","text":"<p>\u5982\u679c\u4f7f\u7528 Resources \u6a21\u5f0f\u6253\u5305\uff0cResources \u6587\u4ef6\u5939\u91cc\u7684\u5185\u5bb9\u88ab\u6253\u8fdb\u5305\u7684\u65f6\u5019\u4f1a\u505a\u4e00\u4e2a\u7ea2\u9ed1\u6811\uff08R-B Tree\uff09\u7528\u505a\u7d22\u5f15\uff0c\u5373\u68c0\u7d22\u8d44\u6e90\u5230\u5e95\u5728\u4ec0\u4e48\u4f4d\u7f6e\u3002\u6240\u4ee5Resource\u8d8a\u5927\uff0c\u7ea2\u9ed1\u6811\u8d8a\u5927\uff0c\u5b83\u4e0d\u53ef\u5378\u8f7d\uff0c\u5e76\u5728\u521a\u521a\u52a0\u8f7d\u6e38\u620f\u7684\u65f6\u5019\u5c31\u4f1a\u88ab\u4e00\u76f4\u52a0\u5728\u5185\u5b58\u91cc\uff0c\u6781\u5927\u7684\u62d6\u6162\u6e38\u620f\u7684\u542f\u52a8\u65f6\u95f4\uff0c\u56e0\u4e3a\u7ea2\u9ed1\u6811\u6ca1\u6709\u5206\u6790\u548c\u52a0\u8f7d\u5b8c\uff0c\u6e38\u620f\u662f\u4e0d\u4f1a\u542f\u52a8\u7684\uff0c\u5e76\u9020\u6210\u6301\u7eed\u7684\u5185\u5b58\u538b\u529b\u3002\u6240\u4ee5\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528Resource\uff0c\u4f7f\u7528AssetBundle\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#6-texture","title":"6. Texture","text":"<ul> <li>Upload Buffer\uff1a\u548c\u58f0\u97f3\u7684Buffer\u7c7b\u4f3c\uff0c\u586b\u6ee1\u540e\u5411 GPU push \u4e00\u6b21</li> <li>Read/Write\uff1a\u6ca1\u5fc5\u8981\u7684\u8bdd\u5c31\u5173\u95ed\uff0c\u6b63\u5e38\u60c5\u51b5\uff0cTexture \u8bfb\u8fdb\u5185\u5b58\u89e3\u6790\u5b8c\u4e86\u6401\u5230 Upload Buffer \u91cc\u4e4b\u540e\uff0c\u5185\u5b58\u91cc\u90a3\u90e8\u5206\u5c31\u4f1a delete \u6389\u3002\u9664\u975e\u5f00\u4e86Read/Write\uff0c\u90a3\u5c31\u4e0d\u4f1a delete \u4e86\uff0c\u4f1a\u5728\u663e\u5b58\u548c\u5185\u5b58\u91cc\u5404\u4e00\u4efd\u3002\u524d\u9762\u8bf4\u8fc7\u624b\u673a\u5185\u5b58\u663e\u5b58\u901a\u7528\u7684\uff0c\u6240\u4ee5\u5185\u5b58\u91cc\u4f1a\u6709\u4e24\u4efd\u3002</li> <li>\u200bMip Maps\uff1a\u4f8b\u5982 UI \u5143\u7d20\u8fd9\u7c7b\u76f8\u5bf9\u4e8e\u76f8\u673aZ\u8f74\u7684\u503c\u4e0d\u4f1a\u6709\u4efb\u4f55\u53d8\u5316\u7684\u7eb9\u7406\uff0c\u5173\u95ed\u8be5\u9009\u9879\u3002</li> <li>Alpha Source\uff1a\u5bf9\u4e8e\u4e0d\u900f\u660e\u7eb9\u7406\uff0c\u5173\u95ed\u5176alpha\u901a\u9053\u3002 \u200b\u200b- Max Size\uff1a\u6839\u636e\u5e73\u53f0\u4e0d\u540c\uff0c\u7eb9\u7406\u7684Max Size\u8bbe\u6210\u8be5\u5e73\u53f0\u6700\u5c0f\u503c\u3002</li> <li>POT\uff1a\u7eb9\u7406\u7684\u5927\u5c0f\u5c3d\u91cf\u4e3a2\u7684\u5e42\u6b21\u65b9\uff08POT\uff09\uff0c\u56e0\u4e3a\u6709\u4e9b\u538b\u7f29\u683c\u5f0f\u53ef\u80fd\u4e0d\u652f\u6301\u975e2\u7684\u5e42\u6b21\u65b9\u7684\u3002</li> <li>\u538b\u7f29\u683c\u5f0f\uff1a<ul> <li>Android<ul> <li>\u652f\u6301 OpenGL ES 3.0 \u7684\u4f7f\u7528 ETC2\uff0cRGB \u538b\u7f29\u4e3a RGB Compressed ETC2 4bits\uff0cRGBA \u538b\u7f29\u4e3a RGBA Compressed ETC2 8bits</li> <li>\u9700\u8981\u517c\u5bb9 OpenGL ES 2.0 \u7684\u4f7f\u7528 ETC\uff0cRGB \u538b\u7f29\u4e3a RGB Compressed ETC 4bits\uff0cRGBA \u538b\u7f29\u4e3a RGBA 16bits\u3002\uff08\u538b\u7f29\u5927\u5c0f\u4e0d\u80fd\u63a5\u53d7\u7684\u60c5\u51b5\u4e0b\uff0c\u538b\u7f29\u4e3a 2 \u5f20 RGB Compressed ETC 4bits\uff09</li> <li>\u76ee\u524d\u4e3b\u6d41\u6b63\u5728\u4ece ETC2 \u5411 ASTC \u8f6c\u53d8\uff0c\u540e\u8005\u7684\u538b\u7f29\u8d28\u91cf\u548c\u5927\u5c0f\u4e0a\u90fd\u6709\u4f18\u52bf\u3002\u5b83\u652f\u6301 OpenGL ES 3.1 \u548c\u90e8\u5206 OpenGL ES 3.0 \u7684\u8bbe\u5907\u3002\u76ee\u524d\u5e02\u9762\u4e0a\u7edd\u5927\u591a\u6570\u5b89\u5353\u8bbe\u5907\u90fd\u652f\u6301\uff0c\u5df2\u7ecf\u53ef\u4ee5\u666e\u53ca\u4f7f\u7528</li> </ul> </li> <li>iOS<ul> <li>\u652f\u6301 OpenGL ES 3.0 \u7684\u4f7f\u7528ASTC\uff0cRGB \u538b\u7f29\u4e3aRGB CompressedASTC 6x6 block\uff0cRGBA \u538b\u7f29\u4e3a RGBA Compressed ASTC 4x4 block\u3002</li> <li>\u5bf9\u4e8e\u6cd5\u7ebf\u8d34\u56fe\u7684\u538b\u7f29\u7cbe\u5ea6\u8f83\u9ad8\u53ef\u4ee5\u9009\u62e9 RGB CompressedASTC 5x5 block\u3002</li> <li>\u9700\u8981\u517c\u5bb9OpenGLES 2.0 \u7684\u4f7f\u7528 PVRTC\uff0cRGB \u538b\u7f29\u4e3aPVRTC 4bits\uff0cRGBA\u538b\u7f29\u4e3a RGBA 16bits\u3002\uff08\u538b\u7f29\u5927\u5c0f\u4e0d\u80fd\u63a5\u53d7\u7684\u60c5\u51b5\u4e0b\uff0c\u538b\u7f29\u4e3a 2 \u5f20 RGB Compressed PVRTC 4bits\uff09</li> <li>\u622a\u6b62\u76ee\u524d ASTC \u5408\u5e76\u4e86 RGB \u548c RGBA \u683c\u5f0f\uff0c\u538b\u7f29\u683c\u5f0f\u7684\u9009\u62e9\u4e0a\u9762\u66f4\u52a0\u65b9\u4fbf\u4e86</li> </ul> </li> </ul> </li> </ul>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#7-mesh","title":"7. Mesh","text":"<ul> <li>Read/Write\uff1a\u540cTexture\uff0c\u82e5\u5f00\u542f\uff0cUnity\u4f1a\u5b58\u50a8\u4e24\u4efdMesh\uff0c\u5bfc\u81f4\u8fd0\u884c\u65f6\u7684\u5185\u5b58\u7528\u91cf\u53d8\u6210\u4e24\u500d\u3002</li> <li>Compression\uff1aMesh Compression \u662f\u4f7f\u7528\u538b\u7f29\u7b97\u6cd5\u5c06Mesh\u6570\u636e\u8fdb\u884c\u538b\u7f29\uff0c\u7ed3\u679c\u662f\u4f1a\u51cf\u5c11\u5360\u7528\u786c\u76d8\u7684\u7a7a\u95f4\uff0c\u4f46\u662f\u5728 Runtime \u7684\u65f6\u5019\u4f1a\u88ab\u89e3\u538b\u4e3a\u539f\u59cb\u7cbe\u5ea6\u7684\u6570\u636e\uff0c\u56e0\u6b64\u5185\u5b58\u5360\u7528\u5e76\u4e0d\u4f1a\u51cf\u5c11\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\u6709\u4e9b\u7248\u672c\u5f00\u4e86\uff0c\u5b9e\u9645\u89e3\u538b\u4e4b\u540e\u5185\u5b58\u5360\u7528\u5927\u5c0f\u4f1a\u66f4\u4e25\u91cd\u3002</li> <li>Rig\uff1a\u5982\u679c\u6ca1\u6709\u4f7f\u7528\u52a8\u753b\uff0c\u8bf7\u5173\u95edRig\uff0c\u4f8b\u5982\u623f\u5b50\uff0c\u77f3\u5934\u8fd9\u4e9b\u3002</li> <li>\u200b\u200bBlendshapes\uff1a\u5982\u679c\u6ca1\u6709\u7528\u5230Blendshapes\uff0c\u4e5f\u5173\u95ed\u3002</li> <li>Material\u8bbe\u7f6e\uff1a\u5982\u679cMaterial\u6ca1\u6709\u7528\u5230\u6cd5\u5411\u91cf\u548c\u5207\u7ebf\u4fe1\u606f\uff0c\u5173\u95ed\u53ef\u4ee5\u51cf\u5c11\u989d\u5916\u4fe1\u606f\u3002</li> </ul>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/04_Unity_Native_Memory/#8-assets","title":"8. Assets","text":"<p>\u548c\u6574\u4e2a\u7684 Asset \u7ba1\u7406\u6709\u5173\u7cfb\uff0cUnity \u5b98\u7f51\u4e0a\u6709\u5173\u4e8e\u8d44\u6e90\u7ba1\u7406\u7684\u6587\u7ae0\uff0c\u627e\u5230\u518d\u8865\u5145\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/","title":"05.Unity Managed Memory","text":""},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/#vm","title":"VM \u5185\u5b58\u6c60","text":"<p>Unity \u7f16\u8f91\u5668\u8fdb\u7a0b\u81ea\u8eab\u4f7f\u7528 Mono VM\uff0c\u6253\u5305\u540e\u7684\u5b9e\u9645\u6e38\u620f\u8fdb\u7a0b\u6839\u636e\u811a\u672c\u540e\u7aef\u9009\u62e9\u4e0d\u540c\uff0c\u4f7f\u7528 IL2Cpp Runtime \u6216\u8005 Mono VM\u3002\u6ce8\u610f\u8fd9\u91cc\u8bf4\u7684 VM \u662f\u6307\u5b9e\u9645\u6e38\u620f\u8fdb\u7a0b\u4f7f\u7528\u7684 VM\u3002</p> <p>Mono VM \u7684\u5185\u5b58\u6c60\uff0c\u5185\u5b58\u4ee5 Block \u7684\u5f62\u5f0f\u7ba1\u7406\uff0c\u5f53\u4e00\u4e2a Block \u8fde\u7eed 6 \u6b21 GC \u6ca1\u6709\u88ab\u8bbf\u95ee\u5230\uff0c\u8fd9\u5757\u5185\u5b58\u4f1a\u88ab\u8fd4\u56de\u7ed9\u7cfb\u7edf\uff0c\u6761\u4ef6\u82db\u523b\uff0c\u6bd4\u8f83\u96be\u89e6\u53d1\u3002</p> <p>IL2CPP \u66f4\u5bb9\u6613\u89e6\u53d1\uff0c\u56e0\u4e3a\u5b83\u7684\u5185\u5b58\u7ba1\u7406\u66f4\u50cf\u4e00\u4e2a\u4f20\u7edf C++ \u7a0b\u5e8f\u7684\u5185\u5b58\u7ba1\u7406\u6a21\u5f0f\u3002</p> <p>\u6ce8\u610f</p> <p>GC \u672c\u8eab\u662f\u4e0d\u4f1a\u628a\u5185\u5b58\u8fd4\u8fd8\u7ed9\u64cd\u4f5c\u7cfb\u7edf\u7684\uff0c\u5b83\u662f\u56de\u6536\u7ed9\u865a\u62df\u673a\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/#unity-gc","title":"Unity \u7684 GC","text":""},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/#1-gc","title":"1. GC \u673a\u5236\u7684\u8003\u91cf","text":"<ul> <li>Throughput\uff08\u56de\u6536\u80fd\u529b\uff09\uff1a\u4e00\u6b21GC\u80fd\u6536\u56de\u591a\u5c11\u5185\u5b58</li> <li>Pause times\uff08\u6682\u505c\u65f6\u957f\uff09\uff1aGC\u65f6\u5bf9\u4e3b\u7ebf\u7a0b\u7684\u5f71\u54cd\u4f1a\u591a\u5927\uff08\u5361\u987f\uff09</li> <li>Fragmentation\uff08\u788e\u7247\u5316\uff09\uff1a\u5bf9\u6574\u4f53\u5185\u5b58\u6c60\u7684\u788e\u7247\u5316\u5f71\u54cd\u591a\u5c11</li> <li>Mutator overhead\uff08\u989d\u5916\u6d88\u8017\uff09\uff1aGC\u65f6\u7684\u6d88\u8017\uff0cGC\u65f6\u9700\u8981\u505a\u5f88\u591a\u7684\u7edf\u8ba1\u4f1a\u4ea7\u751f\u6d88\u8017</li> <li>Scalability\uff08\u53ef\u62d3\u5c55\u6027\uff09\uff1a\u62d3\u5c55\u5230\u591a\u6838\u591a\u7ebf\u7a0b\u4f1a\u4e0d\u4f1a\u6709\u4ec0\u4e48bug</li> <li>Portability\uff08\u53ef\u79fb\u690d\u6027\uff09\uff1a\u5728\u4e0d\u540c\u7684\u5e73\u53f0\u4e0a\u662f\u5426\u53ef\u4ee5\u4f7f\u7528</li> </ul>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/#2-boehm-gc-incremental-gc","title":"2. Boehm GC \u548c Incremental GC","text":"<p>Unity \u7528\u7684 Boehm GC\uff0c\u7b80\u5355\u7c97\u66b4\uff0c\u4e0d\u5206\u4ee3\u3002\u5b83\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ul> <li>Non-generational\uff08\u975e\u5206\u4ee3\u5f0f\uff09\uff0c\u5373\u5168\u90fd\u5806\u5728\u4e00\u8d77\uff0c\u56e0\u4e3a\u8fd9\u6837\u4f1a\u5f88\u5feb\u3002\u5206\u4ee3\u7684\u8bdd\u5c31\u662f\u4f8b\u5982\u5927\u5185\u5b58\uff0c\u5c0f\u5185\u5b58\uff0c\u8d85\u5c0f\u5185\u5b58\u5206\u5728\u4e0d\u540c\u7684\u5185\u5b58\u533a\u57df\u6765\u8fdb\u884c\u7ba1\u7406\uff08SGen GC\u7684\u8bbe\u8ba1\u601d\u60f3\uff09\u3002</li> <li>Non-Compacting\uff08\u975e\u538b\u7f29\u5f0f\uff09\uff0c\u5373\u5f53\u6709\u5185\u5b58\u88ab\u91ca\u653e\u7684\u65f6\u5019\uff0c\u8fd9\u5757\u533a\u57df\u5c31\u7a7a\u7740\u3002\u800c\u538b\u7f29\u5f0f\u7684\u4f1a\u91cd\u65b0\u6392\u5e03\uff0c\u586b\u5145\u7a7a\u767d\u533a\u57df\uff0c\u4f7f\u5185\u5b58\u7d27\u5bc6\u6392\u5e03\u3002</li> </ul> <p>\u4f46\u76ee\u524d Unity \u5728 Mono \u4e0a\u5df2\u7ecf\u4f7f\u7528 SGen GC \uff08Scalable Generational GC\uff0c\u5206\u4ee3\u5783\u573e\u56de\u6536\u5668\uff09\u4e86\uff0c\u800c IL2CPP \u5219\u662f\u5d4c\u5165\u4e86\u4e00\u4e2a\u5b9a\u5236\u5316\u540e\u7684 Boehm</p> <p>\u7ed3\u8bba\u5982\u4e0b\u8868\uff1a</p> Unity\u540e\u7aef \u4f7f\u7528\u7684GC \u662f\u5426 Boehm \u662f\u5426\u652f\u6301\u5206\u4ee3 Mono\uff08\u7f16\u8f91\u5668\uff09 Mono SGen GC \u975e Boehm \u662f IL2CPP Boehm GC\uff08\u5b9a\u5236\u7248\uff09 \u662f \u5426 DOTS/Burst \u65e0\u6258\u7ba1\u5806 \u65e0GC N/A <p>Unity \u53e6\u5916\u5b9e\u88c5\u4e86 Incremental GC\uff0c\u4e3b\u8981\u89e3\u51b3\u4e3b\u7ebf\u7a0b\u5361\u987f\u7684\u95ee\u9898\uff0c\u73b0\u5728\u8fdb\u884c\u4e00\u6b21GC\u4e3b\u7ebf\u7a0b\u88ab\u8feb\u8981\u505c\u4e0b\u6765\uff0c\u904d\u5386\u6240\u6709\u7684 Memory Island\uff0c\u51b3\u5b9a\u54ea\u4e9b\u8981\u88ab GC \u6389\uff0c\u4f1a\u9020\u6210\u4e00\u5b9a\u65f6\u95f4\u7684\u4e3b\u7ebf\u7a0b\u5361\u987f\u3002Incremental GC \u628a\u524d\u9762\u6682\u505c\u4e3b\u7ebf\u7a0b\u7684\u4e8b\u5206\u5e27\u505a\u4e86\uff0c\u8fd9\u6837\u4e3b\u7ebf\u7a0b\u4e0d\u4f1a\u51fa\u73b0\u5cf0\u503c\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/#3","title":"3. \u5185\u5b58\u788e\u7247\u5316","text":"<p>\u975e\u538b\u7f29\u5f0f\u7684\u5185\u5b58\u867d\u7136\u5feb\uff08\u907f\u514d\u4e86\u5185\u5b58\u91cd\u65b0\u6392\u5e03\u7684\u65f6\u95f4\u6d88\u8017\uff09\uff0c\u4f46\u662f\u5bb9\u6613\u9020\u6210\u5185\u5b58\u788e\u7247\u5316\u3002\u5185\u5b58\u7684\u788e\u7247\u5316\u5bb9\u6613\u95f4\u63a5\u5185\u5b58\u5f02\u5e38\u4e0a\u6da8\uff0c\u6bd4\u5982\u5185\u5b58\u603b\u7528\u91cf\u4e0b\u964d\u4e86\uff0c\u4f46\u662f\u8fd8\u5728\u7ee7\u7eed\u5206\u914d\u65b0\u7684\u7a7a\u95f4\u3002\u4f8b\u5982\uff0c\u5185\u5b58\u4e2d\u6709\u4e00\u4e9b\u7a7a\u767d\u7684\u5185\u5b58\u533a\u57df\u65f6\uff0c\u5206\u914d\u4e86\u4e00\u5757\u8f83\u5927\u5185\u5b58\u65f6\uff0c\u5374\u6ca1\u6709\u4efb\u4f55\u7684\u4e00\u4e2a\u7a7a\u95f4\u653e\u5f97\u4e0b\uff08\u5373\u4f7f\u6574\u4f53\u7684\u7a7a\u95f4\u8db3\u591f\uff09\uff0c\u5bfc\u81f4\u5185\u5b58\u6269\u5145\u5f88\u591a\u3002</p> <p>\u56e0\u6b64\u5efa\u8bae\u5728\u9700\u8981\u8fde\u7eed\u5206\u914d\u5185\u5b58\u7684\u60c5\u51b5\u4e0b\uff0c\u5148\u64cd\u4f5c\u5927\u5185\u5b58\uff0c\u7136\u540e\u64cd\u4f5c\u5c0f\u5185\u5b58\uff0c\u53ef\u4ee5\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u51cf\u8f7b\u788e\u7247\u5316\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/#4","title":"4. \u50f5\u5c38\u5185\u5b58","text":"<p>\u8fd9\u4e2a\u548c\u5185\u5b58\u6cc4\u6f0f\u5e38\u88ab\u4eba\u641e\u6df7\u5728\u4e00\u8d77\u3002\u50f5\u5c38\u5185\u5b58\u662f\u6307\u788e\u7247\u5316\u5185\u5b58\u4e4b\u95f4\u7a7a\u51fa\u7684\u5185\u5b58\uff0c\u8fd9\u90e8\u5206\u5185\u5b58\u53ef\u80fd\u6210\u4e3a\u50f5\u5c38\u5185\u5b58\u3002\u8fd9\u79cd\u60c5\u51b5\u5b9e\u9645\u4e0a\u5e76\u4e0d\u662f\u5185\u5b58\u6cc4\u9732\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u5185\u5b58\u5e76\u6ca1\u6709\u88ab\u6cc4\u9732\uff0c\u6cc4\u9732\u6307\u8fd9\u5757\u5185\u5b58\u6ca1\u6709\u4efb\u4f55\u4eba\u53ef\u4ee5\u8bbf\u95ee\u548c\u7ba1\u7406\uff0c\u4f46\u5b9e\u9645\u4e0a\u8fd9\u5757\u5185\u5b58\u4e00\u76f4\u5728\u5185\u5b58\u6c60\u91cc\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/#managed-memory","title":"Managed Memory \u6700\u4f73\u5b9e\u8df5","text":""},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/#1-dont-null-it-destroy-it","title":"1. Don't Null it, Destroy it","text":"<p>\u7528 Destroy\uff0c\u522b\u7528 null\uff0c\u663e\u793a\u7684\u8c03\u7528 Destroy \u624d\u80fd\u771f\u6b63\u7684\u9500\u6bc1\u6389\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/#2-class-struct","title":"2. Class \u548c Struct \u4e0d\u8981\u6df7\u7528","text":"<p>\u8fd9\u4e2a\u4e0d\u8d58\u8ff0</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/#3-pool-in-pool","title":"3. Pool In Pool","text":"<p>\u9ad8\u9891\u4f7f\u7528\u7684\u90e8\u5206\u81ea\u5df1\u5efa\u4e00\u4e2a\u5185\u5b58\u6c60\u53bb\u91cd\u7528</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/#4-closures-and-anonymous-methods","title":"4. Closures and anonymous methods\uff08\u95ed\u5305\u548c\u533f\u540d\u51fd\u6570\uff09","text":"<p>\u6240\u6709\u7684\u533f\u540d\u51fd\u6570\u548c\u95ed\u5305\u5728 C# \u7f16 IL \u4ee3\u7801\u65f6\u90fd\u4f1a\u88ab new \u6210\u4e00\u4e2a Class\uff08\u533f\u540dclass\uff09\uff0c\u6240\u4ee5\u5728\u91cc\u9762\u6240\u6709\u53d8\u91cf\u4ee5\u53canew\u7684\u4e1c\u897f\uff0c\u90fd\u662f\u8981\u5360\u5185\u5b58\u7684\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/#5-coroutines","title":"5. Coroutines\uff08\u534f\u7a0b\uff09","text":"<p>\u534f\u7a0b\u5c5e\u4e8e\u95ed\u5305\u548c\u533f\u540d\u51fd\u6570\u7684\u7279\u4f8b\uff0c\u6e38\u620f\u5f00\u59cb\u542f\u52a8\u4e00\u4e2a\u534f\u7a0b\u76f4\u5230\u6e38\u620f\u7ed3\u675f\u624d\u91ca\u653e\uff0c\u662f\u9519\u8bef\u7684\u505a\u6cd5\u3002\u56e0\u4e3a\u534f\u7a0b\u53ea\u8981\u6ca1\u88ab\u91ca\u653e\uff0c\u91cc\u9762\u7684\u6240\u6709\u53d8\u91cf\uff0c\u5373\u4f7f\u662f\u5c40\u90e8\u53d8\u91cf\uff08\u5305\u62ec\u503c\u7c7b\u578b\uff09\uff0c\u4e5f\u90fd\u4f1a\u5728\u5185\u5b58\u91cc\u3002\u5efa\u8bae\u7528\u7684\u65f6\u5019\u624d\u751f\u4ea7\u4e00\u4e2a\u534f\u7a0b\uff0c\u4e0d\u7528\u7684\u65f6\u5019\u5c31\u4e22\u6389\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/#6-configurations","title":"6. Configurations\uff08\u914d\u7f6e\u8868\uff09","text":"<p>\u5168\u90e8\u914d\u7f6e\u8868\u4e00\u4e0b\u5168\u90e8\u8fdb\u5185\u5b58\u4e5f\u662f\u4e0d\u660e\u667a\u7684\uff0c\u53ef\u4ee5\u8003\u8651\u5206\u5173\u52a0\u8f7d\u7b49\u7b56\u7565\u3002</p>"},{"location":"04_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/Unity%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/05_Unity_Managed_Memory/#7-singleton","title":"7. Singleton\uff08\u5355\u4f8b\uff09","text":"<p>\u614e\u7528\u5355\u4f8b\uff0c\u4e0d\u8981\u4ec0\u4e48\u90fd\u5f80\u91cc\u653e\uff0c\u56e0\u4e3a\u91cc\u9762\u7684\u53d8\u91cf\u4f1a\u4e00\u76f4\u5360\u7528\u5185\u5b58\u3002</p>"},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/","title":"\u4f7f\u7528\u6a21\u677f","text":"<p>\u76ee\u524d\u535a\u5ba2\u6b63\u5f0f\u4ecehexo\u8fc1\u79fb\u81f3mkdocs\uff0c\u539f\u56e0\u662f\u4e0d\u7528\u624b\u52a8\u6784\u5efa\u9759\u6001\u7f51\u7ad9\u5e76\u4e14\u4e0a\u4f20\uff0c\u76f8\u5bf9\u66f4\u52a0\u65b9\u4fbf\u4e86\uff0c\u5e76\u4e14\u754c\u9762\u4e5f\u66f4\u597d\u770b\u4e00\u4e9b\uff08\u6bd4\u8f83\u61d2\u4e0d\u60f3\u53bb\u8c03\u7f62\u4e86...\uff09</p>","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/#_1","title":"\u8b66\u544a","text":"<p>note</p> <p>\u8fd9\u662f\u5185\u5bb9</p> <p>abstract</p> <p>\u8fd9\u662f\u5185\u5bb9</p> <p>info</p> <p>\u8fd9\u662f\u5185\u5bb9</p> <p>tip</p> <p>\u8fd9\u662f\u5185\u5bb9</p> <p>success</p> <p>\u8fd9\u662f\u5185\u5bb9</p> <p>question</p> <p>\u8fd9\u662f\u5185\u5bb9</p> <p>warning</p> <p>\u8fd9\u662f\u5185\u5bb9</p> <p>failure</p> <p>\u8fd9\u662f\u5185\u5bb9</p> <p>danger</p> <p>\u8fd9\u662f\u5185\u5bb9</p> <p>bug</p> <p>\u8fd9\u662f\u5185\u5bb9</p> <p>example</p> <p>\u8fd9\u662f\u5185\u5bb9</p> <p>quote</p> <p>\u8fd9\u662f\u5185\u5bb9</p> <p>\u5d4c\u5957\u8b66\u544a</p> <p>\u8fd9\u662f\u6b63\u5e38\u5185\u5bb9</p> <p>\u5185\u90e8\u8b66\u544a</p> <p>\u8fd9\u662f\u5d4c\u5957\u5185\u5bb9</p> \u53ef\u6298\u53e0\u8b66\u544a <p>\u8fd9\u662f\u5185\u5bb9</p> \u53ef\u6298\u53e0\u8b66\u544a\uff08\u9ed8\u8ba4\u5c55\u5f00\uff09 <p>\u8fd9\u662f\u5185\u5bb9</p> <p>\u5185\u8054\u8b66\u544a</p> <p>\u8fd9\u662f\u5185\u5bb9</p> <p>\u5185\u8054\u8b66\u544a</p> <p>\u8fd9\u662f\u5185\u5bb9</p> <p>\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a\u6d4b\u8bd5\u5185\u8054\u8b66\u544a</p>","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/#_2","title":"\u6ce8\u91ca","text":"<p>\u6ce8\u91ca\u793a\u4f8b, (1) \u8bf7\u70b9\u51fb\u524d\u9762\u8fd9\u4e2a\u56fe\u6807.</p> <ol> <li> \u6211\u662f\u4e00\u4e2a\u6ce8\u91ca\uff01 \u6211\u53ef\u4ee5\u5305\u542b<code>\u4ee3\u7801</code>\u3001\u683c\u5f0f\u5316\u6587\u672c\u3001\u56fe\u50cf\u2026\u2026\u57fa\u672c\u4e0a\u4efb\u4f55\u53ef\u4ee5\u7528 Markdown \u8868\u8fbe\u7684\u4e1c\u897f\u3002</li> </ol> <p>\u5d4c\u5957\u6ce8\u91ca, (1) \u8bf7\u70b9\u51fb\u524d\u9762\u8fd9\u4e2a\u56fe\u6807.</p> <ol> <li> <p> \u6211\u662f\u4e00\u4e2a\u6ce8\u91ca\uff01 (1)</p> <ol> <li> \u6211\u4e5f\u662f\u4e00\u4e2a\u6ce8\u91ca\uff01</li> </ol> </li> </ol> <p>\u5728\u8b66\u544a\u4e2d\u52a0\u5165\u6ce8\u91ca (1)</p> <p>\u6807\u9898\u6709\u6ce8\u91ca, \u5185\u5bb9\u4e5f\u6709\u6ce8\u91ca (2)</p> <ol> <li> \u6211\u662f\u6807\u9898\u6ce8\u91ca\uff01</li> <li> \u6211\u662f\u5185\u5bb9\u6ce8\u91ca\uff01</li> </ol> Tab 1Tab 2 <p>\u9009\u9879\u5361\u4e2d\u7684\u6ce8\u91ca \u7b2c\u4e00\u9875 (1)</p> <ol> <li> I'm an annotation!</li> </ol> <p>\u9009\u9879\u5361\u4e2d\u7684\u6ce8\u91ca \u7b2c\u4e8c\u9875 (1)</p> <ol> <li> I'm an annotation as well!</li> </ol> <p>\u5e26\u6ce8\u91ca\u7684HTML (1)</p> <ol> <li> I'm an annotation!</li> </ol>","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/#_3","title":"\u6309\u94ae","text":"<p>Subscribe to our newsletter</p> <p>Subscribe to our newsletter</p> <p>Send </p>","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/#_4","title":"\u4ee3\u7801\u5757","text":"C#<pre><code>var a = 111;\nvar b = 222;\nvar c = 333;\n</code></pre> bubble_sort.py<pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> YAML<pre><code>var result = func() # (1)\n</code></pre> <ol> <li> I'm a code annotation!</li> </ol> Python<pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> Python<pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <p>\u5185\u8054\u4ee3\u7801\u5757 <code>range()</code> \u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684</p> \u4ee3\u7801\u5757\u94fe\u63a5<pre><code>\n</code></pre>","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/#_5","title":"\u5185\u5bb9\u9875\u7b7e","text":"<p>\u4ee3\u7801\u5206\u7ec4</p> CC++ C<pre><code>#include &lt;stdio.h&gt;\n\nint main(void) {\n  printf(\"Hello world!\\n\");\n  return 0;\n}\n</code></pre> C++<pre><code>#include &lt;iostream&gt;\n\nint main(void) {\n  std::cout &lt;&lt; \"Hello world!\" &lt;&lt; std::endl;\n  return 0;\n}\n</code></pre> <p>\u5176\u4ed6\u5f62\u5f0f</p> Unordered listOrdered list <ul> <li>Sed sagittis eleifend rutrum</li> <li>Donec vitae suscipit est</li> <li>Nulla tempor lobortis orci</li> </ul> <ol> <li>Sed sagittis eleifend rutrum</li> <li>Donec vitae suscipit est</li> <li>Nulla tempor lobortis orci</li> </ol> <p>\u5d4c\u5165\u8b66\u544a</p> <p>Example</p> Unordered ListOrdered List Markdown<pre><code>* Sed sagittis eleifend rutrum\n* Donec vitae suscipit est\n* Nulla tempor lobortis orci\n</code></pre> Markdown<pre><code>1. Sed sagittis eleifend rutrum\n2. Donec vitae suscipit est\n3. Nulla tempor lobortis orci\n</code></pre>","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/#_6","title":"\u6570\u636e\u8868","text":"Method Description <code>GET</code>      Fetch resource <code>PUT</code>  Update resource <code>DELETE</code>      Delete resource \u5c45\u5de6\u5c45\u4e2d\u5c45\u53f3 Method Description <code>GET</code>      Fetch resource <code>PUT</code>  Update resource <code>DELETE</code>      Delete resource Method Description <code>GET</code>      Fetch resource <code>PUT</code>  Update resource <code>DELETE</code>      Delete resource Method Description <code>GET</code>      Fetch resource <code>PUT</code>  Update resource <code>DELETE</code>      Delete resource","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/#_7","title":"\u811a\u6ce8","text":"<p>Lorem ipsum<sup>1</sup> dolor sit amet, consectetur adipiscing elit.<sup>2</sup></p>","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/#_8","title":"\u683c\u5f0f","text":"<p>Text can be deleted and replacement text added. This can also be combined into onea single operation. Highlighting is also possible and comments can be added inline.</p> <p>Formatting can also be applied to blocks by putting the opening and closing tags on separate lines and adding new lines between the tags and the content.</p> <ul> <li>H<sub>2</sub>O</li> <li>A<sup>T</sup>A</li> </ul> <p>Ctrl+Alt+Del</p>","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/#_9","title":"\u5361\u7247","text":"<ul> <li> <p> Set up in 5 minutes</p> <p>Install <code>mkdocs-material</code> with <code>pip</code> and get up and running in minutes</p> <p> Getting started</p> </li> <li> <p> It's just Markdown</p> <p>Focus on your content and generate a responsive and searchable static site</p> <p> Reference</p> </li> <li> <p> Made to measure</p> <p>Change the colors, fonts, language, icons, logo and more with a few lines</p> <p> Customization</p> </li> <li> <p> Open Source, MIT</p> <p>Material for MkDocs is licensed under MIT and available on [GitHub]</p> <p> License</p> </li> </ul> Unordered listOrdered list <ul> <li>Sed sagittis eleifend rutrum</li> <li>Donec vitae suscipit est</li> <li>Nulla tempor lobortis orci</li> </ul> <ol> <li>Sed sagittis eleifend rutrum</li> <li>Donec vitae suscipit est</li> <li>Nulla tempor lobortis orci</li> </ol> Content tabs<pre><code>=== \"Unordered list\"\n\n    * Sed sagittis eleifend rutrum\n    * Donec vitae suscipit est\n    * Nulla tempor lobortis orci\n\n=== \"Ordered list\"\n\n    1. Sed sagittis eleifend rutrum\n    2. Donec vitae suscipit est\n    3. Nulla tempor lobortis orci\n</code></pre>","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/#_10","title":"\u56fe\u6807\u548c\u8868\u60c5","text":"","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/#_11","title":"\u56fe\u7247","text":"<p>\u5e26\u6587\u5b57\u8bf4\u660e\u7684\u56fe\u7247</p> <p></p> <p>Image caption</p> <p>\u56fe\u7247\u5ef6\u8fdf\u52a0\u8f7d</p> <p></p> <p>\u5207\u6362\u591c\u95f4\u6a21\u5f0f\u89c2\u770b\u4e0d\u540c\u56fe\u7247</p> <p> </p>","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/#_12","title":"\u5217\u8868","text":"<p>\u65e0\u5e8f\u5217\u8868</p> <ul> <li> <p>Nulla et rhoncus turpis. Mauris ultricies elementum leo. Duis efficitur   accumsan nibh eu mattis. Vivamus tempus velit eros, porttitor placerat nibh   lacinia sed. Aenean in finibus diam.</p> <ul> <li>Duis mollis est eget nibh volutpat, fermentum aliquet dui mollis.</li> <li>Nam vulputate tincidunt fringilla.</li> <li>Nullam dignissim ultrices urna non auctor.</li> </ul> </li> </ul> <p>\u6709\u5e8f\u5217\u8868</p> <ol> <li> <p>Vivamus id mi enim. Integer id turpis sapien. Ut condimentum lobortis     sagittis. Aliquam purus tellus, faucibus eget urna at, iaculis venenatis     nulla. Vivamus a pharetra leo.</p> <ol> <li> <p>Vivamus venenatis porttitor tortor sit amet rutrum. Pellentesque aliquet     quam enim, eu volutpat urna rutrum a. Nam vehicula nunc mauris, a     ultricies libero efficitur sed.</p> </li> <li> <p>Morbi eget dapibus felis. Vivamus venenatis porttitor tortor sit amet     rutrum. Pellentesque aliquet quam enim, eu volutpat urna rutrum a.</p> <ol> <li>Mauris dictum mi lacus</li> <li>Ut sit amet placerat ante</li> <li>Suspendisse ac eros arcu</li> </ol> </li> </ol> </li> </ol> <p>\u81ea\u5b9a\u4e49\u5217\u8868</p> <code>Lorem ipsum dolor sit amet</code> <p>Sed sagittis eleifend rutrum. Donec vitae suscipit est. Nullam tempus tellus non sem sollicitudin, quis rutrum leo facilisis.</p> <code>Cras arcu libero</code> <p>Aliquam metus eros, pretium sed nulla venenatis, faucibus auctor ex. Proin ut eros sed sapien ullamcorper consequat. Nunc ligula ante.</p> <p>Duis mollis est eget nibh volutpat, fermentum aliquet dui mollis. Nam vulputate tincidunt fringilla. Nullam dignissim ultrices urna non auctor.</p> <p>\u4efb\u52a1\u5217\u8868</p> <ul> <li> Lorem ipsum dolor sit amet, consectetur adipiscing elit</li> <li> Vestibulum convallis sit amet nisi a tincidunt<ul> <li> In hac habitasse platea dictumst</li> <li> In scelerisque nibh non dolor mollis congue sed et metus</li> <li> Praesent sed risus massa</li> </ul> </li> <li> Aenean pretium efficitur erat, donec pharetra, ligula non scelerisque</li> </ul>","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/#_13","title":"\u6570\u5b66\u516c\u5f0f","text":"<p>\u8bed\u6cd5\u5757</p> \\[ \\cos x=\\sum_{k=0}^{\\infty}\\frac{(-1)^k}{(2k)!}x^{2k} \\] <p>\u5185\u8054\u5757</p> <p>The homomorphism \\(f\\) is injective if and only if its kernel is only the singleton set \\(e_G\\), because otherwise \\(\\exists a,b\\in G\\) with \\(a\\neq b\\) such that \\(f(a)=f(b)\\).</p>","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF/#_14","title":"\u5de5\u5177\u63d0\u793a","text":"<p>Hover me</p> <p>Hover me</p> <p></p> <p>The HTML specification is maintained by the W3C.</p> <ol> <li> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.\u00a0\u21a9</p> </li> <li> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.\u00a0\u21a9</p> </li> </ol>","tags":["mkdocs"]},{"location":"99_%E5%AE%9E%E8%B7%B5/mkdocs/%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81%E5%9D%97%E9%93%BE%E6%8E%A5/","title":"\u6d4b\u8bd5\u4ee3\u7801\u5757\u94fe\u63a5","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u94fe\u63a5\u4ee3\u7801\u5757\uff0c\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u6587\u4ef6\uff01</p>"},{"location":"99_%E5%AE%9E%E8%B7%B5/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/%E6%B5%AE%E7%82%B9%E6%95%B0%E8%BF%90%E7%AE%97%E9%97%AE%E9%A2%98/","title":"\u6d6e\u70b9\u6570\u8fd0\u7b97\u95ee\u9898","text":""},{"location":"99_%E5%AE%9E%E8%B7%B5/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/%E6%B5%AE%E7%82%B9%E6%95%B0%E8%BF%90%E7%AE%97%E9%97%AE%E9%A2%98/#_1","title":"\u4e00\u3001\u95ee\u9898","text":"<p>\u6700\u8fd1\u5de5\u4f5c\u4e2d\u9047\u5230\u4e00\u4e2aC#\u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570\u4e22\u7cbe\u5ea6\u7684\u95ee\u9898\uff0c\u76f4\u63a5\u4e0a\u53d1\u751f\u95ee\u9898\u7684\u4ee3\u7801\uff1a</p> <p></p> <p>\u95ee\u9898\u4ee3\u7801</p> <p>\u7b2c\u4e00\u79cd\u5199\u6cd5\u53d1\u751f\u4e86\u4e25\u91cd\u7684\u7cbe\u5ea6\u4e22\u5931\uff0c\u4f46\u5176\u5b9e\u4e0d\u662f\u5168\u90e8\u7684\u6570\u90fd\u4f1a\u53d1\u751f\u8fd9\u4e2a\u95ee\u9898\uff0c\u6240\u4ee5\u5e73\u65f6\u5f00\u53d1\u65f6\u5e76\u6ca1\u6709\u53d1\u73b0\u3002\u8981\u7406\u89e3\u9020\u6210\u8fd9\u4e2a\u73b0\u8c61\u7684\u539f\u56e0\uff0c\u9700\u8981\u4ece\u6d6e\u70b9\u6570\u7684\u8fd0\u7b97\u548c\u5b58\u50a8\u7684\u57fa\u7840\u77e5\u8bc6\u51fa\u53d1\u53bb\u8ffd\u6eaf\u3002</p>"},{"location":"99_%E5%AE%9E%E8%B7%B5/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/%E6%B5%AE%E7%82%B9%E6%95%B0%E8%BF%90%E7%AE%97%E9%97%AE%E9%A2%98/#_2","title":"\u4e8c\u3001\u8fd0\u7b97","text":"<p>\u9996\u5148\uff0c\u6211\u4eec\u770b\u4e0b\u8fd9\u6bb5\u4ee3\u7801\u7684 IL \uff0c\u641e\u6e05\u695aCPU\u5904\u7406\u8fd9\u6bb5\u903b\u8f91\u5927\u6982\u505a\u4e86\u4ec0\u4e48\u64cd\u4f5c\uff1a</p> <p></p> <p>\u5bf9\u5e94\u7684 IL</p> <p>\u7b2c\u4e00\u79cd\u5199\u6cd5\uff0c vectorX \u548c scale \u52a0\u8f7d\u5230\u5bc4\u5b58\u5668\u540e\uff0c\u6267\u884c\u7684\u7b2c\u4e00\u4e2a\u64cd\u4f5c\u662f conv.r4 \uff0c\u4e5f\u5c31\u662f\u5c06 int32 \u7c7b\u578b\u7684 scale \u8f6c\u6362\u4e3a\u4e86 float \u3002\u7136\u540e\u518d\u6267\u884c\u4e58\u6cd5\uff0c\u7d27\u63a5\u7740\u5c06\u7ed3\u679c\u5f3a\u8f6c int64 \uff0c\u6700\u540e\u8f93\u51fa\u3002\u4ece IL \u770b\u6ca1\u6709\u4ec0\u4e48\u95ee\u9898\uff0c\u4e0b\u9762\u6211\u4eec\u6309\u7167 IL \u7684\u6b65\u9aa4\u624b\u52a8\u8fd0\u7b97\u4e00\u4e0b\u3002</p>"},{"location":"99_%E5%AE%9E%E8%B7%B5/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/%E6%B5%AE%E7%82%B9%E6%95%B0%E8%BF%90%E7%AE%97%E9%97%AE%E9%A2%98/#1","title":"1\u3001\u5f97\u5230\u4e24\u4e2a\u53d8\u91cf\u5728\u673a\u5668\u4e2d\u7684\u771f\u5b9e\u503c","text":"<p>\u6574\u4e2a\u95ee\u9898\u8fd0\u7b97\u7684\u6838\u5fc3\u662f 1.3f \u548c 10.0f \u8fd9\u4e24\u4e2a\u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570\u8fd0\u7b97\uff1a</p> <p>\u5341\u8fdb\u5236\u6570 1.3 \u8f6c\u6362\u4e3a\u4e8c\u8fdb\u5236\u6570\u4e3a \\(1.01001100110011..._{(2)}\\)</p> <p>\u7531\u6d6e\u70b9\u6570\u5b58\u50a8\u89c4\u5219\uff1a \\(V = (-1)^S \u00d7 M \u00d7 2^E\\)</p> <ol> <li>\u7b26\u53f7\u4f4d S \uff0c\u56e0\u4e3a\u662f\u6b63\u6570\uff0c\u6240\u4ee5\u4e3a 0</li> <li>\u9636\u6570 \\(E = log_{2}1 = 0\\) \uff0cfloat\u7684\u504f\u7f6e\u91cf bias \u662f \\(2^k - 1 = 2^8 - 1 = 127\\) \uff0c\u6240\u4ee5 \\(exponent = E + bias = 127\\) \uff0c\u5f97\u5230 8 \u4f4d\u9636\u7801 01111111</li> <li>fraction \u76f4\u63a5\u7b49\u4e8e\u4e8c\u8fdb\u5236\u5c0f\u6570\u4f4d\uff0c\u7531\u4e8e float \u7684\u5c3e\u6570\u4f4d\u6709 23 \u4e2a\uff0c\u6240\u4ee5\u4fdd\u7559\u524d 23 \uff0c\u5f97\u5230\u5c3e\u6570\u4e8c\u8fdb\u5236 01001100110011001100110</li> </ol> <p>\u62fc\u8d77\u6765\u5c31\u662f\u5982\u4e0b\uff1a</p> <p>00111111 10100110 01100110 01100110</p> <p>\u6211\u4eec\u518d\u4ece\u8fd9\u4e2a\u503c\u63a8\u7b97\u9636\u6570 E \u548c fraction \uff08\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\uff1a\u8fd9\u4e2a\u4e8c\u8fdb\u5236\u503c\u4e0d\u662f\u7531 E \u548c fraction \u8ba1\u7b97\u5f97\u5230\u7684\u5417\uff0c\u4ec0\u4e48\u53c8\u8981\u63a8\u7b97\u56de\u53bb\uff1f\u7b54\uff1a\u56e0\u4e3a\u5728\u8ba1\u7b97\u5b9e\u9645\u7684\u5b58\u50a8\u4e2d\uff0c fraction \u7531\u4e8e\u53ea\u6709 23 \u4f4d\uff0c\u53ef\u80fd\u53d1\u751f\u622a\u65ad\uff0c\u5982\u679c\u622a\u65ad\u540e\u6700\u4f4e\u4f4d\u662f 1 \uff0c\u90a3\u4e48\u8fd8\u4f1a\u53d1\u751f\u8fdb\u4f4d\u820d\u5165\uff0c\u5bfc\u81f4\u673a\u5668\u5b58\u50a8\u7684\u5b9e\u9645\u503c\u548c\u6570\u5b66\u610f\u4e49\u4e0a\u7684\u503c\u4e0d\u4e00\u81f4\uff09</p> <p>\\(E = 2^6 + 2^5 + 2^4 + 2^3 + 2^2 + 2^1 - 127 = 0\\)</p> <p>\\(fraction = 0.01001100110011001100110\\)</p> <p>\\(M = 1 + fraction = 1.01001100110011001100110 = 1.0100110011001100110011\\)\uff08\u6700\u4f4e\u4f4d\u76840\u5bf9\u4e8e\u6570\u5b66\u8ba1\u7b97\u6765\u8bf4\u6ca1\u6709\u7528\uff0c\u53ef\u4ee5\u5ffd\u7565\uff09</p> <p>\u6240\u4ee5 1.3 \u53ef\u4ee5\u8868\u793a\u4e3a\uff1a\\((-1)^S \u00d7 M \u00d7 2^E = 2^0 \u00d7 1.0100110011001100110011_{(2)}\\)</p> <p>\u540c\u7406\uff0c 10.0 \u8868\u793a\u4e3a\uff1a \\(2^3 \u00d7 1.01_{(2)}\\)</p>"},{"location":"99_%E5%AE%9E%E8%B7%B5/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/%E6%B5%AE%E7%82%B9%E6%95%B0%E8%BF%90%E7%AE%97%E9%97%AE%E9%A2%98/#2","title":"2\u3001\u4e8c\u8fdb\u5236\u4e58\u6cd5","text":"<p>\u7531\u4e0a\u9762\u5f97\u5230\u7684\u673a\u5668\u503c\u7ed3\u679c\uff1a</p> \\[ \\begin{align} 1.3 \u00d7 10.0 &amp;= 2^0 \u00d7 1.0100110011001100110011_{(2)} \u00d7 2^3 \u00d7 1.01_{(2)} \\\\            &amp;= 2^3 \u00d7 1.0100110011001100110011_{(2)} \u00d7 1.01_{(2)} \\\\ \\end{align} \\] <p>\\(1.0100110011001100110011_{(2)} \u00d7 1.01_{(2)}\\) \u7684\u4e8c\u8fdb\u5236\u4e58\u6cd5\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u53d6\u5c0f\u6570\u70b9\u540e 23 \u4f4d 10011111111111111111111</p> <p>\u6240\u4ee5\u6700\u7ec8\uff0c ALU \u8ba1\u7b97\u5f97\u5230\u7684\u503c\u662f \\(2^3 \u00d7 1.10011111111111111111111_{(2)}\\)</p>"},{"location":"99_%E5%AE%9E%E8%B7%B5/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/%E6%B5%AE%E7%82%B9%E6%95%B0%E8%BF%90%E7%AE%97%E9%97%AE%E9%A2%98/#_3","title":"\u4e09\u3001\u5b58\u50a8","text":"<p>ALU \u5df2\u7ecf\u5f97\u5230\u4e86\u503c \\(2^3 \u00d7 1.10011111111111111111111_{(2)}\\)</p> <p>E = 3\uff0c\u6240\u4ee5 exponent = 3 + 127 = 130 \uff0c\u9636\u7801\u4e3a 1000001 0</p> <p>\u6574\u4e2a\u7ed3\u679c\u8868\u793a\u4e3a\uff1a</p> <p>01000001 01001111 11111111 11111111</p> <p>\u5728\u73b0\u4ee3CPU\u67b6\u6784\u4e2d\uff0c\u4e58\u6cd5\u548c\u9664\u6cd5\u4e58\u6cd5\u548c\u9664\u6cd5\u8fd0\u7b97\u662f\u4f7f\u7528\u4e24\u4e2a\u7d2f\u52a0\u5668\uff08\u4e3b\u7d2f\u52a0\u5668 EAX \u4e0e\u4ece\u7d2f\u52a0\u5668 EDX\uff09\u8fdb\u884c\u4e34\u65f6\u5b58\u50a8\uff08\u4f8b\u5982\uff0cMUL ECX \u5c06\u628a\u4e24\u4e2a 32 \u4f4d\u5bc4\u5b58\u5668 ECX \u4e0e EAX \u76f8\u4e58\uff0c64 \u4f4d\u7ed3\u679c\u653e\u5165 EAX \u4e0e EDX\uff09</p> <p>\u6240\u4ee5\uff0c\u7d2f\u52a0\u5668\u4e2d\u7684\u4e8c\u8fdb\u5236\u503c\u5982\u4e0b\uff1a</p> <p>EAX\uff1a 01000001 01001111 11111111 11111111</p> <p>EDX\uff1a 00000000 00000000 00000000 00000000</p> <p>\u8fd9\u91cc\u5b58\u50a8\u7684\u5b9e\u9645\u503c\u662f 12.99999904632568359375</p> <p>\u63a5\u4e0b\u6765\u7684\u5904\u7406\u662f\u5173\u952e\u7684\u5730\u65b9\uff0c\u8fd9\u4e2a\u503c\u88ab\u4e0d\u540c\u7c7b\u578b\u7684\u53d8\u91cf\u53bb\u5b58\uff0c\u4f1a\u6709\u4e0d\u540c\u7684\u4e8c\u8fdb\u5236\u8868\u73b0\uff1a</p>"},{"location":"99_%E5%AE%9E%E8%B7%B5/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/%E6%B5%AE%E7%82%B9%E6%95%B0%E8%BF%90%E7%AE%97%E9%97%AE%E9%A2%98/#1float","title":"1\u3001\u5b58\u50a8\u5728float\u4e2d","text":"<p>EAX\u4e2d\u768432\u4f4d\u503c\u4f1a\u88ab\u52a0\u8f7d\u7ed9\u6808\u4e0afloat\u53d8\u91cf\u768432\u4f4d\uff0c\u8fd9\u91cc\u7531\u4e8e\u6700\u4f4e\u4f4d\u662f1\uff0c\u4f1a\u53d1\u751f\u8fdb\u4f4d\u820d\u5165\uff0c\u6240\u4ee5float\u53d8\u91cf\u7684\u5b58\u50a8\u662f\uff1a</p> <p>01000001 01010000 00000000 00000000</p> <p>\u8fd9\u4e2a\u503c\u662f\u6700\u7ec8\u7a0b\u5e8f\u7528\u5230\u7684\u503c\uff1a \\(2^3 x (1 + 2^{-1} + 2^{-3}) = 8 * 1.625 = 13\\)</p> <p>\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u7b2c\u4e8c\u79cd\u5199\u6cd5\u5f97\u5230\u6b63\u786e\u7ed3\u679c\u7684\u539f\u56e0\uff0c 12.99999904632568359375 \u5148\u5b58\u5165float\u53d8\u91cf\uff0c\u53d1\u751f\u4e86\u8fdb\u4f4d\u820d\u5165\u53d8\u4e3a\u4e86 13 \uff0c\u518d\u5f3a\u8f6c long \u65f6\uff0c\u5c0f\u6570\u622a\u65ad\u5b8c\u4ecd\u7136\u662f 13</p>"},{"location":"99_%E5%AE%9E%E8%B7%B5/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/%E6%B5%AE%E7%82%B9%E6%95%B0%E8%BF%90%E7%AE%97%E9%97%AE%E9%A2%98/#2intlong","title":"2\u3001\u5b58\u50a8\u5728int\u6216\u8005long\u4e2d","text":"<p>\u6d6e\u70b9\u6570\u8f6c\u6574\u578b\uff0c\u4f1a\u76f4\u63a5\u53d1\u751f\u5c0f\u6570\u622a\u65ad\uff0c\u4e5f\u5c31\u662f\u76f4\u63a5\u820d\u5f03\u6240\u6709\u5c0f\u6570\u70b9\u540e\u7684\u503c\uff0c 12.99999904632568359375 \u76f4\u63a5\u622a\u65ad\u4e3a 12\uff0c\u8fd9\u4e5f\u662f\u7b2c\u4e00\u79cd\u5199\u6cd5\u53d1\u751f\u7cbe\u5ea6\u4e22\u5931\u7684\u539f\u56e0</p>"},{"location":"99_%E5%AE%9E%E8%B7%B5/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/%E6%B5%AE%E7%82%B9%E6%95%B0%E8%BF%90%E7%AE%97%E9%97%AE%E9%A2%98/#3double","title":"3\u3001\u5b58\u50a8\u5728double\u4e2d","text":"<p>\u7531\u4e8e double \u548c float \u7684\u9636\u7801\u4f4d\u548c\u5c3e\u6570\u4f4d\u4e0d\u4e00\u6837\uff0c\u6240\u4ee5 8 \u4f4d\u7684\u9636\u7801\u4f1a\u91cd\u65b0\u8ba1\u7b97\u6210 11 \u4f4d\u9636\u7801\uff0c\u7136\u540e 23 \u4f4d fraction \u4f1a\u5b58\u50a8\u5728 52 \u4f4d fraction \u4e2d\uff0c\u4e0d\u8db3\u7684\u4f4e\u4f4d\u7528 0 \u5e03\u6ee1\uff0c\u6240\u4ee5 double \u53d8\u91cf\u7684\u5b58\u50a8\u662f\u8fd9\u6837\uff1a</p> <p>01000000 00101001 11111111 11111111</p> <p>11111100 00000000 00000000 00000000</p> <p>\u8fd9\u4e2a\u503c\u662f\uff1a 12.99999988079071044921875</p> <p>\u6240\u4ee5\u7406\u8bba\u4e0a\uff0c\u5982\u679c\u6211\u4eec\u5728\u5f3a\u8f6c long \u4e4b\u524d\u4e0d\u662f\u7528 float \u53bb\u5b58\u800c\u662f\u7528 double \u5b58\uff0c\u4e5f\u4f1a\u88ab\u622a\u65ad\u4e3a 12 \uff0c\u6211\u4eec\u9a8c\u8bc1\u4e0b\uff1a</p> <p></p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7b2c\u4e00\u79cd\u5199\u6cd5\u548c\u7b2c\u4e09\u79cd\u5199\u6cd5\u5bfc\u81f4\u7cbe\u5ea6\u4e22\u5931\u7684\u539f\u56e0\u5e76\u4e0d\u4e00\u6837\u3002\u7b2c\u4e00\u79cd\u662f\u56e0\u4e3a\u7d2f\u52a0\u5668\u7684\u503c\u76f4\u63a5\u622a\u65ad\u4e86\uff1b\u7b2c\u4e09\u79cd\u662f\u56e0\u4e3a double \u5b58\u50a8\uff0c\u6ca1\u6709\u53d1\u751f\u8fdb\u4f4d\uff0c\u540c\u65f6\u4e5f\u88ab\u622a\u65ad\u4e86\u3002</p>"},{"location":"99_%E5%AE%9E%E8%B7%B5/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/%E6%B5%AE%E7%82%B9%E6%95%B0%E8%BF%90%E7%AE%97%E9%97%AE%E9%A2%98/#_4","title":"\u56db\u3001\u603b\u7ed3","text":"<p>\u4e2a\u4eba\u8ba4\u4e3a\uff0c\u5176\u5b9e\u4ece\u6d6e\u70b9\u6570\u7684\u8bbe\u8ba1\u6765\u770b\uff0c\u7cbe\u5ea6\u4e22\u5931\u65e0\u6cd5\u907f\u514d\u3002\u5982\u679c\u7a0b\u5e8f\u5bf9\u7cbe\u5ea6\u6709\u8981\u6c42\uff0c\u6700\u597d\u662f\u901a\u8fc7\u6574\u578b\u5b58\u50a8\u4e00\u4e2a\u653e\u5927\u7684\u503c\u6765\u5904\u7406\u3002\u5982\u679c\u7cbe\u5ea6\u8981\u6c42\u9ad8\uff0c float \u65e0\u6cd5\u5b8c\u6210\u4efb\u52a1\uff0c\u9009\u62e9\u4f7f\u7528 double</p>"},{"location":"99_%E5%AE%9E%E8%B7%B5/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/%E8%AE%B0%E4%B8%80%E6%AC%A1%E8%AF%AD%E8%A8%80%E8%A1%A8%E7%9A%84%E5%8F%8D%E5%90%91%E4%BC%98%E5%8C%96/","title":"\u8bb0\u4e00\u6b21\u8bed\u8a00\u8868\u7684\u53cd\u5411\u4f18\u5316","text":"<p>\u8fd9\u662f\u6700\u8fd1\u5de5\u4f5c\u4e2d\u9047\u5230\u7684\u4e00\u4e2a\u95ee\u9898\uff0c\u4f18\u5316\u4e0b\u6765\u53d1\u73b0\u4e0d\u5982\u4e0d\u4f18\u5316\uff0c\u4f46\u8fd8\u662f\u6709\u6240\u53d1\u73b0\uff0c\u56e0\u6b64\u8bb0\u5f55\u4e00\u4e0b\u3002</p>"},{"location":"99_%E5%AE%9E%E8%B7%B5/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/%E8%AE%B0%E4%B8%80%E6%AC%A1%E8%AF%AD%E8%A8%80%E8%A1%A8%E7%9A%84%E5%8F%8D%E5%90%91%E4%BC%98%E5%8C%96/#_1","title":"\u8bed\u8a00\u8868\u8fc7\u5927","text":"<p>\u76ee\u524d\u9879\u76ee\u4e2d\u7684\u65b9\u6848\u662f\u4ece\u7b56\u5212\u5bfc\u51fa\u7684 txt \u6587\u4ef6\u89e3\u6790\u4e3a lua.txt \u6587\u4ef6\uff0c\u6700\u540e\u901a\u8fc7 luac \u7f16\u8bd1\u4e3a\u4e8c\u8fdb\u5236\u6587\u4ef6\u4f7f\u7528\u3002</p> Language.txt<pre><code>ID  zh-CN   zh-TW   en  th  vi  es\nkey1    \u54c8\u54c8\u54c8 hahaha  hahaha  hahaha  hahaha  hahaha\nkey2    \u554a\u554a\u554a aaa aaa aaa aaa aaa\n...\n</code></pre> <p>\u9879\u76ee\u4e2d\u7684\u8bed\u8a00\u8868\u7ed3\u6784\u540c\u4e0a\u9762\uff08\u5ffd\u7565\u4e0a\u9762\u7684\u8bed\u8a00\u5185\u5bb9\uff09\uff0c\u56e0\u4e3a\u6709\u591a\u8bed\u8a00\uff0c\u5c06\u975e <code>ID</code> \u8fd9\u4e00\u5217\u6bcf\u4e00\u5217\u5355\u72ec\u89e3\u6790\u4e3a\u4e86\u4e00\u4e2a\u8bed\u79cd\u5bf9\u5e94\u7684\u6587\u4ef6\u3002\u4e8e\u662f\u5f97\u5230\u4e86 6 \u4efd\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u7684\u5185\u5bb9\u76f8\u5f53\u4e8e\u5b58\u4e86\u5927\u91cf\u7684 key-value \uff0ckey \u662f Id \uff0cvalue \u662f\u8bed\u8a00\u5185\u5bb9\uff0c\u4f46\u95ee\u9898\u4e0d\u5728\u6b64\uff0c\u8fd9\u53ea\u662f\u524d\u7f6e\u8bf4\u660e\u3002</p> <p>\u6838\u5fc3\u95ee\u9898\u5728\u4e8e\uff0c\u751f\u6210\u7684 <code>.lua.txt</code> \u6bcf\u4e00\u884c\u5bf9\u5e94\u7684 value \u53d1\u751f\u4e86\u5927\u91cf\u91cd\u590d\uff0c\u6bd4\u5982 key1001\u3001key2001\u3001key8993 \u4e09\u4e2a key \u5bf9\u5e94\u7684\u8bed\u8a00\u5305\u5185\u5bb9\u4e00\u6a21\u4e00\u6837\uff1a</p> Text Only<pre><code>return {\n    ...\n    [\"key1001\"]=\"\u6bcf\u5929\u51cc\u6668\u4e94\u70b9\u5237\u65b0\",\n    ...\n    [\"key2001\"]=\"\u6bcf\u5929\u51cc\u6668\u4e94\u70b9\u5237\u65b0\",\n    ...\n    [\"key8993\"]=\"\u6bcf\u5929\u51cc\u6668\u4e94\u70b9\u5237\u65b0\",\n    ...\n}\n</code></pre> <p>\u6574\u4e2a\u8bed\u8a00\u5305\u5145\u65a5\u7740\u5927\u91cf\u8fd9\u6837\u91cd\u590d\u7684\u60c5\u51b5\uff0c\u52a0\u4e0a\u672c\u8eab\u8bed\u8a00\u5305\u7684\u7269\u7406\u5927\u5c0f\u5f88\u5927\uff08\u8d85 6w \u884c\uff0c\u63a5\u8fd1 20 M\uff09\uff0c\u6240\u4ee5\u840c\u751f\u4e86\u60f3\u6cd5\u53bb\u4f18\u5316\u5b83\u7684\u5185\u5bb9\uff0c\u51cf\u5c0f\u6587\u4ef6\u7684\u7269\u7406\u5927\u5c0f\uff0c\u8ba4\u4e3a\u8fd9\u6837\u7f16\u8bd1\u51fa\u6765\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4f1a\u8ddf\u7740\u53d8\u5c0f\u3002</p>"},{"location":"99_%E5%AE%9E%E8%B7%B5/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/%E8%AE%B0%E4%B8%80%E6%AC%A1%E8%AF%AD%E8%A8%80%E8%A1%A8%E7%9A%84%E5%8F%8D%E5%90%91%E4%BC%98%E5%8C%96/#_2","title":"\u65b9\u6848","text":"Text Only<pre><code>local t = {\n    \"\u7b49\u4f1a\u6492u\u6d3b\u52a8\u524d\u671f\u7ea2\u554a\u79d1\",\n    \"\u6bcf\u5929\u51cc\u6668\u4e94\u70b9\u5237\u65b0\",\n    ...\n}\n\nreturn {\n    [\"key1000\"]=\"\u4f46\u662f\u5676\u5bc4\u5feb\u9012\u54c8\u5361\",\n    [\"key1001\"]=t[2],\n    ...\n    [\"key2001\"]=t[2],\n    ...\n    [\"key8993\"]=t[2],\n    ...\n}\n</code></pre> <p>\u89e3\u6790\u751f\u6210\u7684 <code>.lua.txt</code> \u6587\u4ef6\u7ed3\u6784\u53d8\u6210\u4e86\u8fd9\u6837\uff0c\u672c\u4ee5\u4e3a\u8fd9\u6837 <code>.lua.txt</code> \u548c \u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u7269\u7406\u5927\u5c0f\u90fd\u4f1a\u53d8\u5c0f\uff0c\u4f46\u7ed3\u679c\u51fa\u4e4e\u610f\u6599\u5374\u53c8\u5728\u610f\u6599\u4e4b\u4e2d\uff1a<code>.lua.txt</code> \u6587\u4ef6\u7684\u5927\u5c0f\u786e\u5b9e\u5c0f\u4e86 30% \u5de6\u53f3\uff0c\u4f46\u4e8c\u8fdb\u5236\u6587\u4ef6\u53cd\u800c\u53d8\u5927\u4e86 10% \u5de6\u53f3\u3002\u8fd9\u4e5f\u53cd\u6620\u4e86\u6211\u6240\u5ffd\u7565\u7684\u4e8b\u5b9e\uff1a luac \u5bf9 lua \u4ee3\u7801\u6587\u4ef6\u7684\u7f16\u8bd1\u672c\u6765\u5c31\u505a\u4e86\u5b57\u7b26\u5e38\u91cf\u7684\u53bb\u91cd\uff0c\u523b\u610f\u53bb\u505a\u5e38\u91cf\u63d0\u53d6\u6548\u679c\u9002\u5f97\u5176\u53cd\u3002</p> <p></p> <p>\u53f3\u8fb9\u662f\u4f18\u5316\u540e\u7684\u7ed3\u679c</p> <p>\u53e6\u5916\uff0c\u65b0\u65b9\u6848\u4e2d\u5728\u6267\u884c\u65f6\uff0c\u53ef\u80fd\u7531\u4e8e\u989d\u5916\u5206\u914d\u4e86\u4e00\u4e2a\u8868 t \u7684\u7a7a\u95f4\u4ee5\u53ca\u4e00\u4e9b\u5bf9\u4e0a\u503c\u7684\u8bbf\u95ee\uff0c\u5185\u5b58\u5360\u7528\u4e0a\u9762\u53cd\u800c\u4e0a\u6da8\u4e86 0.14 M\uff1a</p> <p></p> <p>Lua Profiler \u5185\u5b58\u5360\u7528\u5bf9\u6bd4</p>"},{"location":"99_%E5%AE%9E%E8%B7%B5/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/%E8%AE%B0%E4%B8%80%E6%AC%A1%E8%AF%AD%E8%A8%80%E8%A1%A8%E7%9A%84%E5%8F%8D%E5%90%91%E4%BC%98%E5%8C%96/#_3","title":"\u7ed3\u8bba","text":"<ul> <li>\u5728\u4f18\u5316\u6587\u4ef6\u5927\u5c0f\u65f6\uff0c\u7f16\u8bd1\u5e26\u6765\u7684\u538b\u7f29\u6548\u7387\u9700\u8981\u8003\u8651\u8fdb\u53bb\uff0c\u800c\u4e0d\u662f\u53ea\u8003\u8651\u660e\u6587\u7684\u6587\u4ef6\u5185\u5bb9\uff08\u660e\u6587\u66f4\u5c0f\u4e0d\u4ee3\u8868\u4e8c\u8fdb\u5236\u5c31\u66f4\u5c0f\uff09</li> <li>\u6562\u4e8e\u5c1d\u8bd5 + \u5404\u65b9\u9762\u4e25\u683c\u6d4b\u7b97\uff0c\u8bf4\u4e0d\u5b9a\u4f1a\u6709\u66f4\u6df1\u4e00\u4e9b\u7684\u9886\u609f</li> </ul>"},{"location":"blog/","title":"Blog","text":""},{"location":"blog/#blog","title":"Blog","text":""},{"location":"blog/tags/","title":"Tags","text":""},{"location":"blog/tags/#tags","title":"Tags","text":""},{"location":"blog/tags/#tag:mkdocs","title":"mkdocs","text":"<ul> <li>            \u4f7f\u7528\u6a21\u677f          </li> </ul>"},{"location":"blog/author/peiyuzou/","title":"peiyuzou","text":""},{"location":"blog/author/peiyuzou/#peiyuzou","title":"peiyuzou","text":"<p>Relax and treat life as a game</p>"},{"location":"blog/2023/12/31/happy-new-years-eve/","title":"Happy new years eve!!!!!","text":""},{"location":"blog/2023/12/31/happy-new-years-eve/#happy-new-years-eve","title":"Happy new years eve!!!!!","text":"<p>\u6d4b\u8bd5\u4e00\u4e0b\u529f\u80fd</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p> Method Description <code>GET</code>      Fetch resource <code>PUT</code>  Update resource <code>DELETE</code>      Delete resource Fruit Amount Apple 20 Peach 10 Banana 3 Watermelon 1 <p>Fruit Amount</p> C#<pre><code>public enum ETriggerBroadcast\n{\n    /// &lt;summary&gt;\n    /// \u6210\u5458\u5c5e\u6027\u66f4\u65b0\n    /// &lt;/summary&gt;\n    MemberShow = 1,\n    /// &lt;summary&gt;\n    /// \u526f\u672c\u5f00\u59cb\n    /// &lt;/summary&gt;\n    DungeonStart = 2,\n    /// &lt;summary&gt;\n    /// \u526f\u672c\u7ed3\u675f\n    /// &lt;/summary&gt;\n    DungeonFinish = 3,\n    /// &lt;summary&gt;\n    /// \u6548\u679c\u89e6\u53d1\n    /// &lt;/summary&gt;\n    Effect = 4,\n    /// &lt;summary&gt;\n    /// \u9636\u6bb5\u9884\u70ed\n    /// &lt;/summary&gt;\n    StageWarmUp = 5,\n    /// &lt;summary&gt;\n    /// \u526f\u672c\u5956\u52b1\n    /// &lt;/summary&gt;\n    Award = 6,\n}\n</code></pre>"},{"location":"blog/2023/12/31/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E6%B5%8B%E8%AF%95/","title":"\u7b2c\u4e8c\u6b21\u6d4b\u8bd5","text":""},{"location":"blog/2023/12/31/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E6%B5%8B%E8%AF%95/#_1","title":"\u7b2c\u4e8c\u6b21\u6d4b\u8bd5","text":"<p>\u6d4b\u8bd5\u4e00\u4e0b\u529f\u80fd\uff0c\u5927\u6982\u65f6\u95f4\u5361\u6d3b\u52a8\u51ef\u6492\u9ec4\u91d1\u5361\u6237\u7c4d\u5361\u4f1a\u5c3d\u5feb\u5f88\u7b80\u5355\u6492\u8c0e\u5f00\u5927\u516c\u53f8\u79d1\u6280\u963f\u53e4\u6735\u5580\u4ec0\u6253\u5361\u673a\u5237\u5361\u673a\u7b49\u54c8\u5c31\u6492\u597d\u5361\u5fb7\u54c8\u5361\u53d7\u6253\u51fb\u82b1\u6d12\u79d1\u6280\u5fb7\u54c8\u5361\u624b\u673a\u5361\u5fb7\u54c8\u5361\u6492\u597d\u5361\u5fb7\u54c8\u5361\u624b\u6253\u91d1\u5361\u534e\u4e1c\u6570\u63a7\u4e45\u554a\u56de\u5230\u5bb6\u6492\u5fb7\u54c8\u5361\u82b1\u6d12\u6253\u54c8</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p>"},{"location":"blog/2023/12/31/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E6%B5%8B%E8%AF%95/#1","title":"1.\u7b2c\u4e00\u8282","text":"<p>\u54d2\u54d2\u54d2\u54d2\u54d2\u54d2\u5927\u70b9</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p>"},{"location":"blog/2023/12/31/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E6%B5%8B%E8%AF%95/#2","title":"2.\u7b2c\u4e8c\u8282","text":"<p>\u6492\u5927\u5927\u963f\u8fbe\u963f\u8fbe\u963f\u8fbe</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p>"},{"location":"blog/2023/12/31/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E6%B5%8B%E8%AF%95/#21","title":"2.1 \u4e8c\u4e00","text":"<p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p>"},{"location":"blog/2023/12/31/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E6%B5%8B%E8%AF%95/#22","title":"2.2 \u4e8c\u4e8c","text":"<p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p>"},{"location":"blog/2023/12/31/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E6%B5%8B%E8%AF%95/#3","title":"3.\u7b2c\u4e09\u8282","text":"<p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p> <p>Note</p> <p>\u7b2c\u4e00\u884c \u7b2c\u4e8c\u884c</p>"},{"location":"blog/archive/2023/","title":"\u5341\u4e8c\u6708 2023","text":""},{"location":"blog/archive/2023/#2023","title":"\u5341\u4e8c\u6708 2023","text":""}]}